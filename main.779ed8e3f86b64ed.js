"use strict";(self.webpackChunkice_cream_shop=self.webpackChunkice_cream_shop||[]).push([[179],{2011:(ne,G,A)=>{A.d(G,{hO:()=>Te,xv:()=>z,Dh:()=>Q,GT:()=>te,cc:()=>be,on:()=>F,pX:()=>U});var c=A(5e3),$=A(127),k=A(6351);ne=A.hmd(ne);const ee=["ngOnDestroy"],U=(he,je,Le,Ie={})=>new Proxy(he,{get:(ve,Ae)=>Le.runOutsideAngular(()=>{var qe;if(he[Ae])return(null===(qe=null==Ie?void 0:Ie.spy)||void 0===qe?void 0:qe.get)&&Ie.spy.get(Ae,he[Ae]),he[Ae];if(ee.indexOf(Ae)>-1)return()=>{};const Ze=je.toPromise().then(ce=>{const et=ce&&ce[Ae];return"function"==typeof et?et.bind(ce):et&&et.then?et.then(le=>Le.run(()=>le)):Le.run(()=>et)});return new Proxy(()=>{},{get:(ce,et)=>Ze[et],apply:(ce,et,le)=>Ze.then(ye=>{var ue;const Oe=ye&&ye(...le);return(null===(ue=null==Ie?void 0:Ie.spy)||void 0===ue?void 0:ue.apply)&&Ie.spy.apply(Ae,le,Oe),Oe})})})}),te=(he,je)=>{je.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ie=>{Object.defineProperty(he.prototype,Ie,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ie))})})};class W{constructor(je){return je}}const Q=new c.OlP("angularfire2.app.options"),z=new c.OlP("angularfire2.app.name");function F(he,je,Le){const ve="object"==typeof Le&&Le||{};ve.name=ve.name||"string"==typeof Le&&Le||"[DEFAULT]";const qe=$.Z.apps.filter(Ze=>Ze&&Ze.name===ve.name)[0]||je.runOutsideAngular(()=>$.Z.initializeApp(he,ve));try{JSON.stringify(he)!==JSON.stringify(qe.options)&&L("error",`${qe.name} Firebase App already initialized with different options${ne.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new W(qe)}const L=(he,...je)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...je)},q={provide:W,useFactory:F,deps:[Q,c.R0b,[new c.FiY,z]]};let Te=(()=>{class he{constructor(Le){$.Z.registerVersion("angularfire",k.q4.full,"core"),$.Z.registerVersion("angularfire",k.q4.full,"app-compat"),$.Z.registerVersion("angular",c.q4F.full,Le.toString())}static initializeApp(Le,Ie){return{ngModule:he,providers:[{provide:Q,useValue:Le},{provide:z,useValue:Ie}]}}}return he.\u0275fac=function(Le){return new(Le||he)(c.LFG(c.Lbi))},he.\u0275mod=c.oAB({type:he}),he.\u0275inj=c.cJS({providers:[q]}),he})();function be(he,je,Le,Ie,ve){const[,Ae,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===he)||[];if(Ae)return function xe(he,je){try{return he.toString()===je.toString()}catch(Le){return he===je}}(ve,qe)||(de("error",`${je} was already initialized on the ${Le} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:ve,was:qe})),Ae;{const Ze=Ie();return globalThis.\u0275AngularfireInstanceCache.push([he,Ze,ve]),Ze}}const ke=!!ne.hot,de=(he,...je)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ne,G,A)=>{A.d(G,{q4:()=>tr,iC:()=>ga,HU:()=>Ms,vb:()=>Ld,JM:()=>Df});var c=A(5e3),$=A(5867),k=A(5861),ee=A(9681),U=A(2090),te=A(4859),W=A(1877);const Q="@firebase/installations",z="0.5.8",L=`w:${z}`,q="FIS_v2",he=new U.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(D){return D instanceof U.ZR&&D.code.includes("request-failed")}function Le({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:le(D.expiresIn),creationTime:Date.now()}}function ve(D,T){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,k.Z)(function*(D,T){const B=(yield T.json()).error;return he.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function qe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ze(D,{refreshToken:T}){const R=qe(D);return R.append("Authorization",function ye(D){return`${q} ${D}`}(T)),R}function ce(D){return et.apply(this,arguments)}function et(){return(et=(0,k.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function le(D){return Number(D.replace("s","000"))}function ue(D,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:R}){const B=Le(D),se=qe(D),pe=T.getImmediate({optional:!0});if(pe){const St=yield pe.getHeartbeatsHeader();St&&se.append("x-firebase-client",St)}const it={method:"POST",headers:se,body:JSON.stringify({fid:R,authVersion:q,appId:D.appId,sdkVersion:L})},Ot=yield ce(()=>fetch(B,it));if(Ot.ok){const St=yield Ot.json();return{fid:St.fid||R,registrationStatus:2,refreshToken:St.refreshToken,authToken:Ie(St.authToken)}}throw yield ve("Create Installation",Ot)})).apply(this,arguments)}function Ce(D){return new Promise(T=>{setTimeout(T,D)})}const Mt=/^[cdef][\w-]{21}$/;function pn(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function Je(D){return function $e(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Mt.test(R)?R:""}catch(D){return""}}function tn(D){return`${D.appName}!${D.appId}`}const ir=new Map;function Pn(D,T){const R=tn(D);on(R,T),function nn(D,T){const R=function Rr(){return!$n&&"BroadcastChannel"in self&&($n=new BroadcastChannel("[Firebase] FID Change"),$n.onmessage=D=>{on(D.data.key,D.data.fid)}),$n}();R&&R.postMessage({key:D,fid:T}),function Ii(){0===ir.size&&$n&&($n.close(),$n=null)}()}(R,T)}function on(D,T){const R=ir.get(D);if(R)for(const B of R)B(T)}let $n=null;const wr="firebase-installations-store";let Li=null;function ti(){return Li||(Li=(0,U.X3)("firebase-installations-database",1,(D,T)=>{0===T&&D.createObjectStore(wr)})),Li}function ht(D,T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,k.Z)(function*(D,T){const R=tn(D),se=(yield ti()).transaction(wr,"readwrite"),pe=se.objectStore(wr),Ve=yield pe.get(R);return yield pe.put(T,R),yield se.complete,(!Ve||Ve.fid!==T.fid)&&Pn(D,T.fid),T})).apply(this,arguments)}function Gn(D){return sr.apply(this,arguments)}function sr(){return(sr=(0,k.Z)(function*(D){const T=tn(D),B=(yield ti()).transaction(wr,"readwrite");yield B.objectStore(wr).delete(T),yield B.complete})).apply(this,arguments)}function Cr(D,T){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(D,T){const R=tn(D),se=(yield ti()).transaction(wr,"readwrite"),pe=se.objectStore(wr),Ve=yield pe.get(R),it=T(Ve);return void 0===it?yield pe.delete(R):yield pe.put(it,R),yield se.complete,it&&(!Ve||Ve.fid!==it.fid)&&Pn(D,it.fid),it})).apply(this,arguments)}function En(D){return or.apply(this,arguments)}function or(){return(or=(0,k.Z)(function*(D){let T;const R=yield Cr(D.appConfig,B=>{const se=es(B),pe=wo(D,se);return T=pe.registrationPromise,pe.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function es(D){return Zt(D||{fid:pn(),registrationStatus:0})}function wo(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(he.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},B=function $t(D,T){return ct.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:B}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:At(D)}:{installationEntry:T}}function ct(){return(ct=(0,k.Z)(function*(D,T){try{const R=yield ue(D,T);return ht(D.appConfig,R)}catch(R){throw je(R)&&409===R.customData.serverCode?yield Gn(D.appConfig):yield ht(D.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function At(D){return ar.apply(this,arguments)}function ar(){return(ar=(0,k.Z)(function*(D){let T=yield gi(D.appConfig);for(;1===T.registrationStatus;)yield Ce(100),T=yield gi(D.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield En(D);return B||R}return T})).apply(this,arguments)}function gi(D){return Cr(D,T=>{if(!T)throw he.create("installation-not-found");return Zt(T)})}function Zt(D){return function ts(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Dr(D,T){return yr.apply(this,arguments)}function yr(){return(yr=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},R){const B=_t(D,R),se=Ze(D,R),pe=T.getImmediate({optional:!0});if(pe){const St=yield pe.getHeartbeatsHeader();St&&se.append("x-firebase-client",St)}const it={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:L,appId:D.appId}})},Ot=yield ce(()=>fetch(B,it));if(Ot.ok)return Ie(yield Ot.json());throw yield ve("Generate Auth Token",Ot)})).apply(this,arguments)}function _t(D,{fid:T}){return`${Le(D)}/${T}/authTokens:generate`}function vr(D){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,k.Z)(function*(D,T=!1){let R;const B=yield Cr(D.appConfig,pe=>{if(!Wt(pe))throw he.create("not-registered");const Ve=pe.authToken;if(!T&&Z(Ve))return pe;if(1===Ve.requestStatus)return R=nt(D,T),pe;{if(!navigator.onLine)throw he.create("app-offline");const it=X(pe);return R=yt(D,it),it}});return R?yield R:B.authToken})).apply(this,arguments)}function nt(D,T){return Re.apply(this,arguments)}function Re(){return(Re=(0,k.Z)(function*(D,T){let R=yield st(D.appConfig);for(;1===R.authToken.requestStatus;)yield Ce(100),R=yield st(D.appConfig);const B=R.authToken;return 0===B.requestStatus?vr(D,T):B})).apply(this,arguments)}function st(D){return Cr(D,T=>{if(!Wt(T))throw he.create("not-registered");return function we(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function yt(D,T){return zt.apply(this,arguments)}function zt(){return(zt=(0,k.Z)(function*(D,T){try{const R=yield Dr(D,T),B=Object.assign(Object.assign({},T),{authToken:R});return yield ht(D.appConfig,B),R}catch(R){if(!je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ht(D.appConfig,B)}else yield Gn(D.appConfig);throw R}})).apply(this,arguments)}function Wt(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function j(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function X(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Ye(){return(Ye=(0,k.Z)(function*(D){const T=D,{installationEntry:R,registrationPromise:B}=yield En(T);return B?B.catch(console.error):vr(T).catch(console.error),R.fid})).apply(this,arguments)}function un(){return(un=(0,k.Z)(function*(D,T=!1){const R=D;return yield Tr(R),(yield vr(R,T)).token})).apply(this,arguments)}function Tr(D){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(D){const{registrationPromise:T}=yield En(D);T&&(yield T)})).apply(this,arguments)}function lr(D){return he.create("missing-app-config-values",{valueName:D})}const Co="installations",Be=D=>{const T=D.getProvider("app").getImmediate(),R=function Vi(D){if(!D||!D.options)throw lr("App Configuration");if(!D.name)throw lr("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!D.options[R])throw lr(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,ee._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},jt=D=>{const T=D.getProvider("app").getImmediate(),R=(0,ee._getProvider)(T,Co).getImmediate();return{getId:()=>function ae(D){return Ye.apply(this,arguments)}(R),getToken:se=>function Et(D){return un.apply(this,arguments)}(R,se)}};(function Cn(){(0,ee._registerComponent)(new te.wA(Co,Be,"PUBLIC")),(0,ee._registerComponent)(new te.wA("installations-internal",jt,"PRIVATE"))})(),(0,ee.registerVersion)(Q,z),(0,ee.registerVersion)(Q,z,"esm2017");const dr="@firebase/remote-config",zn=new U.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yi{constructor(T,R,B,se){this.client=T,this.storage=R,this.storageCache=B,this.logger=se}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,se=B<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${se}.`),se}fetch(T){var R=this;return(0,k.Z)(function*(){const[B,se]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(se&&R.isCachedDataFresh(T.cacheMaxAgeMillis,B))return se;T.eTag=se&&se.eTag;const pe=yield R.client.fetch(T),Ve=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Ve.push(R.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Ve),pe})()}}function Nl(D=navigator){return D.languages&&D.languages[0]||D.language}class To{constructor(T,R,B,se,pe,Ve){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=B,this.projectId=se,this.apiKey=pe,this.appId=Ve}fetch(T){var R=this;return(0,k.Z)(function*(){const[B,se]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ot={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:se,app_id:R.appId,language_code:Nl()},St={method:"POST",headers:it,body:JSON.stringify(Ot)},Qt=fetch(Ve,St),Ft=new Promise((Yr,ds)=>{T.signal.addEventListener(()=>{const rc=new Error("The operation was aborted.");rc.name="AbortError",ds(rc)})});let Zr;try{yield Promise.race([Qt,Ft]),Zr=yield Qt}catch(Yr){let ds="fetch-client-network";throw"AbortError"===Yr.name&&(ds="fetch-timeout"),zn.create(ds,{originalErrorMessage:Yr.message})}let cn=Zr.status;const Ja=Zr.headers.get("ETag")||void 0;let Vo,uo;if(200===Zr.status){let Yr;try{Yr=yield Zr.json()}catch(ds){throw zn.create("fetch-client-parse",{originalErrorMessage:ds.message})}Vo=Yr.entries,uo=Yr.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?cn=500:"NO_CHANGE"===uo?cn=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(Vo={}),304!==cn&&200!==cn)throw zn.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:Ja,config:Vo}})()}}class _m{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,k.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,B)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:B}){var se=this;return(0,k.Z)(function*(){yield function Wn(D,T){return new Promise((R,B)=>{const se=Math.max(T-Date.now(),0),pe=setTimeout(R,se);D.addEventListener(()=>{clearTimeout(pe),B(zn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const pe=yield se.client.fetch(T);return yield se.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function Ed(D){if(!(D instanceof U.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(pe))throw pe;const Ve={throttleEndTimeMillis:Date.now()+(0,U.$s)(B),backoffCount:B+1};return yield se.storage.setThrottleMetadata(Ve),se.attemptFetch(T,Ve)}})()}}class ji{constructor(T,R,B,se,pe){this.app=T,this._client=R,this._storageCache=B,this._storage=se,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jc(D,T){const R=D.target.error||void 0;return zn.create(T,{originalErrorMessage:R&&R.message})}const zs="app_namespace_store";class Em{constructor(T,R,B,se=function bm(){return new Promise((D,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{T(Jc(B,"storage-open"))},R.onsuccess=B=>{D(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(zs,{keyPath:"compositeKey"})}}catch(R){T(zn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=B,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((se,pe)=>{const it=B.transaction([zs],"readonly").objectStore(zs),Ot=R.createCompositeKey(T);try{const St=it.get(Ot);St.onerror=Qt=>{pe(Jc(Qt,"storage-get"))},St.onsuccess=Qt=>{const Ft=Qt.target.result;se(Ft?Ft.value:void 0)}}catch(St){pe(zn.create("storage-get",{originalErrorMessage:St&&St.message}))}})})()}set(T,R){var B=this;return(0,k.Z)(function*(){const se=yield B.openDbPromise;return new Promise((pe,Ve)=>{const Ot=se.transaction([zs],"readwrite").objectStore(zs),St=B.createCompositeKey(T);try{const Qt=Ot.put({compositeKey:St,value:R});Qt.onerror=Ft=>{Ve(Jc(Ft,"storage-set"))},Qt.onsuccess=()=>{pe()}}catch(Qt){Ve(zn.create("storage-set",{originalErrorMessage:Qt&&Qt.message}))}})})()}delete(T){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((se,pe)=>{const it=B.transaction([zs],"readwrite").objectStore(zs),Ot=R.createCompositeKey(T);try{const St=it.delete(Ot);St.onerror=Qt=>{pe(Jc(Qt,"storage-delete"))},St.onsuccess=()=>{se()}}catch(St){pe(zn.create("storage-delete",{originalErrorMessage:St&&St.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Cd{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const R=T.storage.getLastFetchStatus(),B=T.storage.getLastSuccessfulFetchTimestampMillis(),se=T.storage.getActiveConfig(),pe=yield R;pe&&(T.lastFetchStatus=pe);const Ve=yield B;Ve&&(T.lastSuccessfulFetchTimestampMillis=Ve);const it=yield se;it&&(T.activeConfig=it)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Io(){return mf.apply(this,arguments)}function mf(){return(mf=(0,k.Z)(function*(){if(!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch(D){return!1}})).apply(this,arguments)}!function sa(){(0,ee._registerComponent)(new te.wA("remote-config",function D(T,{instanceIdentifier:R}){const B=T.getProvider("app").getImmediate(),se=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw zn.create("registration-window");if(!(0,U.hl)())throw zn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Ve,appId:it}=B.options;if(!pe)throw zn.create("registration-project-id");if(!Ve)throw zn.create("registration-api-key");if(!it)throw zn.create("registration-app-id");const Ot=new Em(it,B.name,R=R||"firebase"),St=new Cd(Ot),Qt=new W.Yd(dr);Qt.logLevel=W.in.ERROR;const Ft=new To(se,ee.SDK_VERSION,R,pe,Ve,it),Zr=new _m(Ft,Ot),cn=new yi(Zr,Ot,St,Qt),Ja=new ji(B,cn,St,Ot,Qt);return function fe(D){const T=(0,U.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ja),Ja},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(dr,"0.3.7"),(0,ee.registerVersion)(dr,"0.3.7","esm2017")}();const Xc="/firebase-messaging-sw.js",Ws="/firebase-cloud-messaging-push-scope",vi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ao="google.c.a.c_id",ja="google.c.a.c_l",Dd="google.c.a.ts",wm="google.c.a.e";var qs=(()=>{return(D=qs||(qs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",qs;var D})();function Ai(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ll(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),se=new Uint8Array(B.length);for(let pe=0;pe<B.length;++pe)se[pe]=B.charCodeAt(pe);return se}const Vl="fcm_token_details_db",Nr="fcm_token_object_Store";function gf(D){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Vl))return null;let T=null;return(yield(0,U.X3)(Vl,5,function(){var B=(0,k.Z)(function*(se,pe,Ve,it){var Ot;if(pe<2||!se.objectStoreNames.contains(Nr))return;const St=it.objectStore(Nr),Qt=yield St.index("fcmSenderId").get(D);if(yield St.clear(),Qt)if(2===pe){const Ft=Qt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;T={token:Ft.fcmToken,createTime:null!==(Ot=Ft.createTime)&&void 0!==Ot?Ot:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:Ai(Ft.vapidKey)}}}else if(3===pe){const Ft=Qt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Ai(Ft.auth),p256dh:Ai(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Ai(Ft.vapidKey)}}}else if(4===pe){const Ft=Qt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Ai(Ft.auth),p256dh:Ai(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Ai(Ft.vapidKey)}}}});return function(se,pe,Ve,it){return B.apply(this,arguments)}}())).close(),yield(0,U.Lj)(Vl),yield(0,U.Lj)("fcm_vapid_details_db"),yield(0,U.Lj)("undefined"),Td(T)?T:null}),Bl.apply(this,arguments)}function Td(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ws="firebase-messaging-store";let Ha=null;function eu(){return Ha||(Ha=(0,U.X3)("firebase-messaging-database",1,(D,T)=>{0===T&&D.createObjectStore(ws)})),Ha}function On(D){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(D){const T=Mo(D),B=yield(yield eu()).transaction(ws).objectStore(ws).get(T);if(B)return B;{const se=yield gf(D.appConfig.senderId);if(se)return yield Ks(D,se),se}})).apply(this,arguments)}function Ks(D,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(D,T){const R=Mo(D),se=(yield eu()).transaction(ws,"readwrite");return yield se.objectStore(ws).put(T,R),yield se.complete,T})).apply(this,arguments)}function Id(D){return So.apply(this,arguments)}function So(){return(So=(0,k.Z)(function*(D){const T=Mo(D),B=(yield eu()).transaction(ws,"readwrite");yield B.objectStore(ws).delete(T),yield B.complete})).apply(this,arguments)}function Mo({appConfig:D}){return D.appId}const cr=new U.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $a(D,T){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(D,T){const R=yield Ys(D),B=bt(T),se={method:"POST",headers:R,body:JSON.stringify(B)};let pe;try{pe=yield(yield fetch(bi(D.appConfig),se)).json()}catch(Ve){throw cr.create("token-subscribe-failed",{errorInfo:Ve})}if(pe.error)throw cr.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw cr.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Gr(D,T){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,k.Z)(function*(D,T){const R=yield Ys(D),B=bt(T.subscriptionOptions),se={method:"PATCH",headers:R,body:JSON.stringify(B)};let pe;try{pe=yield(yield fetch(`${bi(D.appConfig)}/${T.token}`,se)).json()}catch(Ve){throw cr.create("token-update-failed",{errorInfo:Ve})}if(pe.error)throw cr.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw cr.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Cs(D,T){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,k.Z)(function*(D,T){const B={method:"DELETE",headers:yield Ys(D)};try{const pe=yield(yield fetch(`${bi(D.appConfig)}/${T}`,B)).json();if(pe.error)throw cr.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(se){throw cr.create("token-unsubscribe-failed",{errorInfo:se})}})).apply(this,arguments)}function bi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ys(D){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,k.Z)(function*({appConfig:D,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function bt({p256dh:D,auth:T,endpoint:R,vapidKey:B}){const se={web:{endpoint:R,auth:T,p256dh:D}};return B!==vi&&(se.web.applicationPubKey=B),se}const $l=6048e5;function Ga(D){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,k.Z)(function*(D){const T=yield ru(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Ai(T.getKey("auth")),p256dh:Ai(T.getKey("p256dh"))},B=yield On(D.firebaseDependencies);if(B){if(la(B.subscriptionOptions,R))return Date.now()>=B.createTime+$l?tu(D,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Cs(D.firebaseDependencies,B.token)}catch(se){console.warn(se)}return Pe(D.firebaseDependencies,R)}return Pe(D.firebaseDependencies,R)})).apply(this,arguments)}function zl(D){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,k.Z)(function*(D){const T=yield On(D.firebaseDependencies);T&&(yield Cs(D.firebaseDependencies,T.token),yield Id(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function tu(D,T){return nu.apply(this,arguments)}function nu(){return(nu=(0,k.Z)(function*(D,T){try{const R=yield Gr(D.firebaseDependencies,T),B=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield Ks(D.firebaseDependencies,B),R}catch(R){throw yield zl(D),R}})).apply(this,arguments)}function Pe(D,T){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,k.Z)(function*(D,T){const B={token:yield $a(D,T),createTime:Date.now(),subscriptionOptions:T};return yield Ks(D,B),B.token})).apply(this,arguments)}function ru(D,T){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,k.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ll(T)})})).apply(this,arguments)}function la(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function ca(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ei(D,T){if(!T.notification)return;D.notification={};const R=T.notification.title;R&&(D.notification.title=R);const B=T.notification.body;B&&(D.notification.body=B);const se=T.notification.image;se&&(D.notification.image=se)}(T,D),function iu(D,T){!T.data||(D.data=T.data)}(T,D),function su(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const R=T.fcmOptions.link;R&&(D.fcmOptions.link=R);const B=T.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(T,D),T}function Ad(D){return"object"==typeof D&&!!D&&Ao in D}function ou(D,T){const R=[];for(let B=0;B<D.length;B++)R.push(D.charAt(B)),B<T.length&&R.push(T.charAt(B));return R.join("")}function Js(D){return cr.create("missing-app-config-values",{valueName:D})}ou("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ou("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fr{constructor(T,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function ql(D){if(!D||!D.options)throw Js("App Configuration Object");if(!D.name)throw Js("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const B of T)if(!R[B])throw Js(B);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:se,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Si(D){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Xc,{scope:Ws}),D.swRegistration.update().catch(()=>{})}catch(T){throw cr.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Xs(D,T){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,k.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Si(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw cr.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function au(D,T){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,k.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=vi)})).apply(this,arguments)}function lu(){return(lu=(0,k.Z)(function*(D,T){if(!navigator)throw cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cr.create("permission-blocked");return yield au(D,null==T?void 0:T.vapidKey),yield Xs(D,null==T?void 0:T.serviceWorkerRegistration),Ga(D)})).apply(this,arguments)}function za(D,T,R){return ua.apply(this,arguments)}function ua(){return(ua=(0,k.Z)(function*(D,T,R){const B=cu(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Ao],message_name:R[ja],message_time:R[Dd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cu(D){switch(D){case qs.NOTIFICATION_CLICKED:return"notification_open";case qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Sd(){return(Sd=(0,k.Z)(function*(D,T){const R=T.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===qs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ca(R)):D.onMessageHandler.next(ca(R)));const B=R.data;Ad(B)&&"1"===B[wm]&&(yield za(D,R.messageType,B))})).apply(this,arguments)}const du="@firebase/messaging",Md=D=>{const T=new Fr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function uu(D,T){return Sd.apply(this,arguments)}(T,R)),T},Oo=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:B=>function Yl(D,T){return lu.apply(this,arguments)}(T,B)}};function Od(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,k.Z)(function*(){try{yield(0,U.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,U.hl)()&&(0,U.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xd(){(0,ee._registerComponent)(new te.wA("messaging",Md,"PUBLIC")),(0,ee._registerComponent)(new te.wA("messaging-internal",Oo,"PRIVATE")),(0,ee.registerVersion)(du,"0.9.12"),(0,ee.registerVersion)(du,"0.9.12","esm2017")}();const fu="analytics",ey="firebase_id",Wa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ql="https://www.googletagmanager.com/gtag/js",hr=new W.Yd("@firebase/analytics");function Rd(D){return Promise.all(D.map(T=>T.catch(R=>R)))}function Cm(D,T){const R=document.createElement("script");R.src=`${Ql}?l=${D}&id=${T}`,R.async=!0,document.head.appendChild(R)}function da(D,T,R,B,se,pe){return kd.apply(this,arguments)}function kd(){return(kd=(0,k.Z)(function*(D,T,R,B,se,pe){const Ve=B[se];try{if(Ve)yield T[Ve];else{const Ot=(yield Rd(R)).find(St=>St.measurementId===se);Ot&&(yield T[Ot.appId])}}catch(it){hr.error(it)}D("config",se,pe)})).apply(this,arguments)}function mu(D,T,R,B,se){return ko.apply(this,arguments)}function ko(){return(ko=(0,k.Z)(function*(D,T,R,B,se){try{let pe=[];if(se&&se.send_to){let Ve=se.send_to;Array.isArray(Ve)||(Ve=[Ve]);const it=yield Rd(R);for(const Ot of Ve){const St=it.find(Ft=>Ft.measurementId===Ot),Qt=St&&T[St.appId];if(!Qt){pe=[];break}pe.push(Qt)}}0===pe.length&&(pe=Object.values(T)),yield Promise.all(pe),D("event",B,se||{})}catch(pe){hr.error(pe)}})).apply(this,arguments)}function Dm(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Ql))return T;return null}const bn=new U.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),no=new class gu{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ro(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function ii(D){return kt.apply(this,arguments)}function kt(){return(kt=(0,k.Z)(function*(D){var T;const{appId:R,apiKey:B}=D,se={method:"GET",headers:ro(B)},pe=Wa.replace("{app-id}",R),Ve=yield fetch(pe,se);if(200!==Ve.status&&304!==Ve.status){let it="";try{const Ot=yield Ve.json();(null===(T=Ot.error)||void 0===T?void 0:T.message)&&(it=Ot.error.message)}catch(Ot){}throw bn.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:it})}return Ve.json()})).apply(this,arguments)}function Dt(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,k.Z)(function*(D,T=no,R){const{appId:B,apiKey:se,measurementId:pe}=D.options;if(!B)throw bn.create("no-app-id");if(!se){if(pe)return{measurementId:pe,appId:B};throw bn.create("no-api-key")}const Ve=T.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Mi;return setTimeout((0,k.Z)(function*(){it.abort()}),void 0!==R?R:6e4),Po({appId:B,apiKey:se,measurementId:pe},Ve,it,T)})).apply(this,arguments)}function Po(D,T,R){return io.apply(this,arguments)}function io(){return(io=(0,k.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:R},B,se=no){const{appId:pe,measurementId:Ve}=D;try{yield Jl(B,T)}catch(it){if(Ve)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:pe,measurementId:Ve};throw it}try{const it=yield ii(D);return se.deleteThrottleMetadata(pe),it}catch(it){if(!Xl(it)){if(se.deleteThrottleMetadata(pe),Ve)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:pe,measurementId:Ve};throw it}const Ot=503===Number(it.customData.httpStatus)?(0,U.$s)(R,se.intervalMillis,30):(0,U.$s)(R,se.intervalMillis),St={throttleEndTimeMillis:Date.now()+Ot,backoffCount:R+1};return se.setThrottleMetadata(pe,St),hr.debug(`Calling attemptFetch again in ${Ot} millis`),Po(D,St,B,se)}})).apply(this,arguments)}function Jl(D,T){return new Promise((R,B)=>{const se=Math.max(T-Date.now(),0),pe=setTimeout(R,se);D.addEventListener(()=>{clearTimeout(pe),B(bn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Xl(D){if(!(D instanceof U.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Mi{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function ss(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(){if(!(0,U.hl)())return hr.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,U.eu)()}catch(D){return hr.warn(bn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(D,T,R,B,se,pe,Ve){var it;const Ot=Dt(D);Ot.then(cn=>{R[cn.measurementId]=cn.appId,D.options.measurementId&&cn.measurementId!==D.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>hr.error(cn)),T.push(Ot);const St=ss().then(cn=>{if(cn)return B.getId()}),[Qt,Ft]=yield Promise.all([Ot,St]);Dm()||Cm(pe,Qt.measurementId),se("js",new Date);const Zr=null!==(it=null==Ve?void 0:Ve.config)&&void 0!==it?it:{};return Zr.origin="firebase",Zr.update=!0,null!=Ft&&(Zr[ey]=Ft),se("config",Qt.measurementId,Zr),Qt.measurementId})).apply(this,arguments)}class os{constructor(T){this.app=T}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},fr=[];const wi={};let Se,Wr,fa="dataLayer",pa=!1;function as(D,T,R){!function Ht(){const D=[];if((0,U.ru)()&&D.push("This is a browser extension environment."),(0,U.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((B,se)=>`(${se+1}) ${B}`).join(" "),R=bn.create("invalid-analytics-context",{errorInfo:T});hr.warn(R.message)}}();const B=D.options.appId;if(!B)throw bn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw bn.create("no-api-key");hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=si[B])throw bn.create("already-exists",{id:B});if(!pa){!function Ts(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(fa);const{wrappedGtag:pe,gtagCore:Ve}=function yf(D,T,R,B,se){let pe=function(...Ve){window[B].push(arguments)};return window[se]&&"function"==typeof window[se]&&(pe=window[se]),window[se]=function Pd(D,T,R,B){function pe(){return(pe=(0,k.Z)(function*(Ve,it,Ot){try{"event"===Ve?yield mu(D,T,R,it,Ot):"config"===Ve?yield da(D,T,R,B,it,Ot):D("set",it)}catch(St){hr.error(St)}})).apply(this,arguments)}return function se(Ve,it,Ot){return pe.apply(this,arguments)}}(pe,D,T,R),{gtagCore:pe,wrappedGtag:window[se]}}(si,fr,wi,fa,"gtag");Wr=pe,Se=Ve,pa=!0}return si[B]=function so(D,T,R,B,se,pe,Ve){return wt.apply(this,arguments)}(D,fr,wi,T,Se,fa,R),new os(D)}function rt(){return(rt=(0,k.Z)(function*(D,T,R,B,se){if(se&&se.global)D("event",R,B);else{const pe=yield T;D("event",R,Object.assign(Object.assign({},B),{send_to:pe}))}})).apply(this,arguments)}function qn(){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,k.Z)(function*(){if((0,U.ru)()||!(0,U.zI)()||!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch(D){return!1}})).apply(this,arguments)}const vu="@firebase/analytics";!function wf(){(0,ee._registerComponent)(new te.wA(fu,(T,{options:R})=>as(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ee._registerComponent)(new te.wA("analytics-internal",function D(T){try{const R=T.getProvider(fu).getImmediate();return{logEvent:(B,se,pe)=>function bf(D,T,R,B){D=(0,U.m9)(D),function As(D,T,R,B,se){return rt.apply(this,arguments)}(Wr,si[D.app.options.appId],T,R,B).catch(se=>hr.error(se))}(R,B,se,pe)}}catch(R){throw bn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ee.registerVersion)(vu,"0.7.8"),(0,ee.registerVersion)(vu,"0.7.8","esm2017")}();var Nd=A(233),ls=A(4986),Cf=A(8505),ln=A(9468),Ka=A(5363);const tr=new c.GfV("7.3.0"),bu="__angularfire_symbol__analyticsIsSupportedValue",ma="__angularfire_symbol__analyticsIsSupported",pr="__angularfire_symbol__remoteConfigIsSupportedValue",qr="__angularfire_symbol__remoteConfigIsSupported",Za="__angularfire_symbol__messagingIsSupportedValue",Ss="__angularfire_symbol__messagingIsSupported";function Df(D,T,R){if(T){if(1===T.length)return T[0];const pe=T.filter(Ve=>Ve.app===R);if(1===pe.length)return pe[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[ma]||(globalThis[ma]=qn().then(D=>globalThis[bu]=D).catch(()=>globalThis[bu]=!1)),globalThis[Ss]||(globalThis[Ss]=Od().then(D=>globalThis[Za]=D).catch(()=>globalThis[Za]=!1)),globalThis[qr]||(globalThis[qr]=Io().then(D=>globalThis[pr]=D).catch(()=>globalThis[pr]=!1));const Ld=(D,T)=>{const R=T?[T]:(0,$.C6)(),B=[];return R.forEach(se=>{se.container.getProvider(D).instances.forEach(Ve=>{B.includes(Ve)||B.push(Ve)})}),B};function cs(){}class Kr{constructor(T,R=Nd.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,B){const se=this.zone;return this.delegate.schedule(function(Ve){se.runGuarded(()=>{T.apply(this,[Ve])})},R,B)}}class tc{constructor(T){this.zone=T,this.task=null}call(T,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),R.pipe((0,Cf.b)({next:B,complete:B,error:B})).subscribe(T).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ms=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Kr(Zone.current)),this.insideAngular=R.run(()=>new Kr(Zone.current,ls.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function us(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function ga(D){return us(),function Bd(D){return function(R){return(R=R.lift(new tc(D.ngZone))).pipe((0,ln.R)(D.outsideAngular),(0,Ka.Q)(D.insideAngular))}}(us())(D)}},2090:(ne,G,A)=>{A.d(G,{BH:()=>be,LL:()=>$e,ZR:()=>Ce,zI:()=>ye,US:()=>W,tV:()=>F,L:()=>z,$s:()=>ts,r3:()=>on,Sg:()=>xe,ne:()=>ht,vZ:()=>Ii,ZB:()=>q,Lj:()=>zt,pd:()=>Li,m9:()=>_t,z$:()=>ke,jU:()=>je,ru:()=>Le,d:()=>ve,xb:()=>$n,w1:()=>Ae,hl:()=>et,uI:()=>de,UG:()=>he,b$:()=>Ie,G6:()=>ce,Mn:()=>qe,X3:()=>yt,xO:()=>mi,zd:()=>wr,eu:()=>le});var c=A(5861);const U=function(Z){const j=[];let X=0;for(let we=0;we<Z.length;we++){let ae=Z.charCodeAt(we);ae<128?j[X++]=ae:ae<2048?(j[X++]=ae>>6|192,j[X++]=63&ae|128):55296==(64512&ae)&&we+1<Z.length&&56320==(64512&Z.charCodeAt(we+1))?(ae=65536+((1023&ae)<<10)+(1023&Z.charCodeAt(++we)),j[X++]=ae>>18|240,j[X++]=ae>>12&63|128,j[X++]=ae>>6&63|128,j[X++]=63&ae|128):(j[X++]=ae>>12|224,j[X++]=ae>>6&63|128,j[X++]=63&ae|128)}return j},W={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,j){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ae=0;ae<Z.length;ae+=3){const Ye=Z[ae],Et=ae+1<Z.length,un=Et?Z[ae+1]:0,Tr=ae+2<Z.length,an=Tr?Z[ae+2]:0;let wn=(15&un)<<2|an>>6,Qn=63&an;Tr||(Qn=64,Et||(wn=64)),we.push(X[Ye>>2],X[(3&Ye)<<4|un>>4],X[wn],X[Qn])}return we.join("")},encodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Z):this.encodeByteArray(U(Z),j)},decodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Z):function(Z){const j=[];let X=0,we=0;for(;X<Z.length;){const ae=Z[X++];if(ae<128)j[we++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Ye=Z[X++];j[we++]=String.fromCharCode((31&ae)<<6|63&Ye)}else if(ae>239&&ae<365){const Tr=((7&ae)<<18|(63&Z[X++])<<12|(63&Z[X++])<<6|63&Z[X++])-65536;j[we++]=String.fromCharCode(55296+(Tr>>10)),j[we++]=String.fromCharCode(56320+(1023&Tr))}else{const Ye=Z[X++],Et=Z[X++];j[we++]=String.fromCharCode((15&ae)<<12|(63&Ye)<<6|63&Et)}}return j.join("")}(this.decodeStringToByteArray(Z,j))},decodeStringToByteArray(Z,j){this.init_();const X=j?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ae=0;ae<Z.length;){const Ye=X[Z.charAt(ae++)],un=ae<Z.length?X[Z.charAt(ae)]:0;++ae;const an=ae<Z.length?X[Z.charAt(ae)]:64;++ae;const Bt=ae<Z.length?X[Z.charAt(ae)]:64;if(++ae,null==Ye||null==un||null==an||null==Bt)throw Error();we.push(Ye<<2|un>>4),64!==an&&(we.push(un<<4&240|an>>2),64!==Bt&&we.push(an<<6&192|Bt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},z=function(Z){return function(Z){const j=U(Z);return W.encodeByteArray(j,!0)}(Z).replace(/\./g,"")},F=function(Z){try{return W.decodeString(Z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q(Z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return j}for(const X in j)!j.hasOwnProperty(X)||!Te(X)||(Z[X]=q(Z[X],j[X]));return Z}function Te(Z){return"__proto__"!==Z}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,X)=>{this.resolve=j,this.reject=X})}wrapCallback(j){return(X,we)=>{X?this.reject(X):this.resolve(we),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(X):j(X,we))}}}function xe(Z,j){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=j||"demo-project",ae=Z.iat||0,Ye=Z.sub||Z.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ae,exp:ae+3600,auth_time:ae,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Et)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function je(){return"object"==typeof self&&self.self===self}function Le(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return ke().indexOf("Electron/")>=0}function Ae(){const Z=ke();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function qe(){return ke().indexOf("MSAppHost/")>=0}function ce(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){return"object"==typeof indexedDB}function le(){return new Promise((Z,j)=>{try{let X=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(we);ae.onsuccess=()=>{ae.result.close(),X||self.indexedDB.deleteDatabase(we),Z(!0)},ae.onupgradeneeded=()=>{X=!1},ae.onerror=()=>{var Ye;j((null===(Ye=ae.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(X){j(X)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ce extends Error{constructor(j,X,we){super(X),this.code=j,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(j,X,we){this.service=j,this.serviceName=X,this.errors=we}create(j,...X){const we=X[0]||{},ae=`${this.service}/${j}`,Ye=this.errors[j],Et=Ye?function Mt(Z,j){return Z.replace(en,(X,we)=>{const ae=j[we];return null!=ae?String(ae):`<${we}?>`})}(Ye,we):"Error";return new Ce(ae,`${this.serviceName}: ${Et} (${ae}).`,we)}}const en=/\{\$([^}]+)}/g;function on(Z,j){return Object.prototype.hasOwnProperty.call(Z,j)}function $n(Z){for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j))return!1;return!0}function Ii(Z,j){if(Z===j)return!0;const X=Object.keys(Z),we=Object.keys(j);for(const ae of X){if(!we.includes(ae))return!1;const Ye=Z[ae],Et=j[ae];if(kr(Ye)&&kr(Et)){if(!Ii(Ye,Et))return!1}else if(Ye!==Et)return!1}for(const ae of we)if(!X.includes(ae))return!1;return!0}function kr(Z){return null!==Z&&"object"==typeof Z}function mi(Z){const j=[];for(const[X,we]of Object.entries(Z))Array.isArray(we)?we.forEach(ae=>{j.push(encodeURIComponent(X)+"="+encodeURIComponent(ae))}):j.push(encodeURIComponent(X)+"="+encodeURIComponent(we));return j.length?"&"+j.join("&"):""}function wr(Z){const j={};return Z.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ae,Ye]=we.split("=");j[decodeURIComponent(ae)]=decodeURIComponent(Ye)}}),j}function Li(Z){const j=Z.indexOf("?");if(!j)return"";const X=Z.indexOf("#",j);return Z.substring(j,X>0?X:void 0)}function ht(Z,j){const X=new Pr(Z,j);return X.subscribe.bind(X)}class Pr{constructor(j,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{j(this)}).catch(we=>{this.error(we)})}next(j){this.forEachObserver(X=>{X.next(j)})}error(j){this.forEachObserver(X=>{X.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,X,we){let ae;if(void 0===j&&void 0===X&&void 0===we)throw new Error("Missing Observer.");ae=function sr(Z,j){if("object"!=typeof Z||null===Z)return!1;for(const X of j)if(X in Z&&"function"==typeof Z[X])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:X,complete:we},void 0===ae.next&&(ae.next=Cr),void 0===ae.error&&(ae.error=Cr),void 0===ae.complete&&(ae.complete=Cr);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(Et){}}),this.observers.push(ae),Ye}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,j)}sendOne(j,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{X(this.observers[j])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cr(){}function ts(Z,j=1e3,X=2){const we=j*Math.pow(X,Z),ae=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+ae)}function _t(Z){return Z&&Z._delegate?Z._delegate:Z}function vr(Z,j){return new Promise((X,we)=>{Z.onsuccess=ae=>{X(ae.target.result)},Z.onerror=ae=>{var Ye;we(`${j}: ${null===(Ye=ae.target.error)||void 0===Ye?void 0:Ye.message}`)}})}class Gt{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,X="readonly"){return new nt(this._db.transaction.call(this._db,j,X))}createObjectStore(j,X){return new Re(this._db.createObjectStore(j,X))}close(){this._db.close()}}class nt{constructor(j){this._transaction=j,this.complete=new Promise((X,we)=>{this._transaction.oncomplete=function(){X()},this._transaction.onerror=()=>{we(this._transaction.error)},this._transaction.onabort=()=>{we(this._transaction.error)}})}objectStore(j){return new Re(this._transaction.objectStore(j))}}class Re{constructor(j){this._store=j}index(j){return new st(this._store.index(j))}createIndex(j,X,we){return new st(this._store.createIndex(j,X,we))}get(j){return vr(this._store.get(j),"Error reading from IndexedDB")}put(j,X){return vr(this._store.put(j,X),"Error writing to IndexedDB")}delete(j){return vr(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor(j){this._index=j}get(j){return vr(this._index.get(j),"Error reading from IndexedDB")}}function yt(Z,j,X){return new Promise((we,ae)=>{try{const Ye=indexedDB.open(Z,j);Ye.onsuccess=Et=>{we(new Gt(Et.target.result))},Ye.onerror=Et=>{var un;ae(`Error opening indexedDB: ${null===(un=Et.target.error)||void 0===un?void 0:un.message}`)},Ye.onupgradeneeded=Et=>{X(new Gt(Ye.result),Et.oldVersion,Et.newVersion,new nt(Ye.transaction))}}catch(Ye){ae(`Error opening indexedDB: ${Ye.message}`)}})}function zt(Z){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(Z){return new Promise((j,X)=>{try{const we=indexedDB.deleteDatabase(Z);we.onsuccess=()=>{j()},we.onerror=ae=>{var Ye;X(`Error deleting indexedDB database "${Z}": ${null===(Ye=ae.target.error)||void 0===Ye?void 0:Ye.message}`)}}catch(we){X(`Error deleting indexedDB database "${Z}": ${we.message}`)}})})).apply(this,arguments)}},75:(ne,G,A)=>{var c=A(5e3);let $=null;function k(){return $}const W=new c.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function z(){return(0,c.LFG)(L)}()},providedIn:"platform"}),n})();const F=new c.OlP("Location Initialized");let L=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return new L((0,c.LFG)(W))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(n){const e=(0,c.LFG)(W).location;return new Le((0,c.LFG)(Q),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new c.OlP("appBaseHref");let Le=(()=>{class n extends de{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+ke(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+ke(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(je,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+ke(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+ke(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(je,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Ze(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ke(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ke,n.joinWithSlash=be,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new ve((0,c.LFG)(de),(0,c.LFG)(Q))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}let Bi=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class is{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new is(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),Ui(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ui(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ui(n,e){n.context.$implicit=e.item}let fe=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new re,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ge("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ge("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class re{constructor(){this.$implicit=null,this.ngIf=null}}function ge(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class We{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let He=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),xt=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new We(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(He,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Xn=(()=>{class n{constructor(t,r,i){i._addDefault(new We(t,r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(He,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Ed{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class _m{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Es=new _m,ym=new Ed;let ji=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Es;if((0,c.F4k)(t))return ym;throw function Wn(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Hi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const qs="browser";function Nr(n){return"server"===n}let Ul=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new jl((0,c.LFG)(W),window)}),n})();class jl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ha(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ws(this.window.history)||ws(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ws(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ks extends class aa extends class te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function U(n){$||($=n)}(new Ks)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Id(){return Dn=Dn||document.querySelector("base"),Dn?Dn.getAttribute("href"):null}();return null==t?null:function Mo(n){So=So||document.createElement("a"),So.setAttribute("href",n);const e=So.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Gs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let So,Dn=null;const $r=new c.OlP("TRANSITION_ID"),$a=[{provide:c.ip1,useFactory:function cr(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[$r,W,c.zs3],multi:!0}];class $i{static init(){(0,c.VLi)(new $i)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(_){d=d||_,a--,0==a&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Gr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Zs=new c.OlP("EventManagerPlugins");let Cs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Hl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ys=(()=>{class n extends bi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Qs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Qs(n){k().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$l=/%COMP%/g;function Pe(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pe(n,i,t):(i=i.replace($l,n),t.push(i))}return t}function Yt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new la(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new iu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new su(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Pe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cs),c.LFG(Ys),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class la{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=bt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Yt(r)):this.eventManager.addEventListener(e,t,Yt(r))}}class iu extends la{constructor(e,t,r,i){super(e),this.component=r;const a=Pe(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function tu(n){return"_ngcontent-%COMP%".replace($l,n)}(i+"-"+r.id),this.hostAttr=function nu(n){return"_nghost-%COMP%".replace($l,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class su extends la{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Pe(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ad=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ou=["alt","control","meta","shift"],Js={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Si={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kl=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(ou.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),d+=_+".")}),d+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function Xs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Fr.hasOwnProperty(e)&&(e=Fr[e]))}return Js[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ou.forEach(a=>{a!=i&&Si[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const lu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:qs},{provide:c.g9A,useValue:function Gi(){Ks.makeCurrent(),$i.init()},multi:!0},{provide:W,useFactory:function Zl(){return(0,c.RDi)(document),document},deps:[]}]),za=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function au(){return new c.qLn},deps:[]},{provide:Zs,useClass:Ad,multi:!0,deps:[W,c.R0b,c.Lbi]},{provide:Zs,useClass:Kl,multi:!0,deps:[W]},{provide:Fn,useClass:Fn,deps:[Cs,Ys,c.AFp]},{provide:c.FYo,useExisting:Fn},{provide:bi,useExisting:Ys},{provide:Ys,useClass:Ys,deps:[W]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Cs,useClass:Cs,deps:[Zs,c.R0b]},{provide:class On{},useClass:Gr,deps:[]}];let ua=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:$r,useExisting:c.AFp},$a]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:za,imports:[Hi,c.hGG]}),n})();"undefined"!=typeof window&&window;var Bn=A(5620),bn=A(8505);const ha={setAuthenticated:(0,Bn.PH)("[Auth] Set Authenticated"),setNotAuthenticated:(0,Bn.PH)("[Auth] Set Not Authenticated")},gu=(0,Bn.Lq)({isAuthenticated:!1},(0,Bn.on)(ha.setAuthenticated,n=>Object.assign(Object.assign({},n),{isAuthenticated:!0})),(0,Bn.on)(ha.setNotAuthenticated,n=>Object.assign(Object.assign({},n),{isAuthenticated:!1}))),no={setUserData:(0,Bn.PH)("[User] set user data",(0,Bn.Ky)()),resetUser:(0,Bn.PH)("[User] reset user")};var ro=A(4986),ii=A(8306),kt=A(8996),Dt=A(9646),Tn=A(6351),Po=A(8189),Jl=A(3269);function Xl(...n){return function io(){return(0,Po.J)(1)}()((0,kt.D)(n,(0,Jl.yG)(n)))}var Mi=A(4482);function ss(...n){const e=(0,Jl.yG)(n);return(0,Mi.e)((t,r)=>{(e?Xl(n,t,e):Xl(n,t)).subscribe(r)})}var Lr=A(5403);function so(){return(0,Mi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Lr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var rt,wt=A(4004),os=A(5026),si=A(1884),fr=A(9300),wi=A(2011),_u=(A(820),A(3942)),Se=A(5861),Wr=A(9681),pa=A(4859),No=A(1877),Ht=A(2090),as="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},As={},ec=ec||{},vt=as||self;function qa(){}function oo(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ao(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var co="closure_uid_"+(1e9*Math.random()>>>0),zi=0;function vf(n,e,t){return n.call.apply(n.bind,arguments)}function yu(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function qn(n,e,t){return(qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vf:yu).apply(null,arguments)}function Fo(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function In(){this.s=this.s,this.o=this.o}var ty={};In.prototype.s=!1,In.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lo(n){return Object.prototype.hasOwnProperty.call(n,co)&&n[co]||(n[co]=++zi)}(this);delete ty[n]}},In.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},vu=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function wf(n){return Array.prototype.concat.apply([],arguments)}function Nd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ls(n){return/^[\s\xa0]*$/.test(n)}var tr,Cf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ln(n,e){return-1!=n.indexOf(e)}function Ka(n,e){return n<e?-1:n>e?1:0}e:{var bu=vt.navigator;if(bu){var ma=bu.userAgent;if(ma){tr=ma;break e}}tr=""}function pr(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function qr(n){const e={};for(const t in n)e[t]=n[t];return e}var Za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ss(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Za.length;a++)t=Za[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ci(n){return Ci[" "](n),n}Ci[" "]=qa;var Ms,n,Fd=ln(tr,"Opera"),Ya=ln(tr,"Trident")||ln(tr,"MSIE"),Df=ln(tr,"Edge"),Ld=Df||Ya,cs=ln(tr,"Gecko")&&!(ln(tr.toLowerCase(),"webkit")&&!ln(tr,"Edge"))&&!(ln(tr,"Trident")||ln(tr,"MSIE"))&&!ln(tr,"Edge"),Kr=ln(tr.toLowerCase(),"webkit")&&!ln(tr,"Edge");function tc(){var n=vt.document;return n?n.documentMode:void 0}e:{var us="",nc=(n=tr,cs?/rv:([^\);]+)(\)|;)/.exec(n):Df?/Edge\/([\d\.]+)/.exec(n):Ya?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kr?/WebKit\/(\S+)/.exec(n):Fd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nc&&(us=nc?nc[1]:""),Ya){var Wi=tc();if(null!=Wi&&Wi>parseFloat(us)){Ms=String(Wi);break e}}Ms=us}var Im={};var Qa=vt.document&&Ya&&(tc()||parseInt(Ms,10))||void 0,Ud=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",qa,e),vt.removeEventListener("test",qa,e)}catch(t){}return n}();function D(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function T(n,e){if(D.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cs){e:{try{Ci(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:R[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T.Z.h.call(this)}}D.prototype.h=function(){this.defaultPrevented=!0},Vr(T,D);var R={2:"touch",3:"pen",4:"mouse"};T.prototype.h=function(){T.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),se=0;function pe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++se,this.ca=this.fa=!1}function Ve(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function it(n){this.src=n,this.g={},this.h=0}function Ot(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=bf(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Ve(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function St(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}it.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=St(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new pe(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var Qt="closure_lm_"+(1e6*Math.random()|0),Ft={};function Zr(n,e,t,r,i){if(r&&r.once)return Vo(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Zr(n,e[a],t,r,i);return null}return t=Xa(t),n&&n[B]?n.N(e,t,ao(r)?!!r.capture:!!r,i):cn(n,e,t,!1,r,i)}function cn(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=ao(i)?!!i.capture:!!i,f=jd(n);if(f||(n[Qt]=f=new it(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function Ja(){var e=rc;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ud||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ds(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Vo(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Vo(n,e[a],t,r,i);return null}return t=Xa(t),n&&n[B]?n.O(e,t,ao(r)?!!r.capture:!!r,i):cn(n,e,t,!0,r,i)}function uo(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)uo(n,e[a],t,r,i);else r=ao(r)?!!r.capture:!!r,t=Xa(t),n&&n[B]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=St(a=n.g[e],t,r,i))&&(Ve(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=jd(n))&&(e=n.g[e.toString()],n=-1,e&&(n=St(e,t,r,i)),(t=-1<n?e[n]:null)&&Yr(t))}function Yr(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[B])Ot(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ds(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=jd(e))?(Ot(t,n),0==t.h&&(t.src=null,e[Qt]=null)):Ve(n)}}}function ds(n){return n in Ft?Ft[n]:Ft[n]="on"+n}function rc(n,e){if(n.ca)n=!0;else{e=new T(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Yr(n),n=t.call(r,e)}return n}function jd(n){return(n=n[Qt])instanceof it?n:null}var _a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(n){return"function"==typeof n?n:(n[_a]||(n[_a]=function(e){return n.handleEvent(e)}),n[_a])}function br(){In.call(this),this.i=new it(this),this.P=this,this.I=null}function ur(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new D(e,n);else if(e instanceof D)e.target=e.target||n;else{var i=e;Ss(e=new D(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=Eu(d,r,!0,e)&&i}if(i=Eu(d=e.g=n,r,!0,e)&&i,i=Eu(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Eu(d=e.g=t[a],r,!1,e)&&i}function Eu(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&Ot(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Vr(br,In),br.prototype[B]=!0,br.prototype.removeEventListener=function(n,e,t,r){uo(this,n,e,t,r)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ve(t[r]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hd=vt.JSON.stringify;function $d(){var n=Af;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var el,Tf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ny,n=>n.reset());class ny{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ry(n){vt.setTimeout(()=>{throw n},0)}function ho(n,e){el||function iy(){var n=vt.Promise.resolve(void 0);el=function(){n.then(Gd)}}(),If||(el(),If=!0),Af.add(n,e)}var If=!1,Af=new class ic{constructor(){this.h=this.g=null}add(e,t){const r=Tf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Gd(){for(var n;n=$d();){try{n.h.call(n.g)}catch(t){ry(t)}var e=Tf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}If=!1}function Sf(n,e){br.call(this),this.h=n||1,this.g=e||vt,this.j=qn(this.kb,this),this.l=Date.now()}function Mf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function xf(n,e,t){if("function"==typeof n)t&&(n=qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function Am(n){n.g=xf(()=>{n.g=null,n.i&&(n.i=!1,Am(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(Sf,br),(rt=Sf.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ur(this,"tick"),this.da&&(Mf(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){Sf.Z.M.call(this),Mf(this),delete this.g};class zd extends In{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Am(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tl(n){In.call(this),this.h=n,this.g={}}Vr(tl,In);var nl=[];function Sm(n,e,t,r){Array.isArray(t)||(t&&(nl[0]=t.toString()),t=nl);for(var i=0;i<t.length;i++){var a=Zr(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Wd(n){pr(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yr(e)},n),n.g={}}function Of(){this.g=!0}function rl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function kf(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return Hd(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}tl.prototype.M=function(){tl.Z.M.call(this),Wd(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Of.prototype.Aa=function(){this.g=!1},Of.prototype.info=function(){};var ya={},xm=null;function Kd(){return xm=xm||new br}function Om(n){D.call(this,ya.Ma,n)}function il(n){const e=Kd();ur(e,new Om(e,n))}function Rm(n,e){D.call(this,ya.STAT_EVENT,n),this.stat=e}function Kn(n){const e=Kd();ur(e,new Rm(e,n))}function sc(n,e){D.call(this,ya.Na,n),this.size=e}function oc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}ya.Ma="serverreachability",Vr(Om,D),ya.STAT_EVENT="statevent",Vr(Rm,D),ya.Na="timingevent",Vr(sc,D);var Pf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Nf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function km(){}function Nm(){}km.prototype.h=null;var Fm,ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ff(){D.call(this,"d")}function Lf(){D.call(this,"c")}function fo(){}function Zd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new tl(this),this.P=lc,this.W=new Sf(n=Ld?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lm}function Lm(){this.i=null,this.g="",this.h=!1}Vr(Ff,D),Vr(Lf,D),Vr(fo,km),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},Fm=new fo;var lc=45e3,Yd={},Di={};function sl(n,e,t){n.K=1,n.v=pc(hs(e)),n.s=t,n.U=!0,Vf(n,null)}function Vf(n,e){n.F=Date.now(),cc(n),n.A=hs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ba(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Lm,n.g=O0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zd(qn(n.Ia,n,n.g),n.O)),Sm(n.V,n.g,"readystatechange",n.gb),e=n.H?qr(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),il(1),function qd(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var x=I.split("_");d=2<=x.length&&"type"==x[1]?d+(I+"=")+w+"&":d+(I+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function wu(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Bf(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=I0(n,t),i==Di){4==e&&(n.o=4,Kn(14),r=!1),rl(n.j,n.m,null,"[Incomplete Response]");break}if(i==Yd){n.o=4,Kn(15),rl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rl(n.j,n.m,i,null),Vm(n,i)}wu(n)&&i!=Di&&i!=Yd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Mu(e),e.L=!0,Kn(11))):(rl(n.j,n.m,t,"[Invalid Chunked Response]"),Bo(n),ol(n))}function I0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Di:(t=Number(e.substring(t,r)),isNaN(t)?Yd:(r+=1)+t>e.length?Di:(e=e.substr(r,t),n.C=r+t,e))}function cc(n){n.Y=Date.now()+n.P,sy(n,n.P)}function sy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=oc(qn(n.eb,n),e)}function uc(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function ol(n){0==n.l.G||n.I||Km(n.l,n)}function Bo(n){uc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Mf(n.W),Wd(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Vm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||nh(t.i,n)))if(t.I=n.N,!n.J&&nh(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=oc(qn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ll(t),ft(t)}_c(t),Kn(18)}if(1>=th(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else cl(t,11)}else if((n.J||t.g==n)&&ll(t),!ls(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const x=w[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const J=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var a=r.i;!a.g&&(ln(J,"spdy")||ln(J,"quic")||ln(J,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(rh(a,a.h),a.h=null))}if(r.D){const me=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;me&&(r.sa=me,Zn(r.F,r.D,me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=x0(r,r.H?r.la:null,r.W),d.J){$m(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(uc(f),cc(f)),r.g=d}else $o(r);0<t.l.length&&wa(t)}else"stop"!=w[0]&&"close"!=w[0]||cl(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?cl(t,7):Ct(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}il(4)}catch(w){}}function dc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(oo(n)||"string"==typeof n)vu(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(oo(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function oy(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(oo(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function hc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof hc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Uf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Uo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Uo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Uo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Zd.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==S(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const I=S(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||Ld||this.g&&(this.h.h||this.g.ga()||P(this.g)))){this.I||4!=I||7==e||il(8==e||0>=x?3:2),uc(this);var t=this.g.ba();this.N=t;t:if(wu(this)){var r=P(this.g);n="";var i=r.length,a=4==S(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bo(this),ol(this);var d="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function Rf(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ls(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Kn(12),Bo(this),ol(this);break e}rl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vm(this,t)}this.U?(Bf(this,I,d),Ld&&this.i&&3==I&&(Sm(this.V,this.W,"tick",this.fb),this.W.start())):(rl(this.j,this.m,d,null),Vm(this,d)),4==I&&Bo(this),this.i&&!this.I&&(4==I?Km(this.l,this):(this.i=!1,cc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),Bo(this),ol(this)}}}catch(I){}},rt.fb=function(){if(this.g){var n=S(this.g),e=this.g.ga();this.C<e.length&&(uc(this),Bf(this,n,e),this.i&&4!=n&&cc(this))}},rt.cancel=function(){this.I=!0,Bo(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Mm(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(il(3),Kn(17)),Bo(this),this.o=2,ol(this)):sy(this,this.Y-n)},(rt=hc.prototype).R=function(){Uf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Uf(this),this.g.concat()},rt.get=function(n,e){return Uo(this.h,n)?this.h[n]:e},rt.set=function(n,e){Uo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var Qd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function po(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof po){this.g=void 0!==e?e:n.g,fc(this,n.j),this.s=n.s,Jd(this,n.i),nr(this,n.m),this.l=n.l,e=n.h;var t=new jo;t.i=e.i,e.g&&(t.g=new hc(e.g),t.h=e.h),jf(this,t),this.o=n.o}else n&&(t=String(n).match(Qd))?(this.g=!!e,fc(this,t[1]||"",!0),this.s=va(t[2]||""),Jd(this,t[3]||"",!0),nr(this,t[4]),this.l=va(t[5]||"",!0),jf(this,t[6]||"",!0),this.o=va(t[7]||"")):(this.g=!!e,this.h=new jo(null,this.g))}function hs(n){return new po(n)}function fc(n,e,t){n.j=t?va(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jd(n,e,t){n.i=t?va(e,!0):e}function nr(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jf(n,e,t){e instanceof jo?(n.h=e,function qi(n,e){e&&!n.j&&(xs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Xd(this,r),ba(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Cu(e,Du)),n.h=new jo(e,n.g))}function Zn(n,e,t){n.h.set(e,t)}function pc(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function va(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}po.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cu(e,Hm,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cu(e,Hm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cu(t,"/"==t.charAt(0)?S0:A0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cu(t,oi)),n.join("")};var Hm=/[#\/\?@]/g,A0=/[#\?:]/g,S0=/[#\?]/g,Du=/[#\?@]/g,oi=/#/g;function jo(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xs(n){n.g||(n.g=new hc,n.h=0,n.i&&function Bm(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xd(n,e){xs(n),e=Ea(n,e),Uo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Uo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Uf(n)))}function Qr(n,e){return xs(n),e=Ea(n,e),Uo(n.g.h,e)}function ba(n,e,t){Xd(n,e),0<t.length&&(n.i=null,n.g.set(Ea(n,e),Nd(t)),n.h+=t.length)}function Ea(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eh(n){this.l=n||ly,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=jo.prototype).add=function(n,e){xs(this),this.i=null,n=Ea(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){xs(this),this.g.forEach(function(t,r){vu(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){xs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},rt.R=function(n){xs(this);var e=[];if("string"==typeof n)Qr(this,n)&&(e=wf(e,this.g.get(Ea(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=wf(e,n[t])}return e},rt.set=function(n,e){return xs(this),this.i=null,Qr(this,n=Ea(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var ly=10;function Iu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function th(n){return n.h?1:n.g?n.g.size:0}function nh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function rh(n,e){n.g?n.g.add(e):n.h=e}function $m(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Os(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Nd(n.i)}function ih(){}function cy(){this.g=new ih}function Hf(n,e,t){const r=t||"";try{dc(n,function(i,a){let d=i;ao(i)&&(d=Hd(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Au(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function mr(n){this.l=n.$b||null,this.j=n.ib||!1}function mc(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Su,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eh.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ih.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},ih.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Vr(mr,km),mr.prototype.g=function(){return new mc(this.l,this.j)},mr.prototype.i=function(n){return function(){return n}}({}),Vr(mc,br);var Su=0;function Gm(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ki(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ho(n)}function Ho(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=mc.prototype).open=function(n,e){if(this.readyState!=Su)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ho(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ki(this)),this.readyState=Su},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ho(this)),this.g&&(this.readyState=3,Ho(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gm(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ki(this):Ho(this),3==this.readyState&&Gm(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,Ki(this))},rt.Ta=function(n){this.g&&(this.response=n,Ki(this))},rt.ha=function(){this.g&&Ki(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var $f=vt.JSON.parse;function gr(n){br.call(this),this.headers=new hc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zm,this.K=this.L=!1}Vr(gr,br);var zm="",Gf=/^https?$/i,dy=["POST","PUT"];function fy(n){return"content-type"==n.toLowerCase()}function Wm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,y(n),g(n)}function y(n){n.D||(n.D=!0,ur(n,"complete"),ur(n,"error"))}function p(n){if(n.h&&void 0!==ec&&(!n.C[1]||4!=S(n)||2!=n.ba()))if(n.v&&4==S(n))xf(n.Fa,0,n);else if(ur(n,"readystatechange"),4==S(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(Qd)[1]||null;if(!i&&vt.self&&vt.self.location){var a=vt.self.location.protocol;i=a.substr(0,a.length-1)}r=!Gf.test(i?i.toLowerCase():"")}t=r}if(t)ur(n,"complete"),ur(n,"success");else{n.m=6;try{var d=2<S(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",y(n)}}finally{g(n)}}}function g(n,e){if(n.g){b(n);const t=n.g,r=n.C[0]?qa:null;n.g=null,n.C=null,e||ur(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function b(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function S(n){return n.g?n.g.readyState:0}function P(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zm:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _e(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ie(n){let e="";return pr(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Ke(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ot(n){this.za=0,this.l=[],this.h=new Of,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ke("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ke("baseRetryDelayMs",5e3,n),this.$a=Ke("retryDelaySeedMs",1e4,n),this.Ya=Ke("forwardChannelMaxRetries",2,n),this.ra=Ke("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new eh(n&&n.concurrentRequestLimit),this.Ca=new cy,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ct(n){if(Yn(n),3==n.G){var e=n.V++,t=hs(n.F);Zn(t,"SID",n.J),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),al(n,t),(e=new Zd(n,n.h,e,void 0)).K=2,e.v=pc(hs(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=O0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),cc(e)}M0(n)}function ft(n){n.g&&(Mu(n),n.g.cancel(),n.g=null)}function Yn(n){ft(n),n.u&&(vt.clearTimeout(n.u),n.u=null),ll(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function xi(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&wa(n)}function wa(n){Iu(n.i)||n.m||(n.m=!0,ho(n.Ha,n),n.C=0)}function gc(n,e){var t;t=e?e.m:n.V++;const r=hs(n.F);Zn(r,"SID",n.J),Zn(r,"RID",t),Zn(r,"AID",n.U),al(n,r),n.o&&n.s&&_e(r,n.o,n.s),t=new Zd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qm(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),rh(n.i,t),sl(t,r,e)}function al(n,e){n.j&&dc({},function(t,r){Zn(e,r,t)})}function qm(n,e,t){t=Math.min(n.l.length,t);var r=n.j?qn(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{Hf(I,d,"req"+w+"_")}catch(x){r&&r(I)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function $o(n){n.g||n.u||(n.Y=1,ho(n.Ga,n),n.A=0)}function _c(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=oc(qn(n.Ga,n),ah(n,n.A)),n.A++,0))}function Mu(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function oh(n){n.g=new Zd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=hs(n.oa);Zn(e,"RID","rpc"),Zn(e,"SID",n.J),Zn(e,"CI",n.N?"0":"1"),Zn(e,"AID",n.U),al(n,e),Zn(e,"TYPE","xmlhttp"),n.o&&n.s&&_e(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=pc(hs(e)),t.s=null,t.U=!0,Vf(t,n)}function ll(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function Km(n,e){var t=null;if(n.g==e){ll(n),Mu(n),n.g=null;var r=2}else{if(!nh(n.i,e))return;t=e.D,$m(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ur(r=Kd(),new sc(r,t,e,i)),wa(n)}else $o(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function sh(n,e){return!(th(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=oc(qn(n.Ha,n,e),ah(n,n.C)),n.C++,0)))}(n,e)||2==r&&_c(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:cl(n,5);break;case 4:cl(n,10);break;case 3:cl(n,6);break;default:cl(n,2)}}function ah(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function cl(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=qn(n.jb,n);t||(t=new po("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||fc(t,"https"),pc(t)),function uy(n,e){const t=new Of;if(vt.Image){const r=new Image;r.onload=Fo(Au,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Fo(Au,t,r,"TestLoadImage: error",!1,e),r.onabort=Fo(Au,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fo(Au,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kn(2);n.G=0,n.j&&n.j.va(e),M0(n),Yn(n)}function M0(n){n.G=0,n.I=-1,n.j&&((0!=Os(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Nd(n.l),n.l.length=0),n.j.ua())}function x0(n,e,t){let r=function Um(n){return n instanceof po?hs(n):new po(n,void 0)}(t);if(""!=r.i)e&&Jd(r,e+"."+r.i),nr(r,r.m);else{const i=vt.location;r=function ay(n,e,t,r){var i=new po(null,void 0);return n&&fc(i,n),e&&Jd(i,e),t&&nr(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&pr(n.aa,function(i,a){Zn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Zn(r,e,t),Zn(r,"VER",n.ma),al(n,r),r}function O0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gr(t&&n.Ba&&!n.qa?new mr({ib:!0}):n.qa)).L=n.H,e}function py(){}function lh(){if(Ya&&!(10<=Number(Qa)))throw Error("Environmental error: no available transport.")}function fs(n,e){br.call(this),this.g=new ot(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ls(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ls(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ch(this)}function Zm(n){Ff.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function R0(){Lf.call(this),this.status=1}function ch(n){this.g=n}(rt=gr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fm.g(),this.C=function Pm(n){return n.h||(n.h=n.i())}(this.u?this.u:Fm),this.g.onreadystatechange=qn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Wm(this,a)}n=t||"";const i=new hc(this.headers);r&&dc(r,function(a,d){i.set(d,a)}),r=function Ef(n){e:{var e=fy;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=vt.FormData&&n instanceof vt.FormData,!(0<=bf(dy,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{b(this),0<this.B&&((this.K=function hy(n){return Ya&&function Vd(){return function Lo(n){var e=Im;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Cf(String(Ms)).split("."),t=Cf("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Ka(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Ka(0==i[2].length,0==a[2].length)||Ka(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qn(this.pa,this)):this.A=xf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Wm(this,a)}},rt.pa=function(){void 0!==ec&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ur(this,"complete"),ur(this,"abort"),g(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),g(this,!0)),gr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?p(this):this.cb())},rt.cb=function(){p(this)},rt.ba=function(){try{return 2<S(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),$f(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=ot.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Zd(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=qr(a),Ss(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qm(this,i,e),Zn(t=hs(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),al(this,t),this.o&&a&&_e(t,this.o,a),rh(this.i,i),this.Ra&&Zn(t,"TYPE","init"),this.ja?(Zn(t,"$req",e),Zn(t,"SID","null"),i.$=!0,sl(i,t,null)):sl(i,t,e),this.G=2}}else 3==this.G&&(n?gc(this,n):0==this.l.length||Iu(this.i)||gc(this))},rt.Ga=function(){if(this.u=null,oh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=oc(qn(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kn(10),ft(this),oh(this))},rt.ab=function(){null!=this.v&&(this.v=null,ft(this),_c(this),Kn(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Kn(2)):(this.h.info("Failed to ping google.com"),Kn(1))},(rt=py.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},lh.prototype.g=function(n,e){return new fs(n,e)},Vr(fs,br),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ho(qn(n.hb,n,e))),Kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=x0(n,null,n.W),wa(n)},fs.prototype.close=function(){Ct(this.g)},fs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,xi(this.g,e)}else this.v?((e={}).__data__=Hd(n),xi(this.g,e)):xi(this.g,n)},fs.prototype.M=function(){this.g.j=null,delete this.j,Ct(this.g),delete this.g,fs.Z.M.call(this)},Vr(Zm,Ff),Vr(R0,Lf),Vr(ch,py),ch.prototype.xa=function(){ur(this.g,"a")},ch.prototype.wa=function(n){ur(this.g,new Zm(n))},ch.prototype.va=function(n){ur(this.g,new R0(n))},ch.prototype.ua=function(){ur(this.g,"b")},lh.prototype.createWebChannel=lh.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Pf.NO_ERROR=0,Pf.TIMEOUT=8,Pf.HTTP_ERROR=6,Nf.COMPLETE="complete",Nm.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",br.prototype.listen=br.prototype.N,gr.prototype.listenOnce=gr.prototype.O,gr.prototype.getLastError=gr.prototype.La,gr.prototype.getLastErrorCode=gr.prototype.Da,gr.prototype.getStatus=gr.prototype.ba,gr.prototype.getResponseJson=gr.prototype.Qa,gr.prototype.getResponseText=gr.prototype.ga,gr.prototype.send=gr.prototype.ea;var k0=As.createWebChannelTransport=function(){return new lh},P0=As.getStatEventTarget=function(){return Kd()},ul=As.ErrorCode=Pf,N0=As.EventType=Nf,F0=As.Event=ya,L0=As.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ym=As.FetchXmlHttpFactory=mr,Qm=As.WebChannel=Nm,V0=As.XhrIo=gr;const my="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let yc="9.6.11";const dl=new No.Yd("@firebase/firestore");function uh(){return dl.logLevel}function Ge(n,...e){if(dl.logLevel<=No.in.DEBUG){const t=e.map(zf);dl.debug(`Firestore (${yc}): ${n}`,...t)}}function Er(n,...e){if(dl.logLevel<=No.in.ERROR){const t=e.map(zf);dl.error(`Firestore (${yc}): ${n}`,...t)}}function dh(n,...e){if(dl.logLevel<=No.in.WARN){const t=e.map(zf);dl.warn(`Firestore (${yc}): ${n}`,...t)}}function zf(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function Vt(n,e){n||at()}function tt(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class U0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nT{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Br,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Se.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Br)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new gy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new ai(e)}}class j0{constructor(e,t,r){this.type="FirstParty",this.user=ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new j0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Go{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.p=t.token,new H0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function iT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ps.A=-1;class $0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function hh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function _y(n){return n+"\0"}class Ar{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ar.fromMillis(Date.now())}static fromDate(e){return Ar.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ar(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Ar(0,0))}static max(){return new Pt(new Ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function G0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nt(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yy(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fh{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends fh{construct(e,t,r){return new mn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Xm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends fh{construct(e,t,r){return new Ln(e,t,r)}static isValidIdentifier(e){return Xm.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ln(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Fe(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(t)}static emptyPath(){return new Ln([])}}class xu{constructor(e){this.fields=e,e.sort(Ln.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Sr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=hl.exec(n);if(Vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(n.seconds),nanos:_r(n.nanos)}}function _r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fl(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function z0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vy(n){const e=n.mapValue.fields.__previous_value__;return z0(e)?vy(e):e}function eg(n){const e=Ca(n.mapValue.fields.__local_write_time__.timestampValue);return new Ar(e.seconds,e.nanos)}class tg{constructor(e,t,r,i,a,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class mo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}function pl(n){return null==n}function Ou(n){return 0===n&&1/n==-1/0}function ng(n){return"number"==typeof n&&Number.isInteger(n)&&!Ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(mn.fromString(e))}static fromName(e){return new Xe(mn.fromString(e).popFirst(5))}static empty(){return new Xe(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new mn(e.slice()))}}const W0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},q0={nullValue:"NULL_VALUE"};function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z0(n)?4:lT(n)?9:10:at()}function Da(n,e){if(n===e)return!0;const t=Ru(n);if(t!==Ru(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eg(n).isEqual(eg(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ca(r.timestampValue),d=Ca(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,fl(n.bytesValue).isEqual(fl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return _r(r.geoPointValue.latitude)===_r(i.geoPointValue.latitude)&&_r(r.geoPointValue.longitude)===_r(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _r(r.integerValue)===_r(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=_r(r.doubleValue),d=_r(i.doubleValue);return a===d?Ou(a)===Ou(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return hh(n.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(G0(a)!==G0(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Da(a[f],d[f])))return!1;return!0}(n,e);default:return at()}var i}function ph(n,e){return void 0!==(n.values||[]).find(t=>Da(t,e))}function ku(n,e){if(n===e)return 0;const t=Ru(n),r=Ru(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=_r(i.integerValue||i.doubleValue),f=_r(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return K0(n.timestampValue,e.timestampValue);case 4:return K0(eg(n),eg(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=fl(i),f=fl(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=Jt(d[_],f[_]);if(0!==w)return w}return Jt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Jt(_r(i.latitude),_r(a.latitude));return 0!==d?d:Jt(_r(i.longitude),_r(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=ku(d[_],f[_]);if(w)return w}return Jt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const d=i.fields||{},f=Object.keys(d),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const x=Jt(f[I],w[I]);if(0!==x)return x;const V=ku(d[f[I]],_[w[I]]);if(0!==V)return V}return Jt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw at()}}function K0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=Ca(n),r=Ca(e),i=Jt(t.seconds,r.seconds);return 0!==i?i:Jt(t.nanos,r.nanos)}function Wf(n){return rg(n)}function rg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ca(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fl(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=rg(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${rg(r.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function vc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function by(n){return!!n&&"integerValue"in n}function Pu(n){return!!n&&"arrayValue"in n}function oT(n){return!!n&&"nullValue"in n}function aT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ey(n){return!!n&&"mapValue"in n}function ig(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nt(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ig(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ig(n.arrayValue.values[t]);return e}return Object.assign({},n)}function lT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function YS(n){return"nullValue"in n?q0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vc(mo.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function QS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vc(mo.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?W0:at()}function cT(n,e){return void 0===n?e:void 0===e||ku(n,e)>0?n:e}function uT(n,e){return void 0===n?e:void 0===e||ku(n,e)<0?n:e}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ey(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ig(t)}setAll(e){let t=Ln.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=ig(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Ey(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ey(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Nt(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zi(ig(this.value))}}function ml(n){const e=[];return Nt(n.fields,(t,r)=>{const i=new Ln([t]);if(Ey(r)){const a=ml(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new xu(e)}class Un{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Un(e,0,Pt.min(),Pt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r){return new Un(e,1,t,Pt.min(),r,0)}static newNoDocument(e,t){return new Un(e,2,t,Pt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Pt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function og(n){return n.fields.find(e=>2===e.kind)}function gl(n){return n.fields.filter(e=>2!==e.kind)}sg.UNKNOWN_ID=-1;class qf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nu(0,Ta.min())}}function Z0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===r?new Ar(t+1,0):new Ar(t,r));return new Ta(i,Xe.empty(),e)}function bc(n){return new Ta(n.readTime,n.key,-1)}class Ta{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ta(Pt.min(),Xe.empty(),-1)}static max(){return new Ta(Pt.max(),Xe.empty(),-1)}}function dT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}class wy{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.P=null}}function Y0(n,e=null,t=[],r=[],i=null,a=null,d=null){return new wy(n,e,t,r,i,a,d)}function Ec(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Wf(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),pl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wf(r)).join(",")),e.P=t}return e.P}function Kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!JS(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Da(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ay(n.startAt,e.startAt)&&Ay(n.endAt,e.endAt)}function wc(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _l(n,e){return n.filters.filter(t=>t instanceof Mr&&t.field.isEqual(e))}function ag(n,e,t){let r,i=!0;for(const a of _l(n,e)){let d,f=!0;switch(a.op){case"<":case"<=":d=YS(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=q0}cT(r,d)===d&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];cT(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Fu(n,e,t){let r,i=!0;for(const a of _l(n,e)){let d,f=!0;switch(a.op){case">=":case">":d=QS(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=W0}uT(r,d)===d&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];uT(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Mr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new mh(e,t,r):"array-contains"===t?new Dy(e,r):"in"===t?new Ty(e,r):"not-in"===t?new J0(e,r):"array-contains-any"===t?new lg(e,r):new Mr(e,t,r)}static V(e,t,r){return"in"===t?new fT(e,r):new Q0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ku(t,this.value)):null!==t&&Ru(this.value)===Ru(t)&&this.v(ku(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mh extends Mr{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.v(t)}}class fT extends Mr{constructor(e,t){super(e,"in",t),this.keys=Cy(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Q0 extends Mr{constructor(e,t){super(e,"not-in",t),this.keys=Cy(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Cy(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class Dy extends Mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pu(t)&&ph(t.arrayValue,this.value)}}class Ty extends Mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ph(this.value.arrayValue,t)}}class J0 extends Mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ph(this.value.arrayValue,t)}}class lg extends Mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class Cc{constructor(e,t){this.position=e,this.inclusive=t}}class Lu{constructor(e,t="asc"){this.field=e,this.dir=t}}function JS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Iy(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(d.referenceValue),t.key):ku(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ay(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Da(n.position[t],e.position[t]))return!1;return!0}class yl{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Sy(n,e,t,r,i,a,d,f){return new yl(n,e,t,r,i,a,d,f)}function gh(n){return new yl(n)}function cg(n){return!pl(n.limit)&&"F"===n.limitType}function Oi(n){return!pl(n.limit)&&"L"===n.limitType}function My(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xy(n){for(const e of n.filters)if(e.S())return e.field;return null}function X0(n){return null!==n.collectionGroup}function Zf(n){const e=tt(n);if(null===e.D){e.D=[];const t=xy(e),r=My(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Lu(t)),e.D.push(new Lu(Ln.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Lu(Ln.keyField(),a))}}}return e.D}function Rs(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=Y0(e.path,e.collectionGroup,Zf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Zf(e))t.push(new Lu(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Cc(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Cc(e.startAt.position,!e.startAt.inclusive):null;e.C=Y0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function pT(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yf(n,e){return Kf(Rs(n),Rs(e))&&n.limitType===e.limitType}function ug(n){return`${Ec(Rs(n))}|lt:${n.limitType}`}function dg(n){return`Query(target=${function hT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Wf(r.value)}`;var r}).join(", ")}]`),pl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Wf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Wf(t)).join(",")),`Target(${e})`}(Rs(n))}; limitType=${n.limitType})`}function Oy(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=Iy(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,Zf(t),r)||t.endAt&&!function(i,a,d){const f=Iy(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,Zf(t),r)));var t,r}function eE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tE(n){return(e,t)=>{let r=!1;for(const i of Zf(n)){const a=nE(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function nE(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),_=d.data.field(i);return null!==f&&null!==_?ku(f,_):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function rE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function Ry(n){return{integerValue:""+n}}function iE(n,e){return ng(e)?Ry(e):rE(n,e)}class hg{constructor(){this._=void 0}}function sE(n,e,t){return n instanceof Yi?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof vl?lE(n,e):n instanceof Vu?mT(n,e):function(r,i){const a=aE(r,i),d=cE(a)+cE(r.k);return by(a)&&by(r.k)?Ry(d):rE(r.M,d)}(n,e)}function oE(n,e,t){return n instanceof vl?lE(n,e):n instanceof Vu?mT(n,e):t}function aE(n,e){return n instanceof Bu?by(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yi extends hg{}class vl extends hg{constructor(e){super(),this.elements=e}}function lE(n,e){const t=uE(e);for(const r of n.elements)t.some(i=>Da(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vu extends hg{constructor(e){super(),this.elements=e}}function mT(n,e){let t=uE(e);for(const r of n.elements)t=t.filter(i=>!Da(i,r));return{arrayValue:{values:t}}}class Bu extends hg{constructor(e,t){super(),this.M=e,this.k=t}}function cE(n){return _r(n.integerValue||n.doubleValue)}function uE(n){return Pu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qf{constructor(e,t){this.field=e,this.transform=t}}class gT{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class _h{}function _T(n,e,t){n instanceof Xf?function(r,i,a){const d=r.value.clone(),f=hE(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof bl?function(r,i,a){if(!Uu(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=hE(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(yT(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jf(n,e,t){var i;n instanceof Xf?function(r,i,a){if(!Uu(r.precondition,i))return;const d=r.value.clone(),f=Fy(r.fieldTransforms,a,i);d.setAll(f),i.convertToFoundDocument(dE(i),d).setHasLocalMutations()}(n,e,t):n instanceof bl?function(r,i,a){if(!Uu(r.precondition,i))return;const d=Fy(r.fieldTransforms,a,i),f=i.data;f.setAll(yT(r)),f.setAll(d),i.convertToFoundDocument(dE(i),f).setHasLocalMutations()}(n,e,t):Uu(n.precondition,i=e)&&i.convertToNoDocument(Pt.min())}function Py(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=aE(r.transform,i||null);null!=a&&(null==t&&(t=Zi.empty()),t.set(r.field,a))}return t||null}function Ny(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&hh(t,r,(i,a)=>function ky(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof vl&&r instanceof vl||t instanceof Vu&&r instanceof Vu?hh(t.elements,r.elements,Da):t instanceof Bu&&r instanceof Bu?Da(t.k,r.k):t instanceof Yi&&r instanceof Yi);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function dE(n){return n.isFoundDocument()?n.version:Pt.min()}class Xf extends _h{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class bl extends _h{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function yT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function hE(n,e,t){const r=new Map;Vt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,oE(d,f,t[i]))}return r}function Fy(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,sE(a,d,e))}return r}class yh extends _h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class fg extends _h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class fE{constructor(e){this.count=e}}var xr,Xt;function ep(n){switch(n){default:return at();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function pE(n){if(void 0===n)return Er("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case xr.OK:return Ee.OK;case xr.CANCELLED:return Ee.CANCELLED;case xr.UNKNOWN:return Ee.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Ee.INTERNAL;case xr.UNAVAILABLE:return Ee.UNAVAILABLE;case xr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case xr.NOT_FOUND:return Ee.NOT_FOUND;case xr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case xr.ABORTED:return Ee.ABORTED;case xr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case xr.DATA_LOSS:return Ee.DATA_LOSS;default:return at()}}(Xt=xr||(xr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class Dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nt(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return yy(this.inner)}size(){return this.innerSize}}class jr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:li.RED,this.left=null!=i?i:li.EMPTY,this.right=null!=a?a:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bh(this.data.getIterator())}getIteratorFrom(e){return new bh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class bh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eh(n){return n.hasNext()?n.getNext():void 0}const Ly=new jr(Xe.comparator);function ks(){return Ly}const mE=new jr(Xe.comparator);function pg(){return mE}function tp(){return new Dc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vy=new jr(Xe.comparator),vT=new jn(Xe.comparator);function Mn(...n){let e=vT;for(const t of n)e=e.add(t);return e}const gE=new jn(Jt);function El(){return gE}class wh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,np.createSynthesizedTargetChangeForCurrentChange(e,t)),new wh(Pt.min(),r,El(),ks(),Mn())}}class np{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new np(Sr.EMPTY_BYTE_STRING,t,Mn(),Mn(),Mn())}}class mg{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class ju{constructor(e,t){this.targetId=e,this.$=t}}class _E{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class yE{constructor(){this.B=0,this.L=go(),this.U=Sr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Mn(),t=Mn(),r=Mn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new np(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=go()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class bT{constructor(e){this.nt=e,this.st=new Map,this.it=ks(),this.rt=vE(),this.ot=new jn(Jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(wc(a))if(0===r){const d=new Xe(a.path);this.ct(t,d,Un.newNoDocument(d,Pt.min()))}else Vt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,d)=>{const f=this.wt(d);if(f){if(a.current&&wc(f.target)){const _=new Xe(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,Un.newNoDocument(_,e))}a.j&&(t.set(d,a.H()),a.J())}});let r=Mn();this.rt.forEach((a,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,d)=>d.setReadTime(e));const i=new wh(e,t,this.ot,this.it,r);return this.it=ks(),this.rt=vE(),this.ot=new jn(Jt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new yE,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jn(Jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new yE),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function vE(){return new jr(Xe.comparator)}function go(){return new jr(Xe.comparator)}const By={asc:"ASCENDING",desc:"DESCENDING"},bE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class EE{constructor(e,t){this.databaseId=e,this.N=t}}function Ch(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uy(n,e){return n.N?e.toBase64():e.toUint8Array()}function ET(n,e){return Ch(n,e.toTimestamp())}function ci(n){return Vt(!!n),Pt.fromTimestamp(function(e){const t=Ca(e);return new Ar(t.seconds,t.nanos)}(n))}function jy(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wE(n){const e=mn.fromString(n);return Vt(AE(e)),e}function Dh(n,e){return jy(n.databaseId,e.path)}function wl(n,e){const t=wE(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(wT(t))}function gg(n,e){return jy(n.databaseId,e)}function CE(n){const e=wE(n);return 4===e.length?mn.emptyPath():wT(e)}function rp(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wT(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function CT(n,e,t){return{name:Dh(n,e),fields:t.value.mapValue.fields}}function _g(n,e,t){const r=wl(n,e.name),i=ci(e.updateTime),a=new Zi({mapValue:{fields:e.fields}}),d=Un.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Th(n,e){let t;if(e instanceof Xf)t={update:CT(n,e.key,e.value)};else if(e instanceof yh)t={delete:Dh(n,e.key)};else if(e instanceof bl)t={update:CT(n,e.key,e.data),updateMask:MT(e.fieldMask)};else{if(!(e instanceof fg))return at();t={verify:Dh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof Yi)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bu)return{fieldPath:a.field.canonicalString(),increment:d.k};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ET(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}function TE(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ur.updateTime(ci(i.updateTime)):void 0!==i.exists?Ur.exists(i.exists):Ur.none():Ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(Vt("REQUEST_TIME"===d.setToServerValue),f=new Yi):"appendMissingElements"in d?f=new vl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Vu(d.removeAllFromArray.values||[]):"increment"in d?f=new Bu(a,d.increment):at();const _=Ln.fromServerFormat(d.fieldPath);return new Qf(_,f)}(n,i)):[];var i;if(e.update){const i=wl(n,e.update.name),a=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new xu((e.updateMask.fieldPaths||[]).map(w=>Ln.fromServerFormat(w)));return new bl(i,a,d,t,r)}return new Xf(i,a,t,r)}if(e.delete){const i=wl(n,e.delete);return new yh(i,t)}if(e.verify){const i=wl(n,e.verify);return new fg(i,t)}return at()}function TT(n,e){return{documents:[gg(n,e.path)]}}function IT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=gg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(x){if("=="===x.op){if(aT(x.value))return{unaryFilter:{field:Hu(x.field),op:"IS_NAN"}};if(oT(x.value))return{unaryFilter:{field:Hu(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(aT(x.value))return{unaryFilter:{field:Hu(x.field),op:"IS_NOT_NAN"}};if(oT(x.value))return{unaryFilter:{field:Hu(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hu(x.field),op:XS(x.op),value:x.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Hu((I=w).field),direction:AT(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=e.limit,n.N||pl(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Hy(n){let e=CE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Vt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=$y(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new Lu(Tc((x=I).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,pl(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new Cc((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new Cc(I.values||[],!I.before)}(t.endAt)),Sy(e,i,d,a,f,"F",_,w)}function $y(n){return n?void 0!==n.unaryFilter?[Gy(n)]:void 0!==n.fieldFilter?[ST(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>$y(e)).reduce((e,t)=>e.concat(t)):at():[]}function AT(n){return By[n]}function XS(n){return bE[n]}function Hu(n){return{fieldPath:n.canonicalString()}}function Tc(n){return Ln.fromServerFormat(n.fieldPath)}function ST(n){return Mr.create(Tc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function Gy(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tc(n.unaryFilter.field);return Mr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tc(n.unaryFilter.field);return Mr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tc(n.unaryFilter.field);return Mr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tc(n.unaryFilter.field);return Mr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function MT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SE(e)),e=xT(n.get(t),e);return SE(e)}function xT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function SE(n){return n+"\x01\x01"}function Ia(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&at(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:at()}a=d+2}return new mn(r)}const ip=["userId","batchId"];function Cl(n,e){return[n,Qi(e)]}function ME(n,e,t){return[n,Qi(e),t]}const sp={},OT=["prefixPath","collectionGroup","readTime","documentId"],RT=["prefixPath","collectionGroup","documentId"],zy=["collectionGroup","readTime","prefixPath","documentId"],Aa=["canonicalId","targetId"],op=["targetId","path"],Ri=["path","targetId"],$u=["collectionId","parent"],yg=["indexId","uid"],_o=["uid","sequenceNumber"],Wy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ih=["indexId","uid","orderedDocumentKey"],Ah=["userId","collectionPath","documentId"],Sh=["userId","collectionPath","largestBatchId"],Mh=["userId","collectionGroup","largestBatchId"],Gu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xh=[...Gu,"documentOverlays"],zu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Oh=[...zu,"indexConfiguration","indexState","indexEntries"],Wu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,r)=>{t(e)})}static reject(e){return new De((t,r)=>{r(e)})}static waitFor(e){return new De((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},_=>r(_))}),d=!0,a===i&&t()})}static or(e){let t=De.resolve(!1);for(const r of e)t=t.next(i=>i?De.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class ap{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Br,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Rh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=vg(r.target.error);this.At.reject(new Rh(e,i))}}static open(e,t,r,i){try{return new ap(t,e.transaction(i,r))}catch(a){throw new Rh(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new OE(t)}}class yo{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===yo.Vt((0,Ht.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Ac(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ht.hl)())return!1;if(yo.St())return!0;const e=(0,Ht.z$)(),t=yo.Vt(e),r=0<t&&t<10,i=yo.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Se.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new Rh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Fe(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Rh(e,f))},a.onupgradeneeded=d=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Se.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=ap.open(a.db,e,d?"readonly":"readwrite",r),w=i(_).next(I=>(_.Pt(),I)).catch(I=>(_.abort(I),De.reject(I))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),a.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xE{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ac(this.Ft.delete())}}class Rh extends Fe{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ic(n){return"IndexedDbTransactionError"===n.name}class OE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ac(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Ac(this.store.add(e))}get(e){return Ac(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Ac(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Ac(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new De((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new De((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new De((r,i)=>{t.onerror=a=>{const d=vg(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new De((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new xE(f),w=t(f.primaryKey,f.value,_);if(w instanceof De){const I=w.catch(x=>(_.done(),De.reject(x)));r.push(I)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>De.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ac(n){return new De((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vg(r.target.error);t(i)}})}let RE=!1;function vg(n){const e=yo.Vt((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RE||(RE=!0,setTimeout(()=>{throw r},0)),r}}return n}class kE extends qy{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Jr(n,e){const t=tt(n);return yo.xt(t.Ht,e)}class bg{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&_T(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jf(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jf(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mn())}isEqual(e){return this.batchId===e.batchId&&hh(this.mutations,e.mutations,(t,r)=>Ny(t,r))&&hh(this.baseMutations,e.baseMutations,(t,r)=>Ny(t,r))}}class Ky{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Vt(e.mutations.length===r.length);let i=Vy;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new Ky(e,t,r,i)}}class Zy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dl{constructor(e,t,r,i,a=Pt.min(),d=Pt.min(),f=Sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class PE{constructor(e){this.Jt=e}}function FE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Eg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Dh(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Ch(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:kh(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:kh(e.version)}}var i,a;return r}function Eg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qu(n){const e=new Ar(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function Sc(n,e){const t=(e.baseMutations||[]).map(a=>TE(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>TE(n.Jt,a)),i=Ar.fromMillis(e.localWriteTimeMs);return new bg(e.batchId,i,t,r)}function Ku(n){const e=qu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qu(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(Vt(1===(i=n.query).documents.length),r=Rs(gh(CE(i.documents[0])))):r=Rs(Hy(n.query)),new Dl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Sr.fromBase64String(n.resumeToken))}function LE(n,e){const t=kh(e.snapshotVersion),r=kh(e.lastLimboFreeSnapshotVersion);let i;i=wc(e.target)?TT(n.Jt,e.target):IT(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ec(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function VE(n){const e=Hy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pT(e,e.limit,"L"):e}function BE(n,e){return new Zy(e.largestBatchId,TE(n.Jt,e.overlayMutation))}function kT(n,e){const t=e.path.lastSegment();return[n,Qi(e.path.popLast()),t]}class PT{getBundleMetadata(e,t){return Yy(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Yy(e).put({bundleId:(r=t).id,createTime:kh(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return NT(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:VE(i.bundledQuery),readTime:qu(i.readTime)};var i})}saveNamedQuery(e,t){return NT(e).put({name:(r=t).name,readTime:kh(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Yy(n){return Jr(n,"bundles")}function NT(n){return Jr(n,"namedQueries")}class Qy{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Qy(e,t.uid||"")}getOverlay(e,t){return Sa(e).get(kT(this.userId,t)).next(r=>r?BE(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new Zy(t,d);i.push(this.Xt(e,f))}),De.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Qi(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(Sa(e).Qt("collectionPathOverlayIndex",f))}),De.waitFor(a)}getOverlaysForCollection(e,t,r){const i=tp(),a=Qi(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sa(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const w=BE(this.M,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=tp();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sa(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const x=BE(this.M,w);a.size()<i||x.largestBatchId===d?(a.set(x.getKey(),x),d=x.largestBatchId):I.done()}).next(()=>a)}Xt(e,t){return Sa(e).put(function(r,i,a){const[d,f,_]=kT(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Th(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Sa(n){return Jr(n,"documentOverlays")}class Zu{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_r(e.integerValue));else if("doubleValue"in e){const r=_r(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Ou(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(fl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?lT(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):at()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Xe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function UE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function jE(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=UE(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Zu.fe=new Zu;class HE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=jE(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=jE(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class wg{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class FT{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ph{constructor(){this.De=new HE,this.Ce=new wg(this.De),this.xe=new FT(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Mc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Mc(this.indexId,this.documentKey,this.arrayValue,r)}}function Yu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$E(n.arrayValue,e.arrayValue),0!==t?t:(t=$E(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function $E(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class LT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=og(e);if(void 0!==t&&!this.Be(t))return!1;const r=gl(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class VT{constructor(){this.qe=new Cg}addToCollectionParentIndex(e,t){return this.qe.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getFieldIndex(e,t){return De.resolve(null)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}updateCollectionGroup(e,t,r){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class Cg{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(mn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(mn.comparator)).toArray()}}const Nh=new Uint8Array(0);class GE{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Cg,this.Ge=new Dc(r=>Ec(r),(r,i)=>Kf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Qi(i)};return Jy(e).put(a)}return De.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[_y(t),""],!1,!0);return Jy(e).qt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(Ia(d.parent))}return r})}addFieldIndex(e,t){const r=Xy(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Xy(e),i=Fh(e),a=Qu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Qu(e);let i=!0;const a=new Map;return De.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Mn();const f=[];return De.forEach(a,(_,w)=>{var I;Ge("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(dt=>`${dt.fieldPath}:${dt.kind}`).join(",")}`} to execute ${Ec(t)}`);const x=function(dt,ut){const Kt=og(ut);if(void 0===Kt)return null;for(const sn of _l(dt,Kt.fieldPath))switch(sn.op){case"array-contains-any":return sn.value.arrayValue.values||[];case"array-contains":return[sn.value]}return null}(w,_),V=function(dt,ut){const Kt=new Map;for(const sn of gl(ut))for(const xn of _l(dt,sn.fieldPath))switch(xn.op){case"==":case"in":Kt.set(sn.fieldPath.canonicalString(),xn.value);break;case"not-in":case"!=":return Kt.set(sn.fieldPath.canonicalString(),xn.value),Array.from(Kt.values())}return null}(w,_),Y=function(dt,ut){const Kt=[];let sn=!0;for(const xn of gl(ut)){const Xi=0===xn.kind?ag(dt,xn.fieldPath,dt.startAt):Fu(dt,xn.fieldPath,dt.startAt);if(!Xi.value)return null;Kt.push(Xi.value),sn&&(sn=Xi.inclusive)}return new Cc(Kt,sn)}(w,_),J=function(dt,ut){const Kt=[];let sn=!0;for(const xn of gl(ut)){const Xi=0===xn.kind?Fu(dt,xn.fieldPath,dt.endAt):ag(dt,xn.fieldPath,dt.endAt);if(!Xi.value)return null;Kt.push(Xi.value),sn&&(sn=Xi.inclusive)}return new Cc(Kt,sn)}(w,_),me=this.je(_,w,Y),Ue=this.je(_,w,J),pt=this.We(_,w,V),gt=this.ze(_.indexId,x,me,!!Y&&Y.inclusive,Ue,!!J&&J.inclusive,pt);return De.forEach(gt,dt=>r.Gt(dt,t.limit).next(ut=>{ut.forEach(Kt=>{const sn=Xe.fromSegments(Kt.documentKey);d.has(sn)||(d=d.add(sn),f.push(sn))})}))}).next(()=>f)}return De.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,d,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),w=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const V=t?this.He(t[x/w]):Nh,Y=r?this.Je(e,V,r[x%w],i):this.Ye(e),J=a?this.Xe(e,V,a[x%w],d):this.Ye(e+1);I.push(...this.createRange(Y,J,f.map(me=>this.Je(e,V,me,!0))))}return I}Je(e,t,r,i){const a=new Mc(e,Xe.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Mc(e,Xe.empty(),t,r);return i?a.ke():a}Ye(e){return new Mc(e,Xe.empty(),Nh,Nh)}getFieldIndex(e,t){const r=new LT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const d=a.filter(f=>r.$e(f));return d.sort((f,_)=>_.fields.length-f.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new Ph;for(const i of gl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.Ne(i.kind);Zu.fe.Zt(a,d)}return r.Se()}He(e){const t=new Ph;return Zu.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Ph;return Zu.fe.Zt(vc(this.databaseId,t),r.Ne(function(i){const a=gl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new Ph);let a=0;for(const d of gl(e)){const f=r[a++];for(const _ of i)if(this.en(t,d.fieldPath)&&Pu(f))i=this.nn(i,d,f);else{const w=_.Ne(d.kind);Zu.fe.Zt(f,w)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new Ph;_.seed(f.Se()),Zu.fe.Zt(d,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Mr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Xy(e),i=Fh(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const d=[];return De.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(w,I){const x=I?new Nu(I.sequenceNumber,new Ta(qu(I.readTime),new Xe(Ia(I.documentKey)),I.largestBatchId)):Nu.empty(),V=w.fields.map(([Y,J])=>new qf(Ln.fromServerFormat(Y),J));return new sg(w.indexId,w.collectionGroup,V,x)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Xy(e),a=Fh(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>De.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:kh((V=r).readTime),documentKey:Qi(V.documentKey.path),largestBatchId:V.largestBatchId});var V})))}updateIndexEntries(e,t){const r=new Map;return De.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?De.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),De.forEach(f,_=>this.on(e,i,_).next(w=>{const I=this.un(a,_);return w.isEqual(I)?De.resolve():this.an(e,a,_,w,I)}))))})}cn(e,t,r,i){return Qu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Qu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Qu(e);let a=new jn(Yu);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{a=a.add(new Mc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new jn(Yu);const i=this.Ze(t,e);if(null==i)return r;const a=og(t);if(null!=a){const d=e.data.field(a.fieldPath);if(Pu(d))for(const f of d.arrayValue.values||[])r=r.add(new Mc(t.indexId,e.key,this.He(f),i))}else r=r.add(new Mc(t.indexId,e.key,Nh,i));return r}an(e,t,r,i,a){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,w,I,x){const V=f.getIterator(),Y=_.getIterator();let J=Eh(V),me=Eh(Y);for(;J||me;){let Ue=!1,pt=!1;if(J&&me){const gt=w(J,me);gt<0?pt=!0:gt>0&&(Ue=!0)}else null!=J?pt=!0:Ue=!0;Ue?(I(me),me=Eh(Y)):pt?(x(J),J=Eh(V)):(J=Eh(V),me=Eh(Y))}}(i,a,Yu,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),De.waitFor(d)}rn(e){let t=1;return Fh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Yu(d,f)).filter((d,f,_)=>!f||0!==Yu(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=Yu(d,e),_=Yu(d,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(d),i.push(d.ke());else if(_>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Nh,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Nh,[]]));return a}}function Jy(n){return Jr(n,"collectionParents")}function Qu(n){return Jr(n,"indexEntries")}function Xy(n){return Jr(n,"indexConfiguration")}function Fh(n){return Jr(n,"indexState")}const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ps{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Lh(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:d},(I,x,V)=>(f++,V.delete()));a.push(_.next(()=>{Vt(1===f)}));const w=[];for(const I of t.mutations){const x=ME(e,I.key.path,t.batchId);a.push(i.delete(x)),w.push(I.key)}return De.waitFor(a).next(()=>w)}function lp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class cp{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Vt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new cp(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).Wt({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Tl(e),d=xc(e);return d.add({}).next(f=>{Vt("number"==typeof f);const _=new bg(f,t,r,i),w=function(V,Y,J){const me=J.baseMutations.map(pt=>Th(V.Jt,pt)),Ue=J.mutations.map(pt=>Th(V.Jt,pt));return{userId:Y,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:me,mutations:Ue}}(this.M,this.userId,_),I=[];let x=new jn((V,Y)=>Jt(V.canonicalString(),Y.canonicalString()));for(const V of i){const Y=ME(this.userId,V.key.path,f);x=x.add(V.key.path.popLast()),I.push(d.put(w)),I.push(a.put(Y,sp))}return x.forEach(V=>{I.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),De.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return xc(e).get(t).next(r=>r?(Vt(r.userId===this.userId),Sc(this.M,r)):null)}fn(e,t){return this.ln[t]?De.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xc(e).Wt({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(Vt(f.batchId>=r),a=Sc(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Sc(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Cl(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Tl(e).Wt({range:i},(d,f,_)=>{const[w,I,x]=d,V=Ia(I);if(w===this.userId&&t.path.isEqual(V))return xc(e).get(x).next(Y=>{if(!Y)throw at();Vt(Y.userId===this.userId),a.push(Sc(this.M,Y))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Jt);const i=[];return t.forEach(a=>{const d=Cl(this.userId,a.path),f=IDBKeyRange.lowerBound(d),_=Tl(e).Wt({range:f},(w,I,x)=>{const[V,Y,J]=w,me=Ia(Y);V===this.userId&&a.path.isEqual(me)?r=r.add(J):x.done()});i.push(_)}),De.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Cl(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new jn(Jt);return Tl(e).Wt({range:d},(_,w,I)=>{const[x,V,Y]=_,J=Ia(V);x===this.userId&&r.isPrefixOf(J)?J.length===i&&(f=f.add(Y)):I.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xc(e).get(a).next(d=>{if(null===d)throw at();Vt(d.userId===this.userId),r.push(Sc(this.M,d))}))}),De.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Lh(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),De.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Tl(e).Wt({range:r},(a,d,f)=>{if(a[0]===this.userId){const _=Ia(a[1]);i.push(_)}else f.done()}).next(()=>{Vt(0===i.length)})})}containsKey(e,t){return Dg(e,this.userId,t)}wn(e){return up(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dg(n,e,t){const r=Cl(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Tl(n).Wt({range:a,jt:!0},(f,_,w)=>{const[I,x,V]=f;I===e&&x===i&&(d=!0),w.done()}).next(()=>d)}function xc(n){return Jr(n,"mutations")}function Tl(n){return Jr(n,"documentMutations")}function up(n){return Jr(n,"mutationQueues")}class Il{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Il(0)}static yn(){return new Il(-1)}}class eM{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Il(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Pt.fromTimestamp(new Ar(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Vh(e).Wt((d,f)=>{const _=Ku(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>De.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Vh(e).Wt((r,i)=>{const a=Ku(i);t(a)})}pn(e){return dp(e).get("targetGlobalKey").next(t=>(Vt(null!==t),t))}In(e,t){return dp(e).put("targetGlobalKey",t)}Tn(e,t){return Vh(e).put(LE(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ec(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Vh(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const w=Ku(f);Kf(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Wo(e);return t.forEach(d=>{const f=Qi(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),De.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wo(e);return De.forEach(t,a=>{const d=Qi(a.path);return De.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Wo(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wo(e);let a=Mn();return i.Wt({range:r,jt:!0},(d,f,_)=>{const w=Ia(d[1]),I=new Xe(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Qi(t.path),i=IDBKeyRange.bound([r],[_y(r)],!1,!0);let a=0;return Wo(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],_,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}Et(e,t){return Vh(e).get(t).next(r=>r?Ku(r):null)}}function Vh(n){return Jr(n,"targets")}function dp(n){return Jr(n,"targetGlobal")}function Wo(n){return Jr(n,"targetDocuments")}function Oc(n){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Se.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==Wu)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),Tg.apply(this,arguments)}function Ig([n,e],[t,r]){const i=Jt(n,t);return 0===i?Jt(e,r):i}class WE{constructor(e){this.An=e,this.buffer=new jn(Ig),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ig(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qE{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Se.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ic(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Oc(i)}yield t.Sn(e)}))}}class ev{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return De.resolve(ps.A);const r=new WE(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(zE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,d,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),uh()<=No.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class KE{constructor(e,t){this.db=e,this.garbageCollector=new ev(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Ag(e,r)}removeReference(e,t,r){return Ag(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ag(e,t)}On(e,t){return function(r,i){let a=!1;return up(r).zt(d=>Dg(r,d,i).next(f=>(f&&(a=!0),De.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(d,f)=>{if(f<=t){const _=this.On(e,d).next(w=>{if(!w)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Pt.min()),Wo(e).delete([0,Qi(d.path)])))});i.push(_)}}).next(()=>De.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ag(e,t)}Mn(e,t){const r=Wo(e);let i,a=ps.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:w})=>{0===d?(a!==ps.A&&t(new Xe(Ia(i)),a),a=w,i=_):a=ps.A}).next(()=>{a!==ps.A&&t(new Xe(Ia(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ag(n,e){return Wo(n).put((r=n.currentSequenceNumber,{targetId:0,path:Qi(e.path),sequenceNumber:r}));var r}class tv{constructor(){this.changes=new Dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?De.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZE{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ju(e).put(r)}removeEntry(e,t,r){return Ju(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Eg(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return Ju(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Bh(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return Ju(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Bh(t))},(i,a)=>{r={document:this.$n(t,a),size:lp(a)}}).next(()=>r)}getEntries(e,t){let r=ks();return this.Ln(e,t,(i,a)=>{const d=this.$n(i,a);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=ks(),i=new jr(Xe.comparator);return this.Ln(e,t,(a,d)=>{const f=this.$n(a,d);r=r.insert(a,f),i=i.insert(a,lp(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return De.resolve();let i=new jn(sv);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Bh(i.first()),Bh(i.last())),d=i.getIterator();let f=d.getNext();return Ju(e).Wt({index:"documentKeyIndex",range:a},(_,w,I)=>{const x=Xe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&sv(f,x)<0;)r(f,null),f=d.getNext();f&&f.isEqual(x)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?I.Ut(Bh(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Eg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ju(e).qt(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=ks();for(const _ of d){const w=this.$n(Xe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=ks();const d=iv(t,r),f=iv(t,Ta.max());return Ju(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,w,I)=>{const x=this.$n(Xe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new nv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rv(e).get("remoteDocumentGlobalKey").next(t=>(Vt(!!t),t))}Fn(e,t){return rv(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function NE(n,e){let t;if(e.document)t=_g(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=qu(e.noDocument.readTime);t=Un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=Xe.fromSegments(e.unknownDocument.path),i=qu(e.unknownDocument.version);t=Un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Ar(r[0],r[1]);return Pt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return Un.newInvalidDocument(e)}}class nv extends tv{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Dc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((a,d)=>Jt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const _=FE(this.Kn.M,d);i=i.add(a.path.popLast()),r+=lp(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=FE(this.Kn.M,d.convertToNoDocument(Pt.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),De.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,d)=>{this.Gn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function rv(n){return Jr(n,"remoteDocumentGlobal")}function Ju(n){return Jr(n,"remoteDocumentsV14")}function Bh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iv(n,e){const t=e.documentKey.path.toArray();return[n,Eg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sv(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Jt(t[a],r[a]),i)return i;return i=Jt(t.length,r.length),i||(i=Jt(t[t.length-2],r[r.length-2]),i||Jt(t[t.length-1],r[r.length-1]))}class ov{constructor(e){this.M=e}kt(e,t,r,i){const a=new ap("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ip,{unique:!0}),f.createObjectStore("documentMutations"),av(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=De.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),av(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ip,{unique:!0});const I=_.store("mutations"),x=w.map(V=>I.put(V));return De.waitFor(x)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(a))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Ah});_.createIndex("collectionPathOverlayIndex",Sh,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Mh,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:OT});_.createIndex("documentKeyIndex",RT),_.createIndex("collectionGroupIndex",zy)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:yg}).createIndex("sequenceNumberIndex",_o,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Wy}).createIndex("documentKeyIndex",Ih,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=lp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>De.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>De.forEach(f,_=>{Vt(_.userId===a.userId);const w=Sc(this.M,_);return Lh(e,a.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((d,f)=>{const _=new mn(d),w=[0,Qi(_)];a.push(t.get(w).next(I=>I?De.resolve():t.put({targetId:0,path:Qi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>De.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:$u});const r=t.store("collectionParents"),i=new Cg,a=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Qi(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new mn(d);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],w)=>{const I=Ia(f);return a(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Ku(i),d=LE(this.M,a);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,d)=>{const f=t.store("remoteDocumentsV14"),_=(w=d,w.document?new Xe(mn.fromString(w.document.name).popFirst(5)):w.noDocument?Xe.fromSegments(w.noDocument.path):w.unknownDocument?Xe.fromSegments(w.unknownDocument.path):at()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(I))}).next(()=>De.waitFor(i))}}function av(n){n.createObjectStore("targetDocuments",{keyPath:op}).createIndex("documentTargetsIndex",Ri,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Aa,{unique:!0}),n.createObjectStore("targetGlobal")}const Sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mg{constructor(e,t,r,i,a,d,f,_,w,I,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=d,this.document=f,this.Xn=w,this.Zn=I,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=V=>Promise.resolve(),!Mg.vt())throw new Fe(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KE(this,i),this.hs=t+"main",this.M=new PE(_),this.ls=new yo(this.hs,this.ts,new ov(this.M)),this.fs=new eM(this.referenceDelegate,this.M),this.ds=new ZE(this.M),this._s=new PT,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Ee.FAILED_PRECONDITION,Sg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ps(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Se.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Ic(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Uh(e).get("owner").next(t=>De.resolve(this.bs(t)))}Vs(e){return hp(e).delete(this.clientId)}vs(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Jr(r,"clientMetadata");return i.qt().next(a=>{const d=e.Ds(a,18e5),f=a.filter(_=>-1===d.indexOf(_));return De.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?De.resolve(!0):Uh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(Ee.FAILED_PRECONDITION,Sg);return!1}}return!(!this.networkEnabled||!this.inForeground)||hp(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new kE(t,ps.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>hp(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return cp.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new GE(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Qy.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(d=this.ts)?Oh:13===d?zu:12===d?xh:11===d?Gu:void at();var d;let f;return this.ls.runTransaction(e,i,a,_=>(f=new kE(_,this.es?this.es.next():ps.A),"readwrite-primary"===t?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Fe(Ee.FAILED_PRECONDITION,Wu);return r(f)}).next(w=>this.Ps(f).next(()=>w)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return Uh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(Ee.FAILED_PRECONDITION,Sg)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uh(e).put("owner",t)}static vt(){return yo.vt()}Rs(e){const t=Uh(e);return t.get("owner").next(r=>this.bs(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uh(n){return Jr(n,"owner")}function hp(n){return Jr(n,"clientMetadata")}function xg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class YE{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):X0(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Xe(t)).next(r=>{let i=pg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=pg();return this.indexManager.getCollectionParents(e,i).next(d=>De.forEach(d,f=>{const _=(w=t,I=f.child(i),new yl(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.zs(e,_,r).next(w=>{w.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const d of a)for(const f of d.mutations){const _=f.key;let w=i.get(_);null==w&&(w=Un.newInvalidDocument(_),i=i.insert(_,w)),Jf(f,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,d)=>{Oy(t,d)||(i=i.remove(a))}),i))}}class Og{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Mn(),i=Mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Og(e,t.fromCache,r,i)}}class BT{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const d=this.ei(t,a);return(cg(t)||Oi(t))&&this.ni(t.limitType,d,i,r)?this.ti(e,t):(uh()<=No.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dg(t)),this.Zs.Qs(e,t,Z0(r,-1)).next(f=>(d.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ei(e,t){let r=new jn(tE(e));return t.forEach((i,a)=>{Oy(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return uh()<=No.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",dg(t)),this.Zs.Qs(e,t,Ta.min())}}class UT{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new jr(Jt),this.ri=new Dc(a=>Ec(a),Kf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new YE(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function QE(n,e,t,r){return new UT(n,e,t,r)}function lv(n,e){return cv.apply(this,arguments)}function cv(){return cv=(0,Se.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let _=Mn();for(const w of i){d.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.ci.Ks(r,_).next(w=>({hi:w,removedBatchIds:d,addedBatchIds:f}))})})}),cv.apply(this,arguments)}function Xr(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const I=_.batch,x=I.keys();let V=De.resolve();return x.forEach(Y=>{V=V.next(()=>w.getEntry(f,Y)).next(J=>{const me=_.docVersions.get(Y);Vt(null!==me),J.version.compareTo(me)<0&&(I.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),w.addEntry(J)))})}),V.next(()=>d.Bs.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function uv(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function jT(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((w,I)=>{const x=i.get(I);if(!x)return;f.push(t.fs.removeMatchingKeys(a,w.removedDocuments,I).next(()=>t.fs.addMatchingKeys(a,w.addedDocuments,I)));let V=x.withSequenceNumber(a.currentSequenceNumber);var Y,J,me;e.targetMismatches.has(I)?V=V.withResumeToken(Sr.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,r)),i=i.insert(I,V),J=V,me=w,(0===(Y=x).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,V))});let _=ks();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),f.push(JE(a,d,e.documentUpdates).next(w=>{_=w})),!r.isEqual(Pt.min())){const w=t.fs.getLastRemoteSnapshotVersion(a).next(I=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(w)}return De.waitFor(f).next(()=>d.apply(a)).next(()=>t.ci.Gs(a,_)).next(()=>_)}).then(a=>(t.ii=i,a))}function JE(n,e,t){let r=Mn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=ks();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(Pt.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):Ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),a})}function XE(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function jh(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,De.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Dl(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Xu(n,e,t){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,Se.Z)(function*(n,e,t){const r=tt(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ic(d))throw d;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),Rg.apply(this,arguments)}function Al(n,e,t){const r=tt(n);let i=Pt.min(),a=Mn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const I=tt(f),x=I.ri.get(w);return void 0!==x?De.resolve(I.ii.get(x)):I.fs.getTargetData(_,w)}(r,d,Rs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{a=_})}).next(()=>r.si.Qs(d,e,t?i:Pt.min(),t?a:Mn())).next(f=>(dv(r,eE(e),f),{documents:f,li:a})))}function ew(n,e){const t=tt(n),r=tt(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function tw(n,e){const t=tt(n),r=t.oi.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,Z0(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(dv(t,e,i),i))}function dv(n,e,t){let r=Pt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function kg(){return kg=(0,Se.Z)(function*(n,e,t,r){const i=tt(n);let a=Mn(),d=ks();for(const w of t){const I=e.fi(w.metadata.name);w.document&&(a=a.add(I));const x=e.di(w);x.setReadTime(e._i(w.metadata.readTime)),d=d.insert(I,x)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),_=yield jh(i,(w=r,Rs(gh(mn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>JE(w,f,d).next(I=>(f.apply(w),I)).next(I=>i.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.fs.addMatchingKeys(w,a,_.targetId)).next(()=>i.ci.Gs(w,I)).next(()=>I)))}),kg.apply(this,arguments)}function tM(n,e){return fp.apply(this,arguments)}function fp(){return fp=(0,Se.Z)(function*(n,e,t=Mn()){const r=yield jh(n,Rs(VE(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=ci(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(Sr.EMPTY_BYTE_STRING,d);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),fp.apply(this,arguments)}class hv{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return De.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:VE(r.bundledQuery),readTime:ci(r.readTime)}),De.resolve();var r}}class Ma{constructor(){this.overlays=new jr(Xe.comparator),this.gi=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),De.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),De.resolve()}getOverlaysForCollection(e,t,r){const i=tp(),a=t.length+1,d=new Xe(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return De.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new jr((w,I)=>w-I);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=tp(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=tp(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return De.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Zy(t,r));let a=this.gi.get(t);void 0===a&&(a=Mn(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class fv{constructor(){this.yi=new jn(ui.pi),this.Ii=new jn(ui.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new ui(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new ui(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Xe(new mn([])),r=new ui(t,e),i=new ui(t,e+1),a=[];return this.Ii.forEachInRange([r,i],d=>{this.Ai(d),a.push(d.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Xe(new mn([])),r=new ui(t,e),i=new ui(t,e+1);let a=Mn();return this.Ii.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new ui(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ui{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Xe.comparator(e.key,t.key)||Jt(e.vi,t.vi)}static Ti(e,t){return Jt(e.vi,t.vi)||Xe.comparator(e.key,t.key)}}class xa{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new jn(ui.pi)}checkEmpty(e){return De.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const d=new bg(a,t,r,i);this.Bs.push(d);for(const f of i)this.Di=this.Di.add(new ui(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return De.resolve(d)}lookupMutationBatch(e,t){return De.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return De.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return De.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ui(t,0),i=new ui(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],d=>{const f=this.Ci(d.vi);a.push(f)}),De.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Jt);return t.forEach(i=>{const a=new ui(i,0),d=new ui(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,d],f=>{r=r.add(f.vi)})}),De.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const d=new ui(new Xe(a),0);let f=new jn(Jt);return this.Di.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.vi)),!0)},d),De.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Vt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return De.forEach(t.mutations,i=>{const a=new ui(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new ui(t,0),i=this.Di.firstAfterOrEqual(r);return De.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return De.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class qo{constructor(e){this.Mi=e,this.docs=new jr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return De.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=ks();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Un.newInvalidDocument(i))}),De.resolve(r)}getAllFromCollection(e,t,r){let i=ks();const a=new Xe(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||dT(bc(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return De.resolve(i)}getAllFromCollectionGroup(e,t,r,i){at()}Oi(e,t){return De.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ko(this)}getSize(e){return De.resolve(this.size)}}class Ko extends tv{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),De.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class nw{constructor(e){this.persistence=e,this.Fi=new Dc(t=>Ec(t),Kf),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new fv,this.targetCount=0,this.Li=Il.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),De.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Tn(t),De.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),De.waitFor(a).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return De.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),De.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),De.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),De.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return De.resolve(r)}containsKey(e,t){return De.resolve(this.Bi.containsKey(t))}}class rw{constructor(e,t){this.Ui={},this.overlays={},this.es=new ps(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new nw(this),this.indexManager=new VT,this.ds=new qo(r=>this.referenceDelegate.qi(r)),this.M=new PE(t),this._s=new hv(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ma,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new xa(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new $T(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return De.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class $T extends qy{constructor(e){super(),this.currentSequenceNumber=e}}class pv{constructor(e){this.persistence=e,this.ji=new fv,this.Wi=null}static zi(e){return new pv(e)}get Hi(){if(this.Wi)return this.Wi;throw at()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),De.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),De.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Hi,r=>{const i=Xe.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,Pt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return De.or([()=>De.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function iw(n,e){return`firestore_clients_${n}_${e}`}function sw(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pp(n,e){return`firestore_targets_${n}_${e}`}class Rc{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Fe(i.error.code,i.error.message))),d?new Rc(e,t,i.state,a):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new mp(e,r.state,i):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=El();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=ng(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new gp(e,a):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mv{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mv(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Pg{constructor(){this.activeTargetIds=El()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ng{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new jr(Jt),this.started=!1,this.rr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=iw(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Pg),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(iw(e.persistenceKey,i));if(a){const d=gp.Yi(i,a);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pp(this.persistenceKey,e));if(r){const i=mp.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pp(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let d=ps.A;if(null!=a)try{const f=JSON.parse(a);Vt("number"==typeof f),d=f}catch(f){Er("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==ps.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new Rc(this.currentUser,e,t,r),a=sw(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=sw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=pp(this.persistenceKey,e),a=new mp(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return gp.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Rc.Yi(new ai(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return mp.Yi(i,t)}mr(e){return mv.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),d=[],f=[];return a.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(d,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=El();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class _p{constructor(){this.$r=new Pg,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Pg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GT{Lr(e){}shutdown(){}}class gv{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ow={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _v{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Fg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const d=this.uo(e,t);Ge("RestConnection","Sending: ",d,r);const f={};return this.ao(f,i,a),this.co(e,d,f,r).then(_=>(Ge("RestConnection","Received: ",_),_),_=>{throw dh("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${ow[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,d)=>{const f=new V0;f.listenOnce(N0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case ul.NO_ERROR:const w=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(w)),a(w);break;case ul.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),d(new Fe(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case ul.HTTP_ERROR:const I=f.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const V=function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(J)>=0?J:Ee.UNKNOWN}(x.status);d(new Fe(V,x.message))}else d(new Fe(Ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(Ee.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=k0(),d=P0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Ym({})),this.ao(f.initMessageHeaders,t,r),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Ge("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,x=!1;const V=new _v({Wr:J=>{x?Ge("Connection","Not sending because WebChannel is closed:",J):(I||(Ge("Connection","Opening WebChannel transport."),w.open(),I=!0),Ge("Connection","WebChannel sending:",J),w.send(J))},zr:()=>w.close()}),Y=(J,me,Ue)=>{J.listen(me,pt=>{try{Ue(pt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return Y(w,Qm.EventType.OPEN,()=>{x||Ge("Connection","WebChannel transport opened.")}),Y(w,Qm.EventType.CLOSE,()=>{x||(x=!0,Ge("Connection","WebChannel transport closed"),V.no())}),Y(w,Qm.EventType.ERROR,J=>{x||(x=!0,dh("Connection","WebChannel transport errored:",J),V.no(new Fe(Ee.UNAVAILABLE,"The operation could not be completed")))}),Y(w,Qm.EventType.MESSAGE,J=>{var me;if(!x){const Ue=J.data[0];Vt(!!Ue);const pt=Ue,gt=pt.error||(null===(me=pt[0])||void 0===me?void 0:me.error);if(gt){Ge("Connection","WebChannel received error:",gt);const dt=gt.status;let ut=function(sn){const xn=xr[sn];if(void 0!==xn)return pE(xn)}(dt),Kt=gt.message;void 0===ut&&(ut=Ee.INTERNAL,Kt="Unknown error status: "+dt+" with message "+gt.message),x=!0,V.no(new Fe(ut,Kt)),w.close()}else Ge("Connection","WebChannel received:",Ue),V.so(Ue)}}),Y(d,F0.STAT_EVENT,J=>{J.stat===L0.PROXY?Ge("Connection","Detected buffering proxy"):J.stat===L0.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.eo()},0),V}}function Lg(){return"undefined"!=typeof window?window:null}function yp(){return"undefined"!=typeof document?document:null}function Hh(n){return new EE(n,!0)}class Vg{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class yv{constructor(e,t,r,i,a,d,f,_){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Vg(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Se.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Se.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===Ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Fe(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Se.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aw extends yv{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function DE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),i=e.targetChange.targetIds||[],a=function(_,w){return _.N?(Vt(void 0===w||"string"==typeof w),Sr.fromBase64String(w||"")):(Vt(void 0===w||w instanceof Uint8Array),Sr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?Ee.UNKNOWN:pE(_.code);return new Fe(w,_.message||"")}(d);t=new _E(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=wl(n,r.document.name),a=ci(r.document.updateTime),d=new Zi({mapValue:{fields:r.document.fields}}),f=Un.newFoundDocument(i,a,d);t=new mg(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=wl(n,r.document),a=r.readTime?ci(r.readTime):Pt.min(),d=Un.newNoDocument(i,a);t=new mg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=wl(n,r.document);t=new mg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,a=new fE(r.count||0);t=new ju(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Pt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?ci(a.readTime):Pt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=rp(this.M),t.addTarget=function(i,a){let d;const f=a.target;return d=wc(f)?{documents:TT(i,f)}:{query:IT(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=Uy(i,a.resumeToken):a.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=Ch(i,a.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function IE(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=rp(this.M),t.removeTarget=e,this.Fo(t)}}class lw extends yv{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function zo(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,i){let a=ci(r.updateTime?r.updateTime:i);return a.isEqual(Pt.min())&&(a=ci(i)),new gT(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.Yo(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=rp(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Th(this.M,r))};this.Fo(t)}}class cw extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(Ee.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(Ee.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class uw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Er(t),this.iu=!1):Ge("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class zT{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,Se.Z)(function*(){var _;kc(d)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Se.Z)(function*(w){const I=tt(w);I.fu.add(4),yield $h(I),I.wu.set("Unknown"),I.fu.delete(4),yield vp(I)}),function(w){return _.apply(this,arguments)})(d))}))}),this.wu=new uw(r,i)}}function vp(n){return vv.apply(this,arguments)}function vv(){return vv=(0,Se.Z)(function*(n){if(kc(n))for(const e of n.du)yield e(!0)}),vv.apply(this,arguments)}function $h(n){return bv.apply(this,arguments)}function bv(){return bv=(0,Se.Z)(function*(n){for(const e of n.du)yield e(!1)}),bv.apply(this,arguments)}function Bg(n,e){const t=tt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Cv(t)?wv(t):Gh(t).xo()&&Ev(t,e))}function bp(n,e){const t=tt(n),r=Gh(t);t.lu.delete(e),r.xo()&&dw(t,e),0===t.lu.size&&(r.xo()?r.Mo():kc(t)&&t.wu.set("Unknown"))}function Ev(n,e){n.mu.Z(e.targetId),Gh(n).jo(e)}function dw(n,e){n.mu.Z(e),Gh(n).Wo(e)}function wv(n){n.mu=new bT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Gh(n).start(),n.wu.ru()}function Cv(n){return kc(n)&&!Gh(n).Co()&&n.lu.size>0}function kc(n){return 0===tt(n).fu.size}function hw(n){n.mu=void 0}function WT(n){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,Se.Z)(function*(n){n.lu.forEach((e,t)=>{Ev(n,e)})}),Dv.apply(this,arguments)}function qT(n,e){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,Se.Z)(function*(n,e){hw(n),Cv(n)?(n.wu.au(e),wv(n)):n.wu.set("Unknown")}),Tv.apply(this,arguments)}function fw(n,e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,Se.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof _E&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ep(n,r)}else if(e instanceof mg?n.mu.ut(e):e instanceof ju?n.mu._t(e):n.mu.ht(e),!t.isEqual(Pt.min()))try{const r=yield uv(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.mu.yt(a);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.lu.get(_);w&&i.lu.set(_,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const _=i.lu.get(f);if(!_)return;i.lu.set(f,_.withResumeToken(Sr.EMPTY_BYTE_STRING,_.snapshotVersion)),dw(i,f);const w=new Dl(_.target,f,1,_.sequenceNumber);Ev(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield Ep(n,r)}var r}),Ug.apply(this,arguments)}function Ep(n,e,t){return jg.apply(this,arguments)}function jg(){return jg=(0,Se.Z)(function*(n,e,t){if(!Ic(e))throw e;n.fu.add(1),yield $h(n),n.wu.set("Offline"),t||(t=()=>uv(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield vp(n)}))}),jg.apply(this,arguments)}function Iv(n,e){return e().catch(t=>Ep(n,t,e))}function ed(n){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,Se.Z)(function*(n){const e=tt(n),t=Nc(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;pw(e);)try{const i=yield XE(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,mw(e,i)}catch(i){yield Ep(e,i)}$g(e)&&Av(e)}),Hg.apply(this,arguments)}function pw(n){return kc(n)&&n.hu.length<10}function mw(n,e){n.hu.push(e);const t=Nc(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function $g(n){return kc(n)&&!Nc(n).Co()&&n.hu.length>0}function Av(n){Nc(n).start()}function td(n){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,Se.Z)(function*(n){Nc(n).Zo()}),Sv.apply(this,arguments)}function KT(n){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,Se.Z)(function*(n){const e=Nc(n);for(const t of n.hu)e.Jo(t.mutations)}),Pc.apply(this,arguments)}function nM(n,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,Se.Z)(function*(n,e,t){const r=n.hu.shift(),i=Ky.from(r,e,t);yield Iv(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ed(n)}),wp.apply(this,arguments)}function rM(n,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,Se.Z)(function*(n,e){var t;e&&Nc(n).Ho&&(yield(t=(0,Se.Z)(function*(r,i){if(ep(a=i.code)&&a!==Ee.ABORTED){const d=r.hu.shift();Nc(r).ko(),yield Iv(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield ed(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),$g(n)&&Av(n)}),Gg.apply(this,arguments)}function Mv(n,e){return gw.apply(this,arguments)}function gw(){return gw=(0,Se.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=kc(t);t.fu.add(3),yield $h(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield vp(t)}),gw.apply(this,arguments)}function Tt(n,e){return xv.apply(this,arguments)}function xv(){return xv=(0,Se.Z)(function*(n,e){const t=tt(n);e?(t.fu.delete(2),yield vp(t)):e||(t.fu.add(2),yield $h(t),t.wu.set("Unknown"))}),xv.apply(this,arguments)}function Gh(n){return n.gu||(n.gu=function(e,t,r){const i=tt(e);return i.eu(),new aw(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:WT.bind(null,n),Yr:qT.bind(null,n),Qo:fw.bind(null,n)}),n.du.push(function(){var e=(0,Se.Z)(function*(t){t?(n.gu.ko(),Cv(n)?wv(n):n.wu.set("Unknown")):(yield n.gu.stop(),hw(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Nc(n){return n.yu||(n.yu=function(e,t,r){const i=tt(e);return i.eu(),new lw(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:td.bind(null,n),Yr:rM.bind(null,n),Xo:KT.bind(null,n),Yo:nM.bind(null,n)}),n.du.push(function(){var e=(0,Se.Z)(function*(t){t?(n.yu.ko(),yield ed(n)):(yield n.yu.stop(),n.hu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class zh{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new zh(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wh(n,e){if(Er("AsyncQueue",`${e}: ${n}`),Ic(n))return new Fe(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Sl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=pg(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new Sl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Cp{constructor(){this.pu=new jr(Xe.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):at():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hn{constructor(e,t,r,i,a,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new Hn(e,t,Sl.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class iM{constructor(){this.Tu=void 0,this.listeners=[]}}class _w{constructor(){this.queries=new Dc(e=>ug(e),Yf),this.onlineState="Unknown",this.Eu=new Set}}function Ov(n,e){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,Se.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new iM),i)try{a.Tu=yield t.onListen(r)}catch(d){const f=Wh(d,`Initialization of query '${dg(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&kv(t)}),Rv.apply(this,arguments)}function zg(n,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Se.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Wg.apply(this,arguments)}function yw(n,e){const t=tt(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Ru(i)&&(r=!0);d.Tu=i}}r&&kv(t)}function vw(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function kv(n){n.Eu.forEach(e=>{e.next()})}class Pv{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Hn(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Hn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class ZT{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class qh{constructor(e){this.M=e}fi(e){return wl(this.M,e)}di(e){return e.metadata.exists?_g(this.M,e.document,!1):Un.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return ci(e)}}class YT{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bw(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=mn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new qh(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Mn()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function HT(n,e,t,r){return kg.apply(this,arguments)}(e.localStore,new qh(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield tM(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function bw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Ew{constructor(e){this.key=e}}class Dp{constructor(e){this.key=e}}class Nv{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Mn(),this.mutatedKeys=Mn(),this.Uu=tE(e),this.qu=new Sl(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new Cp,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _=cg(this.query)&&i.size===this.query.limit?i.last():null,w=Oi(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,x)=>{const V=i.get(I),Y=Oy(this.query,x)?x:null,J=!!V&&this.mutatedKeys.has(V.key),me=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Ue=!1;V&&Y?V.data.isEqual(Y.data)?J!==me&&(r.track({type:3,doc:Y}),Ue=!0):this.ju(V,Y)||(r.track({type:2,doc:Y}),Ue=!0,(_&&this.Uu(Y,_)>0||w&&this.Uu(Y,w)<0)&&(f=!0)):!V&&Y?(r.track({type:0,doc:Y}),Ue=!0):V&&!Y&&(r.track({type:1,doc:V}),Ue=!0,(_||w)&&(f=!0)),Ue&&(Y?(d=d.add(Y),a=me?a.add(I):a.delete(I)):(d=d.delete(I),a=a.delete(I)))}),cg(this.query)||Oi(this.query))for(;d.size>this.query.limit;){const I=cg(this.query)?d.last():d.first();d=d.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{qu:d,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((w,I)=>function(x,V){const Y=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return Y(x)-Y(V)}(w.type,I.type)||this.Uu(w.doc,I.doc)),this.Wu(r);const d=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==a.length||_?{snapshot:new Hn(this.query,e.qu,i,a,e.mutatedKeys,0===f,_,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Cp,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Mn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new Dp(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new Ew(r))}),t}Yu(e){this.$u=e.li,this.Lu=Mn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Hn.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class ww{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Cw{constructor(e){this.key=e,this.Zu=!1}}class QT{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new Dc(f=>ug(f),Yf),this.na=new Map,this.sa=new Set,this.ia=new jr(Xe.comparator),this.ra=new Map,this.oa=new fv,this.ua={},this.aa=new Map,this.ca=Il.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Tp(n,e){return nd.apply(this,arguments)}function nd(){return nd=(0,Se.Z)(function*(n,e){const t=i_(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const d=yield jh(t.localStore,Rs(e));t.isPrimaryClient&&Bg(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield Fv(t,e,r,"current"===f)}return i}),nd.apply(this,arguments)}function Fv(n,e,t,r){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,Se.Z)(function*(n,e,t,r){n.la=(I,x,V)=>{return(Y=(0,Se.Z)(function*(J,me,Ue,pt){let gt=me.view.Gu(Ue);gt.ni&&(gt=yield Al(J.localStore,me.query,!1).then(({documents:Kt})=>me.view.Gu(Kt,gt)));const dt=pt&&pt.targetChanges.get(me.targetId),ut=me.view.applyChanges(gt,J.isPrimaryClient,dt);return Uv(J,me.targetId,ut.Hu),ut.snapshot}),function(J,me,Ue,pt){return Y.apply(this,arguments)})(n,I,x,V);var Y};const i=yield Al(n.localStore,e,!0),a=new Nv(e,i.li),d=a.Gu(i.documents),f=np.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,f);Uv(n,t,_.Hu);const w=new ww(e,t,a);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),Lv.apply(this,arguments)}function JT(n,e){return qg.apply(this,arguments)}function qg(){return qg=(0,Se.Z)(function*(n,e){const t=tt(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!Yf(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),bp(t.remoteStore,r.targetId),Oa(t,r.targetId)}).catch(Oc))):(Oa(t,r.targetId),yield Xu(t.localStore,r.targetId,!0))}),qg.apply(this,arguments)}function Kg(){return Kg=(0,Se.Z)(function*(n,e,t){const r=qv(n);try{const i=yield function(a,d){const f=tt(a),_=Ar.now(),w=d.reduce((x,V)=>x.add(V.key),Mn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>f.ci.Ks(x,w).next(V=>{I=V;const Y=[];for(const J of d){const me=Py(J,I.get(J.key));null!=me&&Y.push(new bl(J.key,me,ml(me.value.mapValue),Ur.exists(!0)))}return f.Bs.addMutationBatch(x,_,Y,d)})).then(x=>(x.applyToLocalDocumentSet(I),{batchId:x.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let _=a.ua[a.currentUser.toKey()];_||(_=new jr(Jt)),_=_.insert(d,f),a.ua[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Ml(r,i.changes),yield ed(r.remoteStore)}catch(i){const a=Wh(i,"Failed to persist write");t.reject(a)}}),Kg.apply(this,arguments)}function Tw(n,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,Se.Z)(function*(n,e){const t=tt(n);try{const r=yield jT(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.ra.get(a);d&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Zu=!0:i.modifiedDocuments.size>0?Vt(d.Zu):i.removedDocuments.size>0&&(Vt(d.Zu),d.Zu=!1))}),yield Ml(t,r,e)}catch(r){yield Oc(r)}}),Zg.apply(this,arguments)}function Iw(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,d)=>{const f=d.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=tt(a);f.onlineState=d;let _=!1;f.queries.forEach((w,I)=>{for(const x of I.listeners)x.Au(d)&&(_=!0)}),_&&kv(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XT(n,e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,Se.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let d=new jr(Xe.comparator);d=d.insert(a,Un.newNoDocument(a,Pt.min()));const f=Mn().add(a),_=new wh(Pt.min(),new Map,new jn(Jt),d,f);yield Tw(r,_),r.ia=r.ia.remove(a),r.ra.delete(e),jv(r)}else yield Xu(r.localStore,e,!1).then(()=>Oa(r,e,t)).catch(Oc)}),Aw.apply(this,arguments)}function sM(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,Se.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield Xr(t.localStore,e);Jg(t,r,null),Bv(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ml(t,i)}catch(i){yield Oc(i)}}),Sw.apply(this,arguments)}function oM(n,e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,Se.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,d){const f=tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,d).next(I=>(Vt(null!==I),w=I.keys(),f.Bs.removeMutationBatch(_,I))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,w))})}(r.localStore,e);Jg(r,e,t),Bv(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ml(r,i)}catch(i){yield Oc(i)}}),Yg.apply(this,arguments)}function Vv(){return Vv=(0,Se.Z)(function*(n,e){const t=tt(n);kc(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=tt(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Wh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Vv.apply(this,arguments)}function Bv(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Jg(n,e,t){const r=tt(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function Oa(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||Mw(n,r)})}function Mw(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(bp(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),jv(n))}function Uv(n,e,t){for(const r of t)r instanceof Ew?(n.oa.addReference(r.key,e),eI(n,r)):r instanceof Dp?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||Mw(n,r.key)):at()}function eI(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.sa.add(r),jv(n))}function jv(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Xe(mn.fromString(e)),r=n.ca.next();n.ra.set(r,new Cw(t)),n.ia=n.ia.insert(t,r),Bg(n.remoteStore,new Dl(Rs(gh(t.path)),r,2,ps.A))}}function Ml(n,e,t){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,Se.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],d=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,_)=>{d.push(r.la(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=Og.Ys(_.targetId,w);a.push(I)}}))}),yield Promise.all(d),r.ta.Qo(i),yield(f=(0,Se.Z)(function*(_,w){const I=tt(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>De.forEach(w,V=>De.forEach(V.Hs,Y=>I.persistence.referenceDelegate.addReference(x,V.targetId,Y)).next(()=>De.forEach(V.Js,Y=>I.persistence.referenceDelegate.removeReference(x,V.targetId,Y)))))}catch(x){if(!Ic(x))throw x;Ge("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const V=x.targetId;if(!x.fromCache){const Y=I.ii.get(V),me=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);I.ii=I.ii.insert(V,me)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),Xg.apply(this,arguments)}function tI(n,e){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,Se.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield lv(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(d=>{d.forEach(f=>{f.reject(new Fe(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ml(t,r.hi)}var i}),Hv.apply(this,arguments)}function Kh(n,e){const t=tt(n),r=t.ra.get(e);if(r&&r.Zu)return Mn().add(r.key);{let i=Mn();const a=t.na.get(e);if(!a)return i;for(const d of a){const f=t.ea.get(d);i=i.unionWith(f.view.Ku)}return i}}function nI(n,e){return e_.apply(this,arguments)}function e_(){return e_=(0,Se.Z)(function*(n,e){const t=tt(n),r=yield Al(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&Uv(t,e.targetId,i.Hu),i}),e_.apply(this,arguments)}function rI(n,e){return t_.apply(this,arguments)}function t_(){return t_=(0,Se.Z)(function*(n,e){const t=tt(n);return tw(t.localStore,e).then(r=>Ml(t,r))}),t_.apply(this,arguments)}function iI(n,e,t,r){return n_.apply(this,arguments)}function n_(){return n_=(0,Se.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(d,f){const _=tt(d),w=tt(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.fn(I,f).next(x=>x?_.ci.Ks(I,x):De.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield ed(i.remoteStore):"acknowledged"===t||"rejected"===t?(Jg(i,e,r||null),Bv(i,e),f=e,tt(tt(i.localStore).Bs)._n(f)):at(),yield Ml(i,a)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),n_.apply(this,arguments)}function Ip(){return Ip=(0,Se.Z)(function*(n,e){const t=tt(n);if(i_(t),qv(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield xw(t,r.toArray());t.ha=!0,yield Tt(t.remoteStore,!0);for(const a of i)Bg(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Oa(t,d),Xu(t.localStore,d,!0))),bp(t.remoteStore,d)}),yield i,yield xw(t,r),function(a){const d=tt(a);d.ra.forEach((f,_)=>{bp(d.remoteStore,_)}),d.oa.bi(),d.ra=new Map,d.ia=new jr(Xe.comparator)}(t),t.ha=!1,yield Tt(t.remoteStore,!1)}}),Ip.apply(this,arguments)}function xw(n,e,t){return r_.apply(this,arguments)}function r_(){return r_=(0,Se.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const d of e){let f;const _=r.na.get(d);if(_&&0!==_.length){f=yield jh(r.localStore,Rs(_[0]));for(const w of _){const I=r.ea.get(w),x=yield nI(r,I);x.snapshot&&a.push(x.snapshot)}}else{const w=yield ew(r.localStore,d);f=yield jh(r.localStore,w),yield Fv(r,$v(w),d,!1)}i.push(f)}return r.ta.Qo(a),i}),r_.apply(this,arguments)}function $v(n){return Sy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function oI(n){const e=tt(n);return tt(tt(e.localStore).persistence).Fs()}function aI(n,e,t,r){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,Se.Z)(function*(n,e,t,r){const i=tt(n);if(i.ha)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield tw(i.localStore,eE(a[0])),f=wh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ml(i,d,f);break}case"rejected":yield Xu(i.localStore,e,!0),Oa(i,e,r);break;default:at()}}),Gv.apply(this,arguments)}function zv(n,e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,Se.Z)(function*(n,e,t){const r=i_(n);if(r.ha){for(const i of e){if(r.na.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const a=yield ew(r.localStore,i),d=yield jh(r.localStore,a);yield Fv(r,$v(a),d.targetId,!1),Bg(r.remoteStore,d)}for(const i of t)r.na.has(i)&&(yield Xu(r.localStore,i,!1).then(()=>{bp(r.remoteStore,i),Oa(r,i)}).catch(Oc))}}),Wv.apply(this,arguments)}function i_(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XT.bind(null,e),e.ta.Qo=yw.bind(null,e.eventManager),e.ta.fa=vw.bind(null,e.eventManager),e}function qv(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class Ow{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.M=Hh(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return QE(this.persistence,new BT,e.initialUser,this.M)}wa(e){return new rw(pv.zi,this.M)}_a(e){return new _p}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rw extends Ow{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield qv(r.ya.syncEngine),yield ed(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return QE(this.persistence,new BT,e.initialUser,this.M)}ma(e){return new qE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=xg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new Mg(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Lg(),yp(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new _p}}class cI extends Rw{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof Ng&&(r.sharedClientState.syncEngine={Mr:iI.bind(null,i),Or:aI.bind(null,i),Fr:zv.bind(null,i),Fs:oI.bind(null,i),kr:rI.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,Se.Z)(function*(d){yield function sI(n,e){return Ip.apply(this,arguments)}(r.ya.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}_a(e){const t=Lg();if(!Ng.vt(t))throw new Fe(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ng(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Kv{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Iw(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tI.bind(null,r.syncEngine),yield Tt(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _w}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),r=new Fg(e.databaseInfo);return new cw(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Iw(this.syncEngine,f,0),d=gv.vt()?new gv:new GT,new zT(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,_,w){const I=new QT(r,i,a,d,f,_);return w&&(I.ha=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=tt(t);Ge("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield $h(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function kw(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class s_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Pw{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Br,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new ZT(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Se.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Nw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Se.Z)(function*(a,d){const f=tt(a),_=rp(f.M)+"/documents",w={documents:d.map(Y=>Dh(f.M,Y))},I=yield f.ho("BatchGetDocuments",_,w),x=new Map;I.forEach(Y=>{const J=function DT(n,e){return"found"in e?function(t,r){Vt(!!r.found);const i=wl(t,r.found.name),a=ci(r.found.updateTime),d=new Zi({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const i=wl(t,r.missing),a=ci(r.readTime);return Un.newNoDocument(i,a)}(n,e):at()}(f.M,Y);x.set(J.key.toString(),J)});const V=[];return d.forEach(Y=>{const J=x.get(Y.toString());Vt(!!J),V.push(J)}),V}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Xe.fromPath(i);e.mutations.push(new fg(a,e.precondition(a)))}),yield(r=(0,Se.Z)(function*(i,a){const d=tt(i),f=rp(d.M)+"/documents",_={writes:a.map(w=>Th(d.M,w))};yield d.oo("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Fe(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uI{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Vg(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Se.Z)(function*(){const t=new Nw(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!pl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ep(t)}return!1}}class dI{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=$0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Se.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ge("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Wh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Zv(n,e){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Se.Z)(function*(a){r.isEqual(a)||(yield lv(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Yv.apply(this,arguments)}function Fw(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Ap(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Mv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Mv(e.remoteStore,a)),n.onlineComponents=e}),Qv.apply(this,arguments)}function Ap(n){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,Se.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield Zv(n,new Ow)),n.offlineComponents}),Sp.apply(this,arguments)}function Mp(n){return xp.apply(this,arguments)}function xp(){return xp=(0,Se.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield Fw(n,new Kv)),n.onlineComponents}),xp.apply(this,arguments)}function Lw(n){return Ap(n).then(e=>e.persistence)}function Jv(n){return Ap(n).then(e=>e.localStore)}function o_(n){return Mp(n).then(e=>e.remoteStore)}function Xv(n){return Mp(n).then(e=>e.syncEngine)}function rd(n){return eb.apply(this,arguments)}function eb(){return eb=(0,Se.Z)(function*(n){const e=yield Mp(n),t=e.eventManager;return t.onListen=Tp.bind(null,e.syncEngine),t.onUnlisten=JT.bind(null,e.syncEngine),t}),eb.apply(this,arguments)}function fI(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,a,d,f,_){const w=new s_({next:x=>{a.enqueueAndForget(()=>zg(i,I));const V=x.docs.has(d);!V&&x.fromCache?_.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&f&&"server"===f.source?_.reject(new Fe(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new Pv(gh(d.path),w,{includeMetadataChanges:!0,Cu:!0});return Ov(i,I)}(yield rd(n),n.asyncQueue,e,t,r)})),r.promise}function Op(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(i,a,d,f,_){const w=new s_({next:x=>{a.enqueueAndForget(()=>zg(i,I)),x.fromCache&&"server"===f.source?_.reject(new Fe(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new Pv(d,w,{includeMetadataChanges:!0,Cu:!0});return Ov(i,I)}(yield rd(n),n.asyncQueue,e,t,r)})),r.promise}const _I=new Map;function a_(n,e,t){if(!t)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Uw(n,e,t,r){if(!0===e&&!0===r)throw new Fe(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jw(n){if(!Xe.isDocumentKey(n))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hw(n){if(Xe.isDocumentKey(n))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function l_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=l_(n);throw new Fe(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function tb(n,e){if(e<=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class c_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Uw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,e instanceof mo?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KS;switch(t.type){case"gapi":const r=t.client;return Vt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_I.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),_I.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class Ti{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ti(this.firestore,e,this._query)}}class Zo extends Ti{constructor(e,t,r){super(e,t,gh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Xe(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function $w(n,e,...t){if(n=(0,Ht.m9)(n),a_("collection","path",e),n instanceof Fc){const r=mn.fromString(e,...t);return Hw(r),new Zo(n,null,r)}{if(!(n instanceof rr||n instanceof Zo))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return Hw(r),new Zo(n.firestore,null,r)}}function Ns(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=$0.R()),a_("doc","path",e),n instanceof Fc){const r=mn.fromString(e,...t);return jw(r),new rr(n,null,new Xe(r))}{if(!(n instanceof rr||n instanceof Zo))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mn.fromString(e,...t));return jw(r),new rr(n.firestore,n instanceof Zo?n.converter:null,new Xe(r))}}function Gw(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof rr||n instanceof Zo)&&(e instanceof rr||e instanceof Zo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vI(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof Ti&&e instanceof Ti&&n.firestore===e.firestore&&Yf(n._query,e._query)&&n.converter===e.converter}class bI{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Vg(this,"async_queue_retry"),this.qa=()=>{const t=yp();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Br;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Ic(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Er("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=zh.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&at()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function nb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Yh{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Rn extends Fc{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new bI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||EI(this),this._firestoreClient.terminate()}}function Lc(n=(0,Wr.getApp)()){return(0,Wr._getProvider)(n,"firestore").getImmediate()}function Hr(n){return n._firestoreClient||EI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function EI(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tg(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new dI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function rb(n,e,t){const r=new Br;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield Zv(n,t),yield Fw(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===Ee.FAILED_PRECONDITION||a.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function qw(n){if(n._initialized||n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ra(Sr.fromBase64String(e))}catch(t){throw new Fe(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ra(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yo{constructor(e){this._methodName=e}}class Pp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const Kw=/^__.*__$/;class Zw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xf(e,this.data,t,this.fieldTransforms)}}class sb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ob(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Np{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Np(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return f_(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(ob(this.Xa)&&Kw.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class AI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Hh(e)}ac(e,t,r,i=!1){return new Np({Xa:e,methodName:t,uc:r,path:Ln.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Vc(n){const e=n._freezeSettings(),t=Hh(n._databaseId);return new AI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u_(n,e,t,r,i,a={}){const d=n.ac(a.merge||a.mergeFields?2:0,e,t,i);ub("Data must be an object, but it was:",d,r);const f=Qw(r,d);let _,w;if(a.merge)_=new xu(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const V=Qh(e,x,t);if(!d.contains(V))throw new Fe(Ee.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);db(I,V)||I.push(V)}_=new xu(I),w=d.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=d.fieldTransforms;return new Zw(new Zi(f),_,w)}class Fp extends Yo{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fp}}function Yw(n,e,t){return new Np({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ab extends Yo{_toFieldTransform(e){return new Qf(e.path,new Yi)}isEqual(e){return e instanceof ab}}class Lp extends Yo{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Yw(this,e,!0),r=this.cc.map(a=>Qo(a,t)),i=new vl(r);return new Qf(e.path,i)}isEqual(e){return this===e}}class SI extends Yo{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Yw(this,e,!0),r=this.cc.map(a=>Qo(a,t)),i=new Vu(r);return new Qf(e.path,i)}isEqual(e){return this===e}}class lb extends Yo{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Bu(e.M,iE(e.M,this.hc));return new Qf(e.path,t)}isEqual(e){return this===e}}function vo(n,e,t,r){const i=n.ac(1,e,t);ub("Data must be an object, but it was:",i,r);const a=[],d=Zi.empty();Nt(r,(_,w)=>{const I=h_(e,_,t);w=(0,Ht.m9)(w);const x=i.sc(I);if(w instanceof Fp)a.push(I);else{const V=Qo(w,x);null!=V&&(a.push(I),d.set(I,V))}});const f=new xu(a);return new sb(d,f,i.fieldTransforms)}function cb(n,e,t,r,i,a){const d=n.ac(1,e,t),f=[Qh(e,r,t)],_=[i];if(a.length%2!=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)f.push(Qh(e,a[V])),_.push(a[V+1]);const w=[],I=Zi.empty();for(let V=f.length-1;V>=0;--V)if(!db(w,f[V])){const Y=f[V];let J=_[V];J=(0,Ht.m9)(J);const me=d.sc(Y);if(J instanceof Fp)w.push(Y);else{const Ue=Qo(J,me);null!=Ue&&(w.push(Y),I.set(Y,Ue))}}const x=new xu(w);return new sb(I,x,d.fieldTransforms)}function Vp(n,e,t,r=!1){return Qo(t,n.ac(r?4:3,e))}function Qo(n,e){if(Jw(n=(0,Ht.m9)(n)))return ub("Unsupported field value:",e,n),Qw(n,e);if(n instanceof Yo)return function(t,r){if(!ob(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=Qo(d,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iE(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ar.fromDate(t);return{timestampValue:Ch(r.M,i)}}if(t instanceof Ar){const i=new Ar(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ch(r.M,i)}}if(t instanceof Pp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ra)return{bytesValue:Uy(r.M,t._byteString)};if(t instanceof rr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${l_(t)}`)}(n,e)}function Qw(n,e){const t={};return yy(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nt(n,(r,i)=>{const a=Qo(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function Jw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ar||n instanceof Pp||n instanceof Ra||n instanceof rr||n instanceof Yo)}function ub(n,e,t){if(!Jw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=l_(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function Qh(n,e,t){if((e=(0,Ht.m9)(e))instanceof xl)return e._internalPath;if("string"==typeof e)return h_(n,e);throw f_("Field path arguments must be of type string or ",n,!1,void 0,t)}const d_=new RegExp("[~\\*/\\[\\]]");function h_(n,e,t){if(e.search(d_)>=0)throw f_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch(r){throw f_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function f_(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Fe(Ee.INVALID_ARGUMENT,f+n+_)}function db(n,e){return n.some(t=>t.isEqual(e))}class Jh{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hb extends Jh{data(){return super.data()}}function Bp(n,e){return"string"==typeof e?h_(n,e):e instanceof xl?e._internalPath:e._delegate._internalPath}class id{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends Jh{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new p_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class p_ extends Ol{data(e={}){return super.data(e)}}class ka{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new id(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new p_(this._firestore,this._userDataWriter,r.key,r,new id(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new p_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new id(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new p_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new id(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:fb(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function pb(n,e){return n instanceof Ol&&e instanceof Ol?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ka&&e instanceof ka&&n._firestore===e._firestore&&vI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function m_(n){if(Oi(n)&&0===n.explicitOrderBy.length)throw new Fe(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sd{}function Bc(n,...e){for(const t of e)n=t._apply(n);return n}class MI extends sd{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Vc(e.firestore),r=function(i,a,d,f,_,w,I){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){ki(I,w);const Y=[];for(const J of I)Y.push(yb(f,i,J));x={arrayValue:{values:Y}}}else x=yb(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||ki(I,w),x=Vp(d,"where",I,"in"===w||"not-in"===w);const V=Mr.create(_,w,x);return function(Y,J){if(J.S()){const Ue=xy(Y);if(null!==Ue&&!Ue.isEqual(J.field))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${J.field.toString()}'`);const pt=My(Y);null!==pt&&od(0,J.field,pt)}const me=function(Ue,pt){for(const gt of Ue.filters)if(pt.indexOf(gt.op)>=0)return gt.op;return null}(Y,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==me)throw new Fe(Ee.INVALID_ARGUMENT,me===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${me.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ti(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new yl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class OI extends sd{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Lu(i,a);return function(f,_){if(null===My(f)){const w=xy(f);null!==w&&od(0,w,_.field)}}(r,d),d}(e._query,this.lc,this._c);return new Ti(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new yl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class g_ extends sd{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Ti(e.firestore,e.converter,pT(e._query,this.wc,this.mc))}}class mb extends sd{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=_b(e,this.type,this.gc,this.yc);return new Ti(e.firestore,e.converter,(i=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class gb extends sd{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=_b(e,this.type,this.gc,this.yc);return new Ti(e.firestore,e.converter,(i=t,new yl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function _b(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof Jh)return function(i,a,d,f,_){if(!f)throw new Fe(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const I of Zf(i))if(I.field.isKeyField())w.push(vc(a,f.key));else{const x=f.data.field(I.field);if(z0(x))throw new Fe(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=I.field.canonicalString();throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(x)}return new Cc(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Vc(n.firestore);return function(a,d,f,_,w,I){const x=a.explicitOrderBy;if(w.length>x.length)throw new Fe(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let Y=0;Y<w.length;Y++){const J=w[Y];if(x[Y].field.isKeyField()){if("string"!=typeof J)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof J}`);if(!X0(a)&&-1!==J.indexOf("/"))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${J}' contains a slash.`);const me=a.path.child(mn.fromString(J));if(!Xe.isDocumentKey(me))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${me}' is not because it contains an odd number of segments.`);const Ue=new Xe(me);V.push(vc(d,Ue))}else{const me=Vp(f,_,J);V.push(me)}}return new Cc(V,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function yb(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X0(e)&&-1!==t.indexOf("/"))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mn.fromString(t));if(!Xe.isDocumentKey(r))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vc(n,new Xe(r))}if(t instanceof rr)return vc(n,t._key);throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${l_(t)}.`)}function ki(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function od(n,e,t){if(!t.isEqual(e))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vb{convertValue(e,t="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return Nt(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Pp(_r(e.latitude),_r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eg(e));default:return null}}convertTimestamp(e){const t=Ca(e);return new Ar(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mn.fromString(e);Vt(AE(r));const i=new mo(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(t)||Er(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function __(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class uM extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class Xh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vc(e)}set(e,t,r){this._verifyNotCommitted();const i=Uc(e,this._firestore),a=__(i.converter,t,r),d=u_(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Uc(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof xl?cb(this._dataReader,"WriteBatch.update",a._key,t,r,i):vo(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uc(e,this._firestore);return this._mutations=this._mutations.concat(new yh(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uc(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Fe(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ad extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ra(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function wb(n,e,t){n=hn(n,rr);const r=hn(n.firestore,Rn),i=__(n.converter,e,t);return ld(r,[u_(Vc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ur.none())])}function bo(n,e,t,...r){n=hn(n,rr);const i=hn(n.firestore,Rn),a=Vc(i);let d;return d="string"==typeof(e=(0,Ht.m9)(e))||e instanceof xl?cb(a,"updateDoc",n._key,e,t,r):vo(a,"updateDoc",n._key,e),ld(i,[d.toMutation(n._key,Ur.exists(!0))])}function Db(n,...e){var t,r,i;n=(0,Ht.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||nb(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(nb(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,I;if(n instanceof rr)w=hn(n.firestore,Rn),I=gh(n._key.path),_={next:x=>{e[d]&&e[d](ef(w,n,x))},error:e[d+1],complete:e[d+2]};else{const x=hn(n,Ti);w=hn(x.firestore,Rn),I=x._query;const V=new ad(w);_={next:Y=>{e[d]&&e[d](new ka(w,V,x,Y))},error:e[d+1],complete:e[d+2]},m_(n._query)}return function(x,V,Y,J){const me=new s_(J),Ue=new Pv(V,me,Y);return x.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return Ov(yield rd(x),Ue)})),()=>{me.Ia(),x.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return zg(yield rd(x),Ue)}))}}(Hr(w),I,f,_)}function ld(n,e){return function(t,r){const i=new Br;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function Dw(n,e,t){return Kg.apply(this,arguments)}(yield Xv(t),r,i)})),i.promise}(Hr(n),e)}function ef(n,e,t){const r=t.docs.get(e._key),i=new ad(n);return new Ol(n,i,e._key,r,new id(t.hasPendingWrites,t.fromCache),e.converter)}class oC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vc(e)}get(e){const t=Uc(e,this._firestore),r=new uM(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return at();const a=i[0];if(a.isFoundDocument())return new Jh(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Jh(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const i=Uc(e,this._firestore),a=__(i.converter,t,r),d=u_(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=Uc(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof xl?cb(this._dataReader,"Transaction.update",a._key,t,r,i):vo(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Uc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uc(e,this._firestore),r=new ad(this._firestore);return super.get(e).then(i=>new Ol(this._firestore,r,t._key,i._document,new id(!1,!1),t.converter))}}function y_(...n){return new Lp("arrayUnion",n)}function v_(...n){return new SI("arrayRemove",n)}function Ab(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uC(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Sb(){if(!function sT(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yc=Wr.SDK_VERSION,(0,Wr._registerComponent)(new pa.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Rn(i,new nT(t.getProvider("auth-internal")),new Go(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Wr.registerVersion)(my,"3.4.8",n),(0,Wr.registerVersion)(my,"3.4.8","esm2017")}();class Up{constructor(e){this._delegate=e}static fromBase64String(e){return Sb(),new Up(Ra.fromBase64String(e))}static fromUint8Array(e){return uC(),new Up(Ra.fromUint8Array(e))}toBase64(){return Sb(),this._delegate.toBase64()}toUint8Array(){return uC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function b_(n){return function dC(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class hC{enableIndexedDbPersistence(e,t){return function Ww(n,e){qw(n=hn(n,Rn));const t=Hr(n),r=n._freezeSettings(),i=new Kv;return rb(t,i,new Rw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function aM(n){qw(n=hn(n,Rn));const e=Hr(n),t=n._freezeSettings(),r=new Kv;return rb(e,r,new cI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ib(n){if(n._initialized&&!n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!yo.vt())return Promise.resolve();const i=r+"main";yield yo.delete(i)}),function(r){return t.apply(this,arguments)})(xg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Mb{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof mo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function kp(n,e,t,r={}){var i;const a=(n=hn(n,Fc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&dh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=ai.MOCK_USER;else{d=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ai(_)}n._authCredentials=new U0(new gy(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function CI(n){return function Vw(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Lw(n),t=yield o_(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.fu.delete(0),vp(i)}(t)}))}(Hr(n=hn(n,Rn)))}(this._delegate)}disableNetwork(){return function DI(n){return function hI(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield Lw(n),t=yield o_(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(i){const a=tt(i);a.fu.add(0),yield $h(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Hr(n=hn(n,Rn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Uw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function wI(n){return function(e){const t=new Br;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function Qg(n,e){return Vv.apply(this,arguments)}(yield Xv(e),t)})),t.promise}(Hr(n=hn(n,Rn)))}(this._delegate)}onSnapshotsInSync(e){return function FI(n,e){return function mI(n,e){const t=new s_(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield rd(n),i=t,tt(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield rd(n),i=t,void tt(r).Eu.delete(i);var r,i}))}}(Hr(n=hn(n,Rn)),nb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cd(this,$w(this._delegate,e))}catch(t){throw ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new Jo(this,Ns(this._delegate,e))}catch(t){throw ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new gs(this,function yI(n,e){if(n=hn(n,Fc),a_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ti(n,null,(t=e,new yl(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function LI(n,e){return function Zh(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const r=yield(i=n,Mp(i).then(a=>a.datastore));var i;new uI(n.asyncQueue,r,e,t).run()})),t.promise}(Hr(n=hn(n,Rn)),t=>e(new oC(n,t)))}(this._delegate,t=>e(new HI(this,t)))}batch(){return Hr(this._delegate),new xb(new Xh(this._delegate,e=>ld(this._delegate,e)))}loadBundle(e){return function TI(n,e){const t=Hr(n=hn(n,Rn)),r=new Yh;return function Rp(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return kw(_,w);if(_ instanceof ArrayBuffer)return kw(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Pw(_,d);var _}(t,Hh(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function lI(n,e,t){const r=tt(n);var i;(i=(0,Se.Z)(function*(a,d,f){try{const _=yield d.getMetadata();if(yield function(V,Y){const J=tt(V),me=ci(Y.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Ue=>J._s.getBundleMetadata(Ue,Y.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(me)>=0)}(a.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=_).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(bw(_));const w=new YT(_,a.localStore,d.M);let I=yield d.da();for(;I;){const V=yield w.ku(I);V&&f._updateProgress(V),I=yield d.da()}const x=yield w.complete();return yield Ml(a,x.Fu,void 0),yield function(V,Y){const J=tt(V);return J.persistence.runTransaction("Save bundle","readwrite",me=>J._s.saveBundleMetadata(me,Y))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Ou)}catch(_){return dh("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var V}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Xv(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function II(n,e){return function gI(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Jv(n),e)}))}(Hr(n=hn(n,Rn)),e).then(t=>t?new Ti(n,null,t.query):null)}(this._delegate,e).then(t=>t?new gs(this,t):null)}}class E_ extends vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Up(new Ra(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Jo.forKey(t,this.firestore,null)}}class HI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new E_(e)}get(e){const t=Rl(e);return this._delegate.get(t).then(r=>new w_(this._firestore,new Ol(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Rl(e);return r?(Ab("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Rl(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}}class xb{constructor(e){this._delegate=e}set(e,t,r){const i=Rl(e);return r?(Ab("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Rl(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class tf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new p_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new C_(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=tf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new tf(e,new E_(e),t),i.set(t,a)),a}}tf.INSTANCES=new WeakMap;class Jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new E_(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jo(t,new rr(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new Jo(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new cd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cd(this.firestore,$w(this._delegate,e))}catch(t){throw ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof rr&&Gw(this._delegate,e)}set(e,t){t=Ab("DocumentReference.set",t);try{return t?wb(this._delegate,e,t):wb(this._delegate,e)}catch(r){throw ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?bo(this._delegate,e):bo(this._delegate,e,t,...r)}catch(i){throw ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Cb(n){return ld(hn(n.firestore,Rn),[new yh(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=$I(e),r=GI(e,i=>new w_(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Db(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iC(n){n=hn(n,rr);const e=hn(n.firestore,Rn),t=Hr(e),r=new ad(e);return function Bw(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,a,d){try{const f=yield function(_,w){const I=tt(_);return I.persistence.runTransaction("read document","readonly",x=>I.ci.Ls(x,w))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Wh(f,`Failed to get document '${a} from cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield Jv(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ol(e,r,n._key,i,new id(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function PI(n){n=hn(n,rr);const e=hn(n.firestore,Rn);return fI(Hr(e),n._key,{source:"server"}).then(t=>ef(e,n,t))}(this._delegate):function bb(n){n=hn(n,rr);const e=hn(n.firestore,Rn);return fI(Hr(e),n._key).then(t=>ef(e,n,t))}(this._delegate),t.then(r=>new w_(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jo(this.firestore,this._delegate.withConverter(e?tf.getInstance(this.firestore,e):null))}}function ms(n,e,t){return n.message=n.message.replace(e,t),n}function $I(n){for(const e of n)if("object"==typeof e&&!b_(e))return e;return{}}function GI(n,e){var t,r;let i;return i=b_(n[0])?n[0]:b_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class w_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Jo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pb(this._delegate,e._delegate)}}class C_ extends w_{data(e){const t=this._delegate.data(e);return function B0(n,e){n||at()}(void 0!==t),t}}class gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new E_(e)}where(e,t,r){try{return new gs(this.firestore,Bc(this._delegate,function xI(n,e,t){const r=e,i=Bp("where",n);return new MI(i,r,t)}(e,t,r)))}catch(i){throw ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new gs(this.firestore,Bc(this._delegate,function Xw(n,e="asc"){const t=e,r=Bp("orderBy",n);return new OI(r,t)}(e,t)))}catch(r){throw ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new gs(this.firestore,Bc(this._delegate,function eC(n){return tb("limit",n),new g_("limit",n,"F")}(e)))}catch(t){throw ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new gs(this.firestore,Bc(this._delegate,function tC(n){return tb("limitToLast",n),new g_("limitToLast",n,"L")}(e)))}catch(t){throw ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new gs(this.firestore,Bc(this._delegate,function nC(...n){return new mb("startAt",n,!0)}(...e)))}catch(t){throw ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new gs(this.firestore,Bc(this._delegate,function RI(...n){return new mb("startAfter",n,!1)}(...e)))}catch(t){throw ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new gs(this.firestore,Bc(this._delegate,function rC(...n){return new gb("endBefore",n,!1)}(...e)))}catch(t){throw ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new gs(this.firestore,Bc(this._delegate,function kI(...n){return new gb("endAt",n,!0)}(...e)))}catch(t){throw ms(t,"endAt()","Query.endAt()")}}isEqual(e){return vI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Eb(n){n=hn(n,Ti);const e=hn(n.firestore,Rn),t=Hr(e),r=new ad(e);return function pI(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(i,a,d){try{const f=yield Al(i,a,!0),_=new Nv(a,f.li),w=_.Gu(f.documents),I=_.applyChanges(w,!1);d.resolve(I.snapshot)}catch(f){const _=Wh(f,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield Jv(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ka(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function sC(n){n=hn(n,Ti);const e=hn(n.firestore,Rn),t=Hr(e),r=new ad(e);return Op(t,n._query,{source:"server"}).then(i=>new ka(e,r,n,i))}(this._delegate):function NI(n){n=hn(n,Ti);const e=hn(n.firestore,Rn),t=Hr(e),r=new ad(e);return m_(n._query),Op(t,n._query).then(i=>new ka(e,r,n,i))}(this._delegate),t.then(r=>new fC(this.firestore,new ka(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=$I(e),r=GI(e,i=>new fC(this.firestore,new ka(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Db(this._delegate,t,r)}withConverter(e){return new gs(this.firestore,this._delegate.withConverter(e?tf.getInstance(this.firestore,e):null))}}class D_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new C_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new C_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new D_(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new C_(this._firestore,r))})}isEqual(e){return pb(this._delegate,e._delegate)}}class cd extends gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jo(this.firestore,e):null}doc(e){try{return new Jo(this.firestore,void 0===e?Ns(this._delegate):Ns(this._delegate,e))}catch(t){throw ms(t,"doc()","CollectionReference.doc()")}}add(e){return function dM(n,e){const t=hn(n.firestore,Rn),r=Ns(n),i=__(n.converter,e);return ld(t,[u_(Vc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Jo(this.firestore,t))}isEqual(e){return Gw(this._delegate,e._delegate)}withConverter(e){return new cd(this.firestore,this._delegate.withConverter(e?tf.getInstance(this.firestore,e):null))}}function Rl(n){return hn(n,rr)}class T_{constructor(...e){this._delegate=new xl(...e)}static documentId(){return new T_(Ln.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class jc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ib(){return new ab("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new jc(e)}static delete(){const e=function Tb(){return new Fp("deleteField")}();return e._methodName="FieldValue.delete",new jc(e)}static arrayUnion(...e){const t=y_(...e);return t._methodName="FieldValue.arrayUnion",new jc(t)}static arrayRemove(...e){const t=v_(...e);return t._methodName="FieldValue.arrayRemove",new jc(t)}static increment(e){const t=function VI(n){return new lb("increment",n)}(e);return t._methodName="FieldValue.increment",new jc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hM={Firestore:Mb,GeoPoint:Pp,Timestamp:Ar,Blob:Up,Transaction:HI,WriteBatch:xb,DocumentReference:Jo,DocumentSnapshot:w_,Query:gs,QueryDocumentSnapshot:C_,QuerySnapshot:fC,CollectionReference:cd,FieldPath:T_,FieldValue:jc,setLogLevel:function jI(n){!function Jm(n){dl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function pC(n){(function Ob(n,e){n.INTERNAL.registerComponent(new pa.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},hM)))})(n,(e,t)=>new Mb(e,t,new hC)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(_u.Z);var An=A(7579),kl=A(6451),Rb=A(5363),di=A(3900),zI=A(4707),kb=A(3099);function mC(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,kb.B)({connector:()=>new zI.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Pb=(0,A(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pl=A(5698);function gC(n){return(0,Mi.e)((e,t)=>{let r=!1;e.subscribe((0,Lr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _C(n=WI){return(0,Mi.e)((e,t)=>{let r=!1;e.subscribe((0,Lr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function WI(){return new Pb}var Nb=A(4671);function ud(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,fr.h)((i,a)=>n(i,a,r)):Nb.y,(0,Pl.q)(1),t?gC(e):_C(()=>new Pb))}var Xo=A(576);function yC(n,e){return(0,Xo.m)(e)?(0,di.w)(()=>n,e):(0,di.w)(()=>n)}var Fs=A(9468);A(5867);const CC=new Map,YI={activated:!1,tokenObservers:[]},DC={initialized:!1,enabled:!1};function hi(n){return CC.get(n)||YI}function Na(n,e){CC.set(n,e)}function jp(){return DC}class IC{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function XI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pi=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SC(n){if(!hi(n).activated)throw Pi.create("use-before-activation",{appName:n.name})}function Vb(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Se.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,a)}catch(x){throw Pi.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==d.status)throw Pi.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(x){throw Pi.create("fetch-parse-error",{originalErrorMessage:x.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),Bb.apply(this,arguments)}function wM(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const x_="firebase-app-check-store";let dd=null;function OC(){return dd||(dd=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Pi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(x_,{keyPath:"compositeKey"})}}catch(t){e(Pi.create("storage-open",{originalErrorMessage:t.message}))}}),dd)}function $p(){return $p=(0,Se.Z)(function*(n,e){const r=(yield OC()).transaction(x_,"readwrite"),a=r.objectStore(x_).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=_=>{d()},r.onerror=_=>{var w;f(Pi.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),$p.apply(this,arguments)}const Hc=new No.Yd("@firebase/app-check");function nA(n,e){return(0,Ht.hl)()?function RC(n,e){return function O_(n,e){return $p.apply(this,arguments)}(function R_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FC(){return jp().enabled}function LC(){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,Se.Z)(function*(){const n=jp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Ub.apply(this,arguments)}const VC={error:"UNKNOWN_ERROR"};function BC(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function zp(n){return jb.apply(this,arguments)}function jb(){return jb=(0,Se.Z)(function*(n,e=!1){const t=n.app;SC(t);const r=hi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&rf(_)&&(i=_)}if(!e&&i&&rf(i))return{token:i.token};let f,d=!1;if(FC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Vb(wM(t,yield LC()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const _=yield r.exchangeTokenPromise;return yield nA(t,_),Na(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Hc.warn(_.message):Hc.error(_),a=_}return i?(f={token:i.token},Na(t,Object.assign(Object.assign({},r),{token:i})),yield nA(t,i)):f=iA(a),d&&$b(t,f),f}),jb.apply(this,arguments)}function P_(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Na(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function N_(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function AM(n){const{app:e}=n;return new IC((0,Se.Z)(function*(){let r;if(r=hi(e).token?yield zp(n,!0):yield zp(n),r.error)throw r.error}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Na(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $b(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function rf(n){return n.expireTimeMillis-Date.now()>0}function iA(n){return{token:BC(VC),error:n}}class sA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)P_(this.app,t.next);return Promise.resolve()}}const K="app-check-internal";!function oe(){(0,Wr._registerComponent)(new pa.wA("app-check",n=>function SM(n,e){return new sA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(K).initialize()})),(0,Wr._registerComponent)(new pa.wA(K,n=>function MM(n){return{getToken:e=>zp(n,e),addTokenListener:e=>function Hb(n,e,t,r){const{app:i}=n,a=hi(i),d={next:t,error:r,type:e};if(Na(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&rf(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),N_(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>N_(n))}(n,"INTERNAL",e),removeTokenListener:e=>P_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wr.registerVersion)("@firebase/app-check","0.5.7")}();class Qe{constructor(){return(0,Tn.vb)("app-check")}}"undefined"!=typeof window&&window;var F_=A(127);const LM=new c.OlP("angularfire2.auth.use-emulator"),VM=new c.OlP("angularfire2.auth.settings"),BM=new c.OlP("angularfire2.auth.tenant-id"),UM=new c.OlP("angularfire2.auth.langugage-code"),jM=new c.OlP("angularfire2.auth.use-device-language"),HM=new c.OlP("angularfire.auth.persistence"),$M=(n,e,t,r,i,a,d,f)=>(0,wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),d)for(const[w,I]of Object.entries(d))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,d,f]);let ZC=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,x,V,Y){const J=new An.x,me=(0,Dt.of)(void 0).pipe((0,Rb.Q)(d.outsideAngular),(0,di.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,820)))),(0,wt.U)(()=>(0,wi.on)(t,a,r)),(0,wt.U)(Ue=>$M(Ue,a,f,w,I,x,_,V)),mC({bufferSize:1,refCount:!1}));if(Nr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{me.pipe(ud()).subscribe();const pt=me.pipe((0,di.w)(ut=>ut.getRedirectResult().then(Kt=>Kt,()=>null)),Tn.iC,mC({bufferSize:1,refCount:!1})),gt=me.pipe((0,di.w)(ut=>new ii.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>ut.onAuthStateChanged(sn=>Kt.next(sn),sn=>Kt.error(sn),()=>Kt.complete()))})))),dt=me.pipe((0,di.w)(ut=>new ii.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>ut.onIdTokenChanged(sn=>Kt.next(sn),sn=>Kt.error(sn),()=>Kt.complete()))}))));this.authState=pt.pipe(yC(gt),(0,Fs.R)(d.outsideAngular),(0,Rb.Q)(d.insideAngular)),this.user=pt.pipe(yC(dt),(0,Fs.R)(d.outsideAngular),(0,Rb.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,di.w)(ut=>ut?(0,kt.D)(ut.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,di.w)(ut=>ut?(0,kt.D)(ut.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,kl.T)(pt,J,this.authState.pipe((0,fr.h)(ut=>!ut))).pipe((0,wt.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,Fs.R)(d.outsideAngular),(0,Rb.Q)(d.insideAngular))}return(0,wi.pX)(this,me,a,{spy:{apply:(Ue,pt,gt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&gt.then(dt=>J.next(dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi.Dh),c.LFG(wi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tn.HU),c.LFG(LM,8),c.LFG(VM,8),c.LFG(BM,8),c.LFG(UM,8),c.LFG(jM,8),c.LFG(HM,8),c.LFG(Qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bP=(()=>{class n{constructor(){F_.Z.registerVersion("angularfire",Tn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ZC]}),n})();function GM(n,e){return function EP(n,e=ro.z){return new ii.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function cA(n,e){return GM(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function YC(n,e){return cA(n,e).pipe(ss(void 0),so(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(I=>I.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function zM(n,e,t){return YC(n,t).pipe((0,os.R)((r,i)=>function CP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function DP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return uA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),(0,si.x)(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function uA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function WM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=YC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ss(void 0),so(),(0,fr.h)(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),Tn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,os.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WM(e);return zM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return cA(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tn.iC)}get(e){return(0,kt.D)(this.query.get(e)).pipe(Tn.iC)}add(e){return this.ref.add(e)}doc(e){return new KM(this.ref.doc(e),this.afs)}}class KM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=QM(r,t);return new qM(i,a,this.afs)}snapshotChanges(){return function wP(n,e){return GM(n,e).pipe(ss(void 0),so(),(0,wt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,kt.D)(this.ref.get(e)).pipe(Tn.iC)}}class TP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?YC(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,fr.h)(t=>t.length>0),Tn.iC):YC(this.query,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,os.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WM(e);return zM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return cA(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Tn.iC)}get(e){return(0,kt.D)(this.query.get(e)).pipe(Tn.iC)}}const ZM=new c.OlP("angularfire2.enableFirestorePersistence"),YM=new c.OlP("angularfire2.firestore.persistenceSettings"),IP=new c.OlP("angularfire2.firestore.settings"),AP=new c.OlP("angularfire2.firestore.use-emulator");function QM(n,e=(t=>t)){return{query:e(n),ref:n}}let dA=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,x,V,Y,J,me,Ue,pt,gt){this.schedulers=_;const dt=(0,wi.on)(t,f,r),ut=I;x&&$M(dt,f,V,J,me,Ue,Y,pt),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${dt.name}.firestore`,"AngularFirestore",dt.name,()=>{const Kt=f.runOutsideAngular(()=>dt.firestore());if(a&&Kt.settings(a),ut&&Kt.useEmulator(...ut),i&&!Nr(d)){const sn=()=>{try{return(0,kt.D)(Kt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(xn){return"undefined"!=typeof console&&console.warn(xn),(0,Dt.of)(!1)}};return[Kt,f.runOutsideAngular(sn)]}return[Kt,(0,Dt.of)(!1)]},[a,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=QM(i,r),f=this.schedulers.ngZone.run(()=>a);return new qM(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new TP(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new KM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi.Dh),c.LFG(wi.xv,8),c.LFG(ZM,8),c.LFG(IP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tn.HU),c.LFG(YM,8),c.LFG(AP,8),c.LFG(ZC,8),c.LFG(LM,8),c.LFG(VM,8),c.LFG(BM,8),c.LFG(UM,8),c.LFG(jM,8),c.LFG(HM,8),c.LFG(Qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SP=(()=>{class n{constructor(){F_.Z.registerVersion("angularfire",Tn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ZM,useValue:!0},{provide:YM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dA]}),n})();var Fa=A(1135);const{isArray:MP}=Array,{getPrototypeOf:xP,prototype:OP,keys:RP}=Object;function JM(n){if(1===n.length){const e=n[0];if(MP(e))return{args:e,keys:null};if(function kP(n){return n&&"object"==typeof n&&xP(n)===OP}(e)){const t=RP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:PP}=Array;function hA(n){return(0,wt.U)(e=>function NP(n,e){return PP(e)?n(...e):n(e)}(n,e))}function XM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var FP=A(9672);function ex(n,e,t){n?(0,FP.f)(t,n,e):e()}function QC(n,e){const t=(0,Xo.m)(n)?n:()=>n,r=i=>i.error(t());return new ii.y(e?i=>e.schedule(r,0,i):r)}var JC=A(8421);function fA(n){return new ii.y(e=>{(0,JC.Xf)(n()).subscribe(e)})}var Wp=A(515),$c=A(727);function tx(){return(0,Mi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class BP extends ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $c.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$c.w0.EMPTY)}return e}refCount(){return tx()(this)}}var qp=A(262),Wb=A(4351);function pA(n){return n<=0?()=>Wp.E:(0,Mi.e)((e,t)=>{let r=[];e.subscribe((0,Lr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Vs=A(5577);class pd{constructor(e,t){this.id=e,this.url=t}}class mA extends pd{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qb extends pd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nx extends pd{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HP extends pd{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $P extends pd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GP extends pd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zP extends pd{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WP extends pd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qP extends pd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ix{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KP{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZP{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YP{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QP{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sx{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fn="primary";class JP{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function L_(n){return new JP(n)}const ox="ngNavigationCancelingError";function gA(n){const e=Error("NavigationCancelingError: "+n);return e[ox]=!0,e}function e1(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Gc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!ax(n[i],e[i]))return!1;return!0}function ax(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function lx(n){return Array.prototype.concat.apply([],n)}function cx(n){return n.length>0?n[n.length-1]:null}function Ji(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zc(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,kt.D)(Promise.resolve(n)):(0,Dt.of)(n)}const r1={exact:function hx(n,e,t){if(!Zp(n.segments,e.segments)||!XC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!hx(n.children[r],e.children[r],t))return!1;return!0},subset:fx},ux={exact:function s1(n,e){return Gc(n,e)},subset:function o1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ax(n[t],e[t]))},ignored:()=>!0};function dx(n,e,t){return r1[t.paths](n.root,e.root,t.matrixParams)&&ux[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fx(n,e,t){return px(n,e,e.segments,t)}function px(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Zp(i,t)||e.hasChildren()||!XC(i,t,r))}if(n.segments.length===t.length){if(!Zp(n.segments,t)||!XC(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!fx(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Zp(n.segments,i)&&XC(n.segments,i,r)&&n.children[fn])&&px(n.children[fn],e,a,r)}}function XC(n,e,t){return e.every((r,i)=>ux[t](n[i].parameters,r.parameters))}class Kp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=L_(this.queryParams)),this._queryParamMap}toString(){return c1.serialize(this)}}class yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ji(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eD(this)}}class Kb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=L_(this.parameters)),this._parameterMap}toString(){return vx(this)}}function Zp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class mx{}class gx{parse(e){const t=new y1(e);return new Kp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zb(e.root,!0)}`,r=function h1(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${tD(t)}=${tD(i)}`).join("&"):`${tD(t)}=${tD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function u1(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const c1=new gx;function eD(n){return n.segments.map(e=>vx(e)).join("/")}function Zb(n,e){if(!n.hasChildren())return eD(n);if(e){const t=n.children[fn]?Zb(n.children[fn],!1):"",r=[];return Ji(n.children,(i,a)=>{a!==fn&&r.push(`${a}:${Zb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function l1(n,e){let t=[];return Ji(n.children,(r,i)=>{i===fn&&(t=t.concat(e(r,i)))}),Ji(n.children,(r,i)=>{i!==fn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===fn?[Zb(n.children[fn],!1)]:[`${i}:${Zb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fn]?`${eD(n)}/${t[0]}`:`${eD(n)}/(${t.join("//")})`}}function _x(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tD(n){return _x(n).replace(/%3B/gi,";")}function _A(n){return _x(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nD(n){return decodeURIComponent(n)}function yx(n){return nD(n.replace(/\+/g,"%20"))}function vx(n){return`${_A(n.path)}${function d1(n){return Object.keys(n).map(e=>`;${_A(e)}=${_A(n[e])}`).join("")}(n.parameters)}`}const f1=/^[^\/()?;=#]+/;function rD(n){const e=n.match(f1);return e?e[0]:""}const p1=/^[^=?&#]+/,g1=/^[^&#]+/;class y1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fn]=new yn(e,t)),r}parseSegment(){const e=rD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Kb(nD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rD(this.remaining);i&&(r=i,this.capture(r))}e[nD(t)]=nD(r)}parseQueryParam(e){const t=function m1(n){const e=n.match(p1);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function _1(n){const e=n.match(g1);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=yx(t),a=yx(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=fn);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[fn]:new yn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vA(e,this._root).map(t=>t.value)}}function yA(n,e){if(n===e.value)return e;for(const t of e.children){const r=yA(n,t);if(r)return r}return null}function vA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=vA(n,t);if(r.length)return r.unshift(e),r}return[]}class md{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function V_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ex extends bx{constructor(e,t){super(e),this.snapshot=t,bA(this,e)}toString(){return this.snapshot.toString()}}function wx(n,e){const t=function v1(n,e){const d=new iD([],{},{},"",{},fn,e,null,n.root,-1,{});return new Dx("",new md(d,[]))}(n,e),r=new Fa.X([new Kb("",{})]),i=new Fa.X({}),a=new Fa.X({}),d=new Fa.X({}),f=new Fa.X(""),_=new B_(r,i,d,f,a,fn,e,t.root);return _.snapshot=t.root,new Ex(new md(_,[]),t)}class B_{constructor(e,t,r,i,a,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>L_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>L_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function b1(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class iD{constructor(e,t,r,i,a,d,f,_,w,I,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=L_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=L_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dx extends bx{constructor(e,t){super(t),this.url=e,bA(this,t)}toString(){return Tx(this._root)}}function bA(n,e){e.value._routerState=n,e.children.forEach(t=>bA(n,t))}function Tx(n){const e=n.children.length>0?` { ${n.children.map(Tx).join(", ")} } `:"";return`${n.value}${e}`}function EA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Gc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Gc(e.params,t.params)||n.params.next(t.params),function t1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Gc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Gc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wA(n,e){const t=Gc(n.params,e.params)&&function a1(n,e){return Zp(n,e)&&n.every((t,r)=>Gc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wA(n.parent,e.parent))}function Yb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function w1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Yb(n,r,i);return Yb(n,r)})}(n,e,t);return new md(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Yb(n,f)),d}}const r=function C1(n){return new B_(new Fa.X(n.url),new Fa.X(n.params),new Fa.X(n.queryParams),new Fa.X(n.fragment),new Fa.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Yb(n,a));return new md(r,i)}}function sD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qb(n){return"object"==typeof n&&null!=n&&n.outlets}function CA(n,e,t,r,i){let a={};if(r&&Ji(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new Kp(t,a,i);const d=Ix(n,e,t);return new Kp(d,a,i)}function Ix(n,e,t){const r={};return Ji(n.children,(i,a)=>{r[a]=i===e?t:Ix(i,e,t)}),new yn(n.segments,r)}class Ax{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sD(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Qb);if(i&&i!==cx(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DA{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Sx(n,e,t){if(n||(n=new yn([],{})),0===n.segments.length&&n.hasChildren())return oD(n,e,t);const r=function M1(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(Qb(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!xx(_,w,d))return a;r+=2}else{if(!xx(_,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new yn(n.segments.slice(0,r.pathIndex),{});return a.children[fn]=new yn(n.segments.slice(r.pathIndex),n.children),oD(a,0,i)}return r.match&&0===i.length?new yn(n.segments,{}):r.match&&!n.hasChildren()?TA(n,e,t):r.match?oD(n,0,i):TA(n,e,t)}function oD(n,e,t){if(0===t.length)return new yn(n.segments,{});{const r=function S1(n){return Qb(n[0])?n[0].outlets:{[fn]:n}}(t),i={};return Ji(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Sx(n.children[d],e,a))}),Ji(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new yn(n.segments,i)}}function TA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Qb(a)){const _=x1(a.outlets);return new yn(r,_)}if(0===i&&sD(t[0])){r.push(new Kb(n.segments[e].path,Mx(t[0]))),i++;continue}const d=Qb(a)?a.outlets[fn]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&sD(f)?(r.push(new Kb(d,Mx(f))),i+=2):(r.push(new Kb(d,{})),i++)}return new yn(r,{})}function x1(n){const e={};return Ji(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=TA(new yn([],{}),0,t))}),e}function Mx(n){const e={};return Ji(n,(t,r)=>e[r]=`${t}`),e}function xx(n,e,t){return n==t.path&&Gc(e,t.parameters)}class R1{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),EA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=V_(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),Ji(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=V_(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=V_(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=V_(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new QP(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ZP(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(EA(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),EA(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function k1(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class IA{constructor(e,t){this.routes=e,this.module=t}}function sf(n){return"function"==typeof n}function Yp(n){return n instanceof Kp}const Jb=Symbol("INITIAL_VALUE");function Xb(){return(0,di.w)(n=>function LP(...n){const e=(0,Jl.yG)(n),t=(0,Jl.jO)(n),{args:r,keys:i}=JM(n);if(0===r.length)return(0,kt.D)([],e);const a=new ii.y(function VP(n,e,t=Nb.y){return r=>{ex(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)ex(e,()=>{const w=(0,kt.D)(n[_],e);let I=!1;w.subscribe((0,Lr.x)(r,x=>{a[_]=x,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>XM(i,d):Nb.y));return t?a.pipe(hA(t)):a}(n.map(e=>e.pipe((0,Pl.q)(1),ss(Jb)))).pipe((0,os.R)((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==Jb?i:(a===Jb&&(r=!0),r||!1!==a&&d!==t.length-1&&!Yp(a)?i:a),e)},Jb),(0,fr.h)(e=>e!==Jb),(0,wt.U)(e=>Yp(e)?e:!0===e),(0,Pl.q)(1)))}class B1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new e0,this.attachRef=null}}class e0{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new B1,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let AA=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||fn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new U1(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(e0),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class U1{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===B_?this.route:e===e0?this.childContexts:this.parent.get(e,t)}}let Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[AA],encapsulation:2}),n})();function Rx(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];j1(r,H1(e,r))}}function j1(n,e){n.children&&Rx(n.children,e)}function H1(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function SA(n){const e=n.children&&n.children.map(SA),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fn&&(t.component=Ox),t}function La(n){return n.outlet||fn}function kx(n,e){const t=n.filter(r=>La(r)===e);return t.push(...n.filter(r=>La(r)!==e)),t}const Px={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aD(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Px):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||e1)(t,n,e);if(!a)return Object.assign({},Px);const d={};Ji(a.posParams,(_,w)=>{d[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function lD(n,e,t,r,i="corrected"){if(t.length>0&&function z1(n,e,t){return t.some(r=>cD(n,e,r)&&La(r)!==fn)}(n,t,r)){const d=new yn(e,function G1(n,e,t,r){const i={};i[fn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&La(a)!==fn){const d=new yn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[La(a)]=d}return i}(n,e,r,new yn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function W1(n,e,t){return t.some(r=>cD(n,e,r))}(n,t,r)){const d=new yn(n.segments,function $1(n,e,t,r,i,a){const d={};for(const f of r)if(cD(n,t,f)&&!i[La(f)]){const _=new yn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[La(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new yn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function cD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Nx(n,e,t,r){return!!(La(n)===r||r!==fn&&cD(e,t,n))&&("**"===n.path||aD(e,n,t).matched)}function Fx(n,e,t){return 0===e.length&&!n.children[t]}class uD{constructor(e){this.segmentGroup=e||null}}class Lx{constructor(e){this.urlTree=e}}function t0(n){return QC(new uD(n))}function Vx(n){return QC(new Lx(n))}function q1(n){return QC(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class Y1{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=lD(this.urlTree.root,[],[],this.config).segmentGroup,t=new yn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,fn).pipe((0,wt.U)(a=>this.createUrlTree(MA(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,qp.K)(a=>{if(a instanceof Lx)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof uD?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,fn).pipe((0,wt.U)(i=>this.createUrlTree(MA(i),e.queryParams,e.fragment))).pipe((0,qp.K)(i=>{throw i instanceof uD?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new yn([],{[fn]:e}):e;return new Kp(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new yn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,kt.D)(i).pipe((0,Wb.b)(a=>{const d=r.children[a],f=kx(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,wt.U)(_=>({segment:_,outlet:a})))}),(0,os.R)((a,d)=>(a[d.outlet]=d.segment,a),{}),function UP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,fr.h)((i,a)=>n(i,a,r)):Nb.y,pA(1),t?gC(e):_C(()=>new Pb))}())}expandSegment(e,t,r,i,a,d){return(0,kt.D)(r).pipe((0,Wb.b)(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe((0,qp.K)(w=>{if(w instanceof uD)return(0,Dt.of)(null);throw w}))),ud(f=>!!f),(0,qp.K)((f,_)=>{if(f instanceof Pb||"EmptyError"===f.name)return Fx(t,i,a)?(0,Dt.of)(new yn([],{})):t0(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return Nx(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):t0(t):t0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vx(a):this.lineralizeSegments(r,a).pipe((0,Vs.z)(d=>{const f=new yn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=aD(t,i,a);if(!f)return t0(t);const x=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?Vx(x):this.lineralizeSegments(i,x).pipe((0,Vs.z)(V=>this.expandSegment(e,t,r,V.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Dt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,wt.U)(x=>(r._loadedConfig=x,new yn(i,{})))):(0,Dt.of)(new yn(i,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=aD(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Vs.z)(I=>{const x=I.module,V=I.routes,{segmentGroup:Y,slicedSegments:J}=lD(t,f,_,V),me=new yn(Y.segments,Y.children);if(0===J.length&&me.hasChildren())return this.expandChildren(x,V,me).pipe((0,wt.U)(dt=>new yn(f,dt)));if(0===V.length&&0===J.length)return(0,Dt.of)(new yn(f,{}));const Ue=La(r)===a;return this.expandSegment(x,me,V,J,Ue?fn:a,!0).pipe((0,wt.U)(gt=>new yn(f.concat(gt.segments),gt.children)))})):t0(t)}getChildConfig(e,t,r){return t.children?(0,Dt.of)(new IA(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Dt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Vs.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,wt.U)(a=>(t._loadedConfig=a,a))):function K1(n){return QC(gA(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,Dt.of)(new IA([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,Dt.of)(!0);const a=i.map(d=>{const f=e.get(d);let _;if(function N1(n){return n&&sf(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!sf(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return zc(_)});return(0,Dt.of)(a).pipe(Xb(),(0,bn.b)(d=>{if(!Yp(d))return;const f=gA(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,wt.U)(d=>!0===d))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Dt.of)(r);if(i.numberOfChildren>1||!i.children[fn])return q1(e.redirectTo);i=i.children[fn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Kp(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ji(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return Ji(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new yn(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function MA(n){const e={};for(const r of Object.keys(n.children)){const a=MA(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Q1(n){if(1===n.numberOfChildren&&n.children[fn]){const e=n.children[fn];return new yn(n.segments.concat(e.segments),e.children)}return n}(new yn(n.segments,e))}class Bx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dD{constructor(e,t){this.component=e,this.route=t}}function X1(n,e,t){const r=n._root;return n0(r,e?e._root:null,t,[r.value])}function hD(n,e,t){const r=function tN(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function n0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=V_(e);return n.children.forEach(d=>{(function nN(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function rN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zp(n.url,e.url)||!Gc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wA(n,e)||!Gc(n.queryParams,e.queryParams);default:return!wA(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Bx(r)):(a.data=d.data,a._resolvedData=d._resolvedData),n0(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new dD(f.outlet.component,d))}else d&&r0(e,f,i),i.canActivateChecks.push(new Bx(r)),n0(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),Ji(a,(d,f)=>r0(d,t.getContext(f),i)),i}function r0(n,e,t){const r=V_(n),i=n.value;Ji(r,(a,d)=>{r0(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new dD(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class hN{}function Ux(n){return new ii.y(e=>e.error(n))}class pN{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=lD(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,fn);if(null===t)return null;const r=new iD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new md(r,t),a=new Dx(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Cx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],f=kx(e,a),_=this.processSegmentGroup(f,d,a);if(null===_)return null;r.push(..._)}const i=jx(r);return function mN(n){n.sort((e,t)=>e.value.outlet===fn?-1:t.value.outlet===fn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return Fx(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Nx(e,t,r,i))return null;let a,d=[],f=[];if("**"===e.path){const Y=r.length>0?cx(r).parameters:{};a=new iD(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gx(e),La(e),e.component,e,Hx(t),$x(t)+r.length,zx(e))}else{const Y=aD(t,e,r);if(!Y.matched)return null;d=Y.consumedSegments,f=Y.remainingSegments,a=new iD(d,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gx(e),La(e),e.component,e,Hx(t),$x(t)+d.length,zx(e))}const _=function gN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=lD(t,d,f,_.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const Y=this.processChildren(_,w);return null===Y?null:[new md(a,Y)]}if(0===_.length&&0===I.length)return[new md(a,[])];const x=La(e)===i,V=this.processSegment(_,w,I,x?fn:i);return null===V?null:[new md(a,V)]}}function _N(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jx(n){const e=[],t=new Set;for(const r of n){if(!_N(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jx(r.children);e.push(new md(r.value,i))}return e.filter(r=>!t.has(r))}function Hx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $x(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Gx(n){return n.data||{}}function zx(n){return n.resolve||{}}function Wx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xA(n){return(0,di.w)(e=>{const t=n(e);return t?(0,kt.D)(t).pipe((0,wt.U)(()=>e)):(0,Dt.of)(e)})}class TN extends class DN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const OA=new c.OlP("ROUTES");class qx{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,wt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new IA(lx(d.injector.get(OA,void 0,c.XFs.Self|c.XFs.Optional)).map(SA),d)}),(0,qp.K)(a=>{throw t._loader$=void 0,a}));return t._loader$=new BP(i,()=>new An.x).pipe(tx()),t._loader$}loadModuleFactory(e){return zc(e()).pipe((0,Vs.z)(t=>t instanceof c.YKP?(0,Dt.of)(t):(0,kt.D)(this.compiler.compileModuleAsync(t))))}}class AN{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function SN(n){throw n}function MN(n,e,t){return e.parse("/")}function Kx(n,e){return(0,Dt.of)(null)}const xN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ON={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bs=(()=>{class n{constructor(t,r,i,a,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new An.x,this.errorHandler=SN,this.malformedUriErrorHandler=MN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kx,afterPreactivation:Kx},this.urlHandlingStrategy=new AN,this.routeReuseStrategy=new TN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const x=d.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function n1(){return new Kp(new yn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qx(d,f,V=>this.triggerEvent(new rx(V)),V=>this.triggerEvent(new ix(V))),this.routerState=wx(this.currentUrlTree,this.rootComponentType),this.transitions=new Fa.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,fr.h)(i=>0!==i.id),(0,wt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,di.w)(i=>{let a=!1,d=!1;return(0,Dt.of)(i).pipe((0,bn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,di.w)(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Zx(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Dt.of)(f).pipe((0,di.w)(x=>{const V=this.transitions.getValue();return r.next(new mA(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?Wp.E:Promise.resolve(x)}),function J1(n,e,t,r){return(0,di.w)(i=>function Z1(n,e,t,r,i){return new Y1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function yN(n,e,t,r,i){return(0,Vs.z)(a=>function fN(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new pN(n,e,t,r,i,a).recognize();return null===d?Ux(new hN):(0,Dt.of)(d)}catch(d){return Ux(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,wt.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(Y,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new $P(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:Y,source:J,restoredState:me,extras:Ue}=f,pt=new mA(V,this.serializeUrl(Y),J,me);r.next(pt);const gt=wx(Y,this.rootComponentType).snapshot;return(0,Dt.of)(Object.assign(Object.assign({},f),{targetSnapshot:gt,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Wp.E}),xA(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:Y}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!Y})}),(0,bn.b)(f=>{const _=new GP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:X1(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function iN(n,e){return(0,Vs.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?(0,Dt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function sN(n,e,t,r){return(0,kt.D)(n).pipe((0,Vs.z)(i=>function dN(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Dt.of)(!0);const d=a.map(f=>{const _=hD(f,e,i);let w;if(function V1(n){return n&&sf(n.canDeactivate)}(_))w=zc(_.canDeactivate(n,e,t,r));else{if(!sf(_))throw new Error("Invalid CanDeactivate guard");w=zc(_(n,e,t,r))}return w.pipe(ud())});return(0,Dt.of)(d).pipe(Xb())}(i.component,i.route,t,e,r)),ud(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Vs.z)(f=>f&&function P1(n){return"boolean"==typeof n}(f)?function oN(n,e,t,r){return(0,kt.D)(e).pipe((0,Wb.b)(i=>Xl(function lN(n,e){return null!==n&&e&&e(new KP(n)),(0,Dt.of)(!0)}(i.route.parent,r),function aN(n,e){return null!==n&&e&&e(new YP(n)),(0,Dt.of)(!0)}(i.route,r),function uN(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function eN(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>fA(()=>{const f=d.guards.map(_=>{const w=hD(_,d.node,t);let I;if(function L1(n){return n&&sf(n.canActivateChild)}(w))I=zc(w.canActivateChild(r,n));else{if(!sf(w))throw new Error("Invalid CanActivateChild guard");I=zc(w(r,n))}return I.pipe(ud())});return(0,Dt.of)(f).pipe(Xb())}));return(0,Dt.of)(a).pipe(Xb())}(n,i.path,t),function cN(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const i=r.map(a=>fA(()=>{const d=hD(a,e,t);let f;if(function F1(n){return n&&sf(n.canActivate)}(d))f=zc(d.canActivate(e,n));else{if(!sf(d))throw new Error("Invalid CanActivate guard");f=zc(d(e,n))}return f.pipe(ud())}));return(0,Dt.of)(i).pipe(Xb())}(n,i.route,t))),ud(i=>!0!==i,!0))}(r,a,n,e):(0,Dt.of)(f)),(0,wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,bn.b)(f=>{if(Yp(f.guardsResult)){const w=gA(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new zP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),(0,fr.h)(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),xA(f=>{if(f.guards.canActivateChecks.length)return(0,Dt.of)(f).pipe((0,bn.b)(_=>{const w=new WP(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,di.w)(_=>{let w=!1;return(0,Dt.of)(_).pipe(function vN(n,e){return(0,Vs.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Dt.of)(t);let a=0;return(0,kt.D)(i).pipe((0,Wb.b)(d=>function bN(n,e,t,r){return function EN(n,e,t,r){const i=Wx(n);if(0===i.length)return(0,Dt.of)({});const a={};return(0,kt.D)(i).pipe((0,Vs.z)(d=>function wN(n,e,t,r){const i=hD(n,e,r);return zc(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,bn.b)(f=>{a[d]=f}))),pA(1),(0,Vs.z)(()=>Wx(a).length===i.length?(0,Dt.of)(a):Wp.E))}(n._resolve,n,e,r).pipe((0,wt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Cx(n,t).resolve),null)))}(d.route,r,n,e)),(0,bn.b)(()=>a++),pA(1),(0,Vs.z)(d=>a===i.length?(0,Dt.of)(t):Wp.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(_=>{const w=new qP(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),xA(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:Y}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!Y})}),(0,wt.U)(f=>{const _=function E1(n,e,t){const r=Yb(n,e._root,t?t._root:void 0);return new Ex(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,bn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new R1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,bn.b)({next(){a=!0},complete(){a=!0}}),function jP(n){return(0,Mi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),(0,qp.K)(f=>{if(d=!0,function XP(n){return n&&n[ox]}(f)){const _=Yp(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new nx(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zx(i.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new HP(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return Wp.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Rx(t),this.config=t.map(SA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:d;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function D1(n,e,t,r,i){if(0===t.length)return CA(e.root,e.root,e.root,r,i);const a=function T1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ax(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ji(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Ax(t,e,r)}(t);if(a.toRoot())return CA(e.root,e.root,new yn([],{}),r,i);const d=function I1(n,e,t){if(n.isAbsolute)return new DA(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new DA(a,a===e.root,0)}const r=sD(n.commands[0])?0:1;return function A1(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new DA(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=d.processChildren?oD(d.segmentGroup,d.index,a.commands):Sx(d.segmentGroup,d.index,a.commands);return CA(e.root,d.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,x,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Yp(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function RN(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},xN):!1===r?Object.assign({},ON):r,Yp(t))return dx(this.currentUrlTree,t,i);const a=this.parseUrl(t);return dx(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new qb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var f,_;if(this.disposed)return Promise.resolve(!1);let w,I,x;d?(w=d.resolve,I=d.reject,x=d.promise):x=new Promise((J,me)=>{w=J,I=me});const V=++this.navigationId;let Y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Y=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Y=0,this.setTransition({id:V,targetPageId:Y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:I,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(J=>Promise.reject(J))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new nx(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zx(n){return"imperative"!==n}let fD=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new An.x,this.subscription=t.events.subscribe(a=>{a instanceof qb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,d){if(0!==t||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:U_(this.skipLocationChange),replaceUrl:U_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:U_(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bs),c.Y36(B_),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function U_(n){return""===n||!!n}class Yx{}class Qx{preload(e,t){return(0,Dt.of)(null)}}let Jx=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new qx(i,r,_=>t.triggerEvent(new rx(_)),_=>t.triggerEvent(new ix(_)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,fr.h)(t=>t instanceof qb),(0,Wb.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,kt.D)(i).pipe((0,Po.J)(),(0,wt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Dt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Vs.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bs),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Yx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kA=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new sx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Qp=new c.OlP("ROUTER_CONFIGURATION"),Xx=new c.OlP("ROUTER_FORROOT_GUARD"),FN=[ve,{provide:mx,useClass:gx},{provide:Bs,useFactory:function jN(n,e,t,r,i,a,d={},f,_){const w=new Bs(null,n,e,t,r,i,lx(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function HN(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(I=>{var x,V;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(V=console.groupEnd)||void 0===V||V.call(console)}),w},deps:[mx,e0,ve,c.zs3,c.Sil,OA,Qp,[class IN{},new c.FiY],[class CN{},new c.FiY]]},e0,{provide:B_,useFactory:function $N(n){return n.routerState.root},deps:[Bs]},Jx,Qx,class NN{preload(e,t){return t().pipe((0,qp.K)(()=>(0,Dt.of)(null)))}},{provide:Qp,useValue:{enableTracing:!1}}];function LN(){return new c.PXZ("Router",Bs)}let eO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[FN,tO(t),{provide:Xx,useFactory:UN,deps:[[Bs,new c.FiY,new c.tp0]]},{provide:Qp,useValue:r||{}},{provide:de,useFactory:BN,deps:[Q,[new c.tBr(je),new c.FiY],Qp]},{provide:kA,useFactory:VN,deps:[Bs,Ul,Qp]},{provide:Yx,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Qx},{provide:c.PXZ,multi:!0,useFactory:LN},[PA,{provide:c.ip1,multi:!0,useFactory:GN,deps:[PA]},{provide:nO,useFactory:zN,deps:[PA]},{provide:c.tb,multi:!0,useExisting:nO}]]}}static forChild(t){return{ngModule:n,providers:[tO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xx,8),c.LFG(Bs,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function VN(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new kA(n,e,t)}function BN(n,e,t={}){return t.useHash?new Ie(n,e):new Le(n,e)}function UN(n){return"guarded"}function tO(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:OA,multi:!0,useValue:n}]}let PA=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new An.x}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Bs),d=this.injector.get(Qp);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,Dt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Qp),i=this.injector.get(Jx),a=this.injector.get(kA),d=this.injector.get(Bs),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function GN(n){return n.appInitializer.bind(n)}function zN(n){return n.bootstrapListener.bind(n)}const nO=new c.OlP("Router Initializer");let Wc=(()=>{class n{constructor(t,r,i,a){this.db=t,this.angularFireAuth=r,this.router=i,this.store=a,this.uid="",this.email="",this.angularFireAuth.authState.subscribe(d=>{d?(this.userState=d,localStorage.setItem("user",JSON.stringify(this.userState)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}onLogin(t,r){return this.email=t,this.angularFireAuth.signInWithEmailAndPassword(t,r).then(i=>{i.user&&(this.uid=i.user.uid,this.store.dispatch(ha.setAuthenticated()),this.router.navigate(["orders"]))}).catch(i=>{const a=i.code;alert("auth/wrong-password"===a?"Nieprawid\u0142owe has\u0142o":"auth/invalid-email"===a?"Nieprawid\u0142owy email":"auth/user-not-found"===a?"Nie znaleziono u\u017cytkownika":i.message)})}onLogout(){return this.angularFireAuth.signOut().then(()=>{this.store.dispatch(ha.setNotAuthenticated()),this.store.dispatch(no.resetUser()),localStorage.removeItem("user"),this.router.navigate(["login"])}).catch(t=>{alert(t.message)})}onSignup(t,r,i){return this.angularFireAuth.createUserWithEmailAndPassword(r,i).then(a=>{var d;const f=null===(d=a.user)||void 0===d?void 0:d.uid;this.db.collection("users").doc(f).set({userName:t,role:"client"})}).catch(a=>{alert(a.message)})}setUserData(t,r){return this.db.doc(`users/${t}`).valueChanges().pipe((0,bn.b)(i=>{i&&this.store.dispatch(no.setUserData({userName:i.userName,role:i.role,uid:t,userEmail:r}))}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dA),c.LFG(ZC),c.LFG(Bs),c.LFG(Bn.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qN=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function KN(){return(0,c.f3M)(W)}}),ZN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let NA,Jp=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function YN(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ZN.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{NA="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){NA=!1}let j_,_s=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ri(n){return n===qs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NA)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function sO(){if(j_)return j_;if("object"!=typeof document||!document)return j_=new Set(iO),j_;let n=document.createElement("input");return j_=new Set(iO.filter(e=>(n.setAttribute("type",e),n.type===e))),j_}let o0,Xp,FA;function a0(n){return function QN(){if(null==o0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>o0=!0}))}finally{o0=o0||!1}return o0}()?n:!!n.capture}function JN(){if(null==Xp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xp=!1,Xp;if("scrollBehavior"in document.documentElement.style)Xp=!0;else{const n=Element.prototype.scrollTo;Xp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xp}function em(n){return n.composedPath?n.composedPath()[0]:n.target}function LA(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function H_(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var cO=A(8372),fF=A(5684),fi=A(2722);function Ni(n){return null!=n&&"false"!=`${n}`}function gD(n,e=0){return function pF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function uO(n){return Array.isArray(n)?n:[n]}function pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gd(n){return n instanceof c.SBq?n.nativeElement:n}let dO=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mF=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=gd(t);return new ii.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new An.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hO=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ni(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=gD(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,cO.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mF),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),UA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dO]}),n})();class mO{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new An.x,this._typeaheadSubscription=$c.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new An.x,this.change=new An.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,bn.b)(t=>this._pressedLetters.push(t)),(0,cO.b)(e),(0,fr.h)(()=>this._pressedLetters.length>0),(0,wt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,d=r[a];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||H_(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class yF extends mO{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class vF extends mO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function _O(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function yO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const TF=new c.OlP("cdk-input-modality-detector-options"),IF={ignoreKeys:[18,17,224,91,16]},$_=a0({passive:!0,capture:!0});let AF=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Fa.X(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=em(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_O(d)?"keyboard":"mouse"),this._mostRecentTarget=em(d))},this._onTouchstart=d=>{yO(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=em(d))},this._options=Object.assign(Object.assign({},IF),a),this.modalityDetected=this._modality.pipe((0,fF.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,si.x)()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,$_),i.addEventListener("mousedown",this._onMousedown,$_),i.addEventListener("touchstart",this._onTouchstart,$_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$_),document.removeEventListener("mousedown",this._onMousedown,$_),document.removeEventListener("touchstart",this._onTouchstart,$_))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.R0b),c.LFG(W),c.LFG(TF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SF=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function MF(){return null}}),xF=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let OF=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[a,d]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==d&&i&&(d=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(SF,8),c.LFG(c.R0b),c.LFG(W),c.LFG(xF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RF=new c.OlP("cdk-focus-monitor-default-options"),_D=a0({passive:!0,capture:!0});let jA=(()=>{class n{constructor(t,r,i,a,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new An.x,this._rootNodeFocusAndBlurListener=f=>{const _=em(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,r=!1){const i=gd(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,Dt.of)(null);const a=function eF(n){if(function XN(){if(null==FA){const n="undefined"!=typeof document?document.head:null;FA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FA}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new An.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=gd(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=gd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=em(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,_D),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,_D)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,fi.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_D),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_D),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(_s),c.LFG(AF),c.LFG(W,8),c.LFG(RF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bO="cdk-high-contrast-black-on-white",EO="cdk-high-contrast-white-on-black",HA="cdk-high-contrast-active";let wO=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(HA),t.remove(bO),t.remove(EO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(HA),t.add(bO)):2===r&&(t.add(HA),t.add(EO))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kF=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wO))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[UA]]}),n})();class CO{}const _d="*";function yD(n,e){return{type:7,name:n,definitions:e,options:{}}}function G_(n,e=null){return{type:4,styles:e,timings:n}}function DO(n,e=null){return{type:2,steps:n,options:e}}function ea(n){return{type:6,styles:n,offset:null}}function tm(n,e,t){return{type:0,name:n,styles:e,options:t}}function nm(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function NF(n=null){return{type:9,options:n}}function FF(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function TO(n){Promise.resolve(null).then(n)}class c0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class IO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?TO(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const vn=!1;function AO(n){return new c.vHH(3e3,vn)}function gL(){return"undefined"!=typeof window&&void 0!==window.document}function GA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function af(n){switch(n.length){case 0:return new c0;case 1:return n[0];default:return new IO(n)}}function SO(n,e,t,r,i={},a={}){const d=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const x=I.offset,V=x==_,Y=V&&w||{};Object.keys(I).forEach(J=>{let me=J,Ue=I[J];if("offset"!==J)switch(me=e.normalizePropertyName(me,d),Ue){case"!":Ue=i[J];break;case _d:Ue=a[J];break;default:Ue=e.normalizeStyleValue(J,me,Ue,d)}Y[me]=Ue}),V||f.push(Y),w=Y,_=x}),d.length)throw function sL(n){return new c.vHH(3502,vn)}();return f}function zA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&WA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&WA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&WA(t,"destroy",n)))}}function WA(n,e,t){const r=t.totalTime,a=qA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function qA(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function ta(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function MO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let KA=(n,e)=>!1,xO=(n,e,t)=>[],OO=null;function ZA(n){const e=n.parentNode||n.host;return e===OO?null:e}(GA()||"undefined"!=typeof Element)&&(gL()?(OO=(()=>document.documentElement)(),KA=(n,e)=>{for(;e;){if(e===n)return!0;e=ZA(e)}return!1}):KA=(n,e)=>n.contains(e),xO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let rm=null,RO=!1;function kO(n){rm||(rm=function yL(){return"undefined"!=typeof document?document.body:null}()||{},RO=!!rm.style&&"WebkitAppearance"in rm.style);let e=!0;return rm.style&&!function _L(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in rm.style,!e&&RO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in rm.style)),e}const PO=KA,NO=xO;let FO=(()=>{class n{validateStyleProperty(t){return kO(t)}matchesElement(t,r){return!1}containsElement(t,r){return PO(t,r)}getParentElement(t){return ZA(t)}query(t,r,i){return NO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,f=[],_){return new c0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),YA=(()=>{class n{}return n.NOOP=new FO,n})();const QA="ng-enter",bD="ng-leave",ED="ng-trigger",wD=".ng-trigger",VO="ng-animating",JA=".ng-animating";function im(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:XA(parseFloat(e[1]),e[2])}function XA(n,e){return"s"===e?1e3*n:n}function CD(n,e,t){return n.hasOwnProperty("duration")?n:function EL(n,e,t){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(AO()),{duration:0,delay:0,easing:""};i=XA(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=XA(parseFloat(_),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function LF(){return new c.vHH(3100,vn)}()),f=!0),a<0&&(e.push(function VF(){return new c.vHH(3101,vn)}()),f=!0),f&&e.splice(_,0,AO())}return{duration:i,delay:a,easing:d}}(n,e,t)}function z_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function lf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else z_(n,t);return t}function UO(n,e,t){return t?e+":"+t+";":""}function jO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=UO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UO(0,DL(t),n.style[t]));n.setAttribute("style",e)}function qc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=tS(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),GA()&&jO(n))}function sm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=tS(t);n.style[r]=""}),GA()&&jO(n))}function u0(n){return Array.isArray(n)?1==n.length?n[0]:DO(n):n}const eS=new RegExp("{{\\s*(.+?)\\s*}}","g");function HO(n){let e=[];if("string"==typeof n){let t;for(;t=eS.exec(n);)e.push(t[1]);eS.lastIndex=0}return e}function DD(n,e,t){const r=n.toString(),i=r.replace(eS,(a,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function UF(n){return new c.vHH(3003,vn)}()),f=""),f.toString()});return i==r?n:i}function TD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const CL=/-+([a-z0-9])/g;function tS(n){return n.replace(CL,(...e)=>e[1].toUpperCase())}function DL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function na(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function jF(n){return new c.vHH(3004,vn)}()}}function $O(n,e){return window.getComputedStyle(n)[e]}function xL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function OL(n,e,t){if(":"==n[0]){const _=function RL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function tL(n){return new c.vHH(3016,vn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function eL(n){return new c.vHH(3015,vn)}()),e;const i=r[1],a=r[2],d=r[3];e.push(GO(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(GO(d,i))}(r,t,e)):t.push(n),t}const MD=new Set(["true","1"]),xD=new Set(["false","0"]);function GO(n,e){const t=MD.has(n)||xD.has(n),r=MD.has(e)||xD.has(e);return(i,a)=>{let d="*"==n||n==i,f="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?MD.has(n):xD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?MD.has(e):xD.has(e)),d&&f}}const kL=new RegExp("s*:selfs*,?","g");function nS(n,e,t,r){return new PL(n).build(e,t,r)}class PL{constructor(e){this._driver=e}build(e,t,r){const i=new LL(t);this._resetContextStyleTimingState(i);const a=na(this,u0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function $F(){return new c.vHH(3006,vn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push(function GF(){return new c.vHH(3007,vn)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(f=>{if(OD(f)){const _=f;Object.keys(_).forEach(w=>{HO(_[w]).forEach(I=>{d.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(TD(a.values()),t.errors.push(function zF(n,e){return new c.vHH(3008,vn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=na(this,u0(e.animation),t);return{type:1,matchers:xL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:om(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>na(this,r,t)),options:om(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const f=na(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:om(e.options)}}visitAnimate(e,t){const r=function BL(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return rS(CD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=rS(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||CD(r,e),rS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:ea({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=ea(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==_d?r.push(d):t.errors.push(function WF(n){return new c.vHH(3002,vn)}()):r.push(d)}):r.push(e.styles);let i=!1,a=null;return r.forEach(d=>{if(OD(d)){const f=d,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let I=!0;w&&(a!=i&&a>=w.startTime&&i<=w.endTime&&(t.errors.push(function qF(n,e,t,r,i){return new c.vHH(3010,vn)}()),I=!1),a=w.startTime),I&&(_[f]={startTime:a,endTime:i}),t.options&&function wL(n,e,t){const r=e.params||{},i=HO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function BF(n){return new c.vHH(3001,vn)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function KF(){return new c.vHH(3011,vn)}()),r;let a=0;const d=[];let f=!1,_=!1,w=0;const I=e.steps.map(pt=>{const gt=this._makeStyleAst(pt,t);let dt=null!=gt.offset?gt.offset:function VL(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(OD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(OD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(gt.styles),ut=0;return null!=dt&&(a++,ut=gt.offset=dt),_=_||ut<0||ut>1,f=f||ut<w,w=ut,d.push(ut),gt});_&&t.errors.push(function ZF(){return new c.vHH(3012,vn)}()),f&&t.errors.push(function YF(){return new c.vHH(3200,vn)}());const x=e.steps.length;let V=0;a>0&&a<x?t.errors.push(function QF(){return new c.vHH(3202,vn)}()):0==a&&(V=1/(x-1));const Y=x-1,J=t.currentTime,me=t.currentAnimateTimings,Ue=me.duration;return I.forEach((pt,gt)=>{const dt=V>0?gt==Y?1:V*gt:d[gt],ut=dt*Ue;t.currentTime=J+me.delay+ut,me.duration=ut,this._validateStyleAst(pt,t),pt.offset=dt,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:na(this,u0(e.animation),t),options:om(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:om(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:om(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function NL(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(kL,"")),n=n.replace(/@\*/g,wD).replace(/@\w+/g,t=>wD+"-"+t.substr(1)).replace(/:animating/g,JA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ta(t.collectedStyles,t.currentQuerySelector,{});const f=na(this,u0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:om(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function JF(){return new c.vHH(3013,vn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:CD(e.timings,t.errors,!0);return{type:12,animation:na(this,u0(e.animation),t),timings:r,options:null}}}class LL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function OD(n){return!Array.isArray(n)&&"object"==typeof n}function om(n){return n?(n=z_(n)).params&&(n.params=function FL(n){return n?z_(n):null}(n.params)):n={},n}function rS(n,e,t){return{duration:n,delay:e,easing:t}}function iS(n,e,t,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class RD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HL=new RegExp(":enter","g"),GL=new RegExp(":leave","g");function sS(n,e,t,r,i,a={},d={},f,_,w=[]){return(new zL).buildKeyframes(n,e,t,r,i,a,d,f,_,w)}class zL{buildKeyframes(e,t,r,i,a,d,f,_,w,I=[]){w=w||new RD;const x=new oS(e,t,w,i,a,I,[]);x.options=_,x.currentTimeline.setStyles([d],null,x.errors,_),na(this,r,x);const V=x.timelines.filter(Y=>Y.containsAnimation());if(Object.keys(f).length){let Y;for(let J=V.length-1;J>=0;J--){const me=V[J];if(me.element===t){Y=me;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([f],null,x.errors,_)}return V.length?V.map(Y=>Y.buildKeyframes()):[iS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?im(r.duration):null,f=null!=r.delay?im(r.delay):null;return 0!==d&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,d,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),na(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=kD);const d=im(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>na(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?im(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),na(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return CD(t.params?DD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?im(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kD);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,w);a&&x.delayNextStep(a),w===t.element&&(_=x.currentTimeline),na(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;na(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const kD={};class oS{constructor(e,t,r,i,a,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new PD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=im(r.duration)),null!=r.delay&&(i.delay=im(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=DD(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new oS(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=kD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new WL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(HL,"."+this._enterClassName)).replace(GL,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&d.push(function XF(n){return new c.vHH(3014,vn)}()),f}}class PD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new PD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||_d,this._currentKeyframe[t]=_d}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},d=function qL(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=_d})):lf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=DD(d[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:_d),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=lf(f,!0);Object.keys(w).forEach(I=>{const x=w[I];"!"==x?e.add(I):x==_d&&t.add(I)}),r||(w.offset=_/this.duration),i.push(w)});const a=e.size?TD(e.values()):[],d=t.size?TD(t.values()):[];if(r){const f=i[0],_=z_(f);f.offset=0,_.offset=1,i=[f,_]}return iS(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class WL extends PD{constructor(e,t,r,i,a,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,f=t/d,_=lf(e[0],!1);_.offset=0,a.push(_);const w=lf(e[0],!1);w.offset=qO(f),a.push(w);const I=e.length-1;for(let x=1;x<=I;x++){let V=lf(e[x],!1);V.offset=qO((t+V.offset*r)/d),a.push(V)}r=d,t=0,i="",e=a}return iS(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function qO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class aS{}class KL extends aS{normalizePropertyName(e,t){return tS(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(ZL[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function HF(n,e){return new c.vHH(3005,vn)}())}return d+a}}const ZL=(()=>function YL(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function KO(n,e,t,r,i,a,d,f,_,w,I,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:x,errors:V}}const lS={};class ZO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function QL(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):d}build(e,t,r,i,a,d,f,_,w,I){const x=[],V=this.ast.options&&this.ast.options.params||lS,J=this.buildStyles(r,f&&f.params||lS,x),me=_&&_.params||lS,Ue=this.buildStyles(i,me,x),pt=new Set,gt=new Map,dt=new Map,ut="void"===i,Kt={params:Object.assign(Object.assign({},V),me)},sn=I?[]:sS(e,t,this.ast.animation,a,d,J,Ue,Kt,w,x);let xn=0;if(sn.forEach(vd=>{xn=Math.max(vd.duration+vd.delay,xn)}),x.length)return KO(t,this._triggerName,r,i,ut,J,Ue,[],[],gt,dt,xn,x);sn.forEach(vd=>{const bd=vd.element,fP=ta(gt,bd,{});vd.preStyleProps.forEach(pm=>fP[pm]=!0);const C0=ta(dt,bd,{});vd.postStyleProps.forEach(pm=>C0[pm]=!0),bd!==t&&pt.add(bd)});const Xi=TD(pt.values());return KO(t,this._triggerName,r,i,ut,J,Ue,sn,Xi,gt,dt,xn)}}class JL{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=z_(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=DD(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class eV{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new JL(i.style,i.options&&i.options.params||{},r)}),YO(this.states,"true","1"),YO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ZO(e,i,this.states))}),this.fallbackTransition=function tV(n,e,t){return new ZO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function YO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const nV=new RD;class rV{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=nS(this._driver,t,r,[]);if(r.length)throw function oL(n){return new c.vHH(3503,vn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=SO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let d;const f=new Map;if(a?(d=sS(this._driver,t,a,QA,bD,{},{},r,nV,i),d.forEach(I=>{const x=ta(f,I.element,{});I.postStyleProps.forEach(V=>x[V]=null)})):(i.push(function aL(){return new c.vHH(3300,vn)}()),d=[]),i.length)throw function lL(n){return new c.vHH(3504,vn)}();f.forEach((I,x)=>{Object.keys(I).forEach(V=>{I[V]=this._driver.computeStyle(x,V,_d)})});const w=af(d.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,{},x)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function cL(n){return new c.vHH(3301,vn)}();return t}listen(e,t,r,i){const a=qA(t,"","","");return zA(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const QO="ng-animate-queued",cS="ng-animate-disabled",lV=[],JO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Va="__ng_removed";class uS{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function fV(n){return null!=n?n:null}(r?e.value:e),r){const a=z_(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const d0="void",dS=new uS(d0);class uV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ba(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function uL(n,e){return new c.vHH(3302,vn)}();if(null==r||0==r.length)throw function dL(n){return new c.vHH(3303,vn)}();if(!function pV(n){return"start"==n||"done"==n}(r))throw function hL(n,e){return new c.vHH(3400,vn)}();const a=ta(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const f=ta(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ba(e,ED),Ba(e,ED+"-"+t),f[t]=dS),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function fL(n){return new c.vHH(3401,vn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new hS(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ba(e,ED),Ba(e,ED+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new uS(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=dS),w.value!==d0&&_.value===w.value){if(!function _V(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const me=[],Ue=a.matchStyles(_.value,_.params,me),pt=a.matchStyles(w.value,w.params,me);me.length?this._engine.reportError(me):this._engine.afterFlush(()=>{sm(e,Ue),qc(e,pt)})}return}const V=ta(this._engine.playersByElement,e,[]);V.forEach(me=>{me.namespaceId==this.id&&me.triggerName==t&&me.queued&&me.destroy()});let Y=a.matchTransition(_.value,w.value,e,w.params),J=!1;if(!Y){if(!i)return;Y=a.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Y,fromState:_,toState:w,player:d,isFallbackTransition:J}),J||(Ba(e,QO),d.onStart(()=>{W_(e,QO)})),d.onDone(()=>{let me=this.players.indexOf(d);me>=0&&this.players.splice(me,1);const Ue=this._engine.playersByElement.get(e);if(Ue){let pt=Ue.indexOf(d);pt>=0&&Ue.splice(pt,1)}}),this.players.push(d),V.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,wD,!0);r.forEach(i=>{if(i[Va])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(d.set(_,a[_].value),this._triggers[_]){const w=this.trigger(e,_,d0,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&af(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,w=r[d]||dS,I=new uS(d0),x=new hS(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:w,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Va];(!a||a===JO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=qA(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,zA(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class dV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new uV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(ND(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ND(t))return;const a=t[Va];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ba(e,cS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),W_(e,cS))}removeNode(e,t,r,i){if(ND(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Va]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return ND(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,wD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return af(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Va];if(r&&r.setForRemoval){if(e[Va]=JO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(cS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ba(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?af(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function pL(n){return new c.vHH(3402,vn)}()}_flushAnimations(e,t){const r=new RD,i=[],a=new Map,d=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(mt=>{I.add(mt);const Rt=this.driver.query(mt,".ng-animate-queued",!0);for(let Ut=0;Ut<Rt.length;Ut++)I.add(Rt[Ut])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),Y=tR(V,this.collectedEnterElements),J=new Map;let me=0;Y.forEach((mt,Rt)=>{const Ut=QA+me++;J.set(Rt,Ut),mt.forEach(Sn=>Ba(Sn,Ut))});const Ue=[],pt=new Set,gt=new Set;for(let mt=0;mt<this.collectedLeaveElements.length;mt++){const Rt=this.collectedLeaveElements[mt],Ut=Rt[Va];Ut&&Ut.setForRemoval&&(Ue.push(Rt),pt.add(Rt),Ut.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(Sn=>pt.add(Sn)):gt.add(Rt))}const dt=new Map,ut=tR(V,Array.from(pt));ut.forEach((mt,Rt)=>{const Ut=bD+me++;dt.set(Rt,Ut),mt.forEach(Sn=>Ba(Sn,Ut))}),e.push(()=>{Y.forEach((mt,Rt)=>{const Ut=J.get(Rt);mt.forEach(Sn=>W_(Sn,Ut))}),ut.forEach((mt,Rt)=>{const Ut=dt.get(Rt);mt.forEach(Sn=>W_(Sn,Ut))}),Ue.forEach(mt=>{this.processLeaveNode(mt)})});const Kt=[],sn=[];for(let mt=this._namespaceList.length-1;mt>=0;mt--)this._namespaceList[mt].drainQueuedTransitions(t).forEach(Ut=>{const Sn=Ut.player,Fi=Ut.element;if(Kt.push(Sn),this.collectedEnterElements.length){const js=Fi[Va];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(Ut.triggerName)){const mm=js.previousTriggersValues.get(Ut.triggerName),pf=this.statesByElement.get(Ut.element);pf&&pf[Ut.triggerName]&&(pf[Ut.triggerName].value=mm)}return void Sn.destroy()}}const Qc=!x||!this.driver.containsElement(x,Fi),ia=dt.get(Fi),ff=J.get(Fi),Or=this._buildInstruction(Ut,r,ff,ia,Qc);if(Or.errors&&Or.errors.length)return void sn.push(Or);if(Qc)return Sn.onStart(()=>sm(Fi,Or.fromStyles)),Sn.onDestroy(()=>qc(Fi,Or.toStyles)),void i.push(Sn);if(Ut.isFallbackTransition)return Sn.onStart(()=>sm(Fi,Or.fromStyles)),Sn.onDestroy(()=>qc(Fi,Or.toStyles)),void i.push(Sn);const gP=[];Or.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||gP.push(js)}),Or.timelines=gP,r.append(Fi,Or.timelines),d.push({instruction:Or,player:Sn,element:Fi}),Or.queriedElements.forEach(js=>ta(f,js,[]).push(Sn)),Or.preStyleProps.forEach((js,mm)=>{const pf=Object.keys(js);if(pf.length){let gm=_.get(mm);gm||_.set(mm,gm=new Set),pf.forEach(qS=>gm.add(qS))}}),Or.postStyleProps.forEach((js,mm)=>{const pf=Object.keys(js);let gm=w.get(mm);gm||w.set(mm,gm=new Set),pf.forEach(qS=>gm.add(qS))})});if(sn.length){const mt=[];sn.forEach(Rt=>{mt.push(function mL(n,e){return new c.vHH(3505,vn)}())}),Kt.forEach(Rt=>Rt.destroy()),this.reportError(mt)}const xn=new Map,Xi=new Map;d.forEach(mt=>{const Rt=mt.element;r.has(Rt)&&(Xi.set(Rt,Rt),this._beforeAnimationBuild(mt.player.namespaceId,mt.instruction,xn))}),i.forEach(mt=>{const Rt=mt.element;this._getPreviousPlayers(Rt,!1,mt.namespaceId,mt.triggerName,null).forEach(Sn=>{ta(xn,Rt,[]).push(Sn),Sn.destroy()})});const vd=Ue.filter(mt=>rR(mt,_,w)),bd=new Map;eR(bd,this.driver,gt,w,_d).forEach(mt=>{rR(mt,_,w)&&vd.push(mt)});const C0=new Map;Y.forEach((mt,Rt)=>{eR(C0,this.driver,new Set(mt),_,"!")}),vd.forEach(mt=>{const Rt=bd.get(mt),Ut=C0.get(mt);bd.set(mt,Object.assign(Object.assign({},Rt),Ut))});const pm=[],pP=[],mP={};d.forEach(mt=>{const{element:Rt,player:Ut,instruction:Sn}=mt;if(r.has(Rt)){if(I.has(Rt))return Ut.onDestroy(()=>qc(Rt,Sn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(Sn.totalTime),void i.push(Ut);let Fi=mP;if(Xi.size>1){let ia=Rt;const ff=[];for(;ia=ia.parentNode;){const Or=Xi.get(ia);if(Or){Fi=Or;break}ff.push(ia)}ff.forEach(Or=>Xi.set(Or,Fi))}const Qc=this._buildAnimation(Ut.namespaceId,Sn,xn,a,C0,bd);if(Ut.setRealPlayer(Qc),Fi===mP)pm.push(Ut);else{const ia=this.playersByElement.get(Fi);ia&&ia.length&&(Ut.parentPlayer=af(ia)),i.push(Ut)}}else sm(Rt,Sn.fromStyles),Ut.onDestroy(()=>qc(Rt,Sn.toStyles)),pP.push(Ut),I.has(Rt)&&i.push(Ut)}),pP.forEach(mt=>{const Rt=a.get(mt.element);if(Rt&&Rt.length){const Ut=af(Rt);mt.setRealPlayer(Ut)}}),i.forEach(mt=>{mt.parentPlayer?mt.syncPlayerEvents(mt.parentPlayer):mt.destroy()});for(let mt=0;mt<Ue.length;mt++){const Rt=Ue[mt],Ut=Rt[Va];if(W_(Rt,bD),Ut&&Ut.hasAnimation)continue;let Sn=[];if(f.size){let Qc=f.get(Rt);Qc&&Qc.length&&Sn.push(...Qc);let ia=this.driver.query(Rt,JA,!0);for(let ff=0;ff<ia.length;ff++){let Or=f.get(ia[ff]);Or&&Or.length&&Sn.push(...Or)}}const Fi=Sn.filter(Qc=>!Qc.destroyed);Fi.length?mV(this,Rt,Fi):this.processLeaveNode(Rt)}return Ue.length=0,pm.forEach(mt=>{this.players.push(mt),mt.onDone(()=>{mt.destroy();const Rt=this.players.indexOf(mt);this.players.splice(Rt,1)}),mt.play()}),pm}elementContainsData(e,t){let r=!1;const i=t[Va];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==d0;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,x=ta(r,w,[]);this._getPreviousPlayers(w,I,d,f,t.toState).forEach(Y=>{const J=Y.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),Y.destroy(),x.push(Y)})}sm(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const f=t.triggerName,_=t.element,w=[],I=new Set,x=new Set,V=t.timelines.map(J=>{const me=J.element;I.add(me);const Ue=me[Va];if(Ue&&Ue.removedBeforeQueried)return new c0(J.duration,J.delay);const pt=me!==_,gt=function gV(n){const e=[];return nR(n,e),e}((r.get(me)||lV).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===me),dt=a.get(me),ut=d.get(me),Kt=SO(0,this._normalizer,0,J.keyframes,dt,ut),sn=this._buildPlayer(J,Kt,gt);if(J.subTimeline&&i&&x.add(me),pt){const xn=new hS(e,f,me);xn.setRealPlayer(sn),w.push(xn)}return sn});w.forEach(J=>{ta(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function hV(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,J.element,J))}),I.forEach(J=>Ba(J,VO));const Y=af(V);return Y.onDestroy(()=>{I.forEach(J=>W_(J,VO)),qc(_,t.toStyles)}),x.forEach(J=>{ta(i,J,[]).push(Y)}),Y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new c0(e.duration,e.delay)}}class hS{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new c0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>zA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ta(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ND(n){return n&&1===n.nodeType}function XO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function eR(n,e,t,r,i){const a=[];t.forEach(_=>a.push(XO(_)));const d=[];r.forEach((_,w)=>{const I={};_.forEach(x=>{const V=I[x]=e.computeStyle(w,x,i);(!V||0==V.length)&&(w[Va]=cV,d.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>XO(_,a[f++])),d}function tR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:d(w),a.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Ba(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function W_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function mV(n,e,t){af(t).onDone(()=>n.processLeaveNode(e))}function nR(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof IO?nR(r.players,e):e.push(r)}}function rR(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class FD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new dV(e,t,r),this._timelineEngine=new rV(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const _=[],I=nS(this._driver,a,_,[]);if(_.length)throw function iL(n,e){return new c.vHH(3404,vn)}();f=function XL(n,e,t){return new eV(n,e,t)}(i,I,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=MO(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,f]=MO(r);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qc(this._element,this._initialStyles),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(sm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sm(this._element,this._endStyles),this._endStyles=null),qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fS(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];bV(i)&&(e=e||{},e[i]=n[i])}return e}function bV(n){return"display"===n||"position"===n}class iR{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:$O(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class EV{validateStyleProperty(e){return kO(e)}matchesElement(e,t){return!1}containsElement(e,t){return PO(e,t)}getParentElement(e){return ZA(e)}query(e,t,r){return NO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w={},I=d.filter(V=>V instanceof iR);(function TL(n,e){return 0===n||0===e})(r,i)&&I.forEach(V=>{let Y=V.currentSnapshot;Object.keys(Y).forEach(J=>w[J]=Y[J])}),t=function IL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],d=[];if(r.forEach(f=>{a.hasOwnProperty(f)||d.push(f),a[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(_){f[_]=$O(n,_)})}}return e}(e,t=t.map(V=>lf(V,!1)),w);const x=function yV(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=fS(e[0]),e.length>1&&(r=fS(e[e.length-1]))):e&&(t=fS(e)),t||r?new vV(n,t,r):null}(e,t);return new iR(e,t,_,x)}}let wV=(()=>{class n extends CO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?DO(t):t;return sR(this._renderer,null,r,"register",[i]),new CV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class CV extends class PF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new DV(this._id,e,t||{},this._renderer)}}class DV{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function sR(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const oR="@.disabled";let TV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const f=null==d?void 0:d.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new aR("",a,this.engine),this._rendererCache.set(a,I)),I}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(d,f,t,I.name,I)};return r.data.animation.forEach(_),new IV(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(FD),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class aR{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==oR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IV extends aR{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oR?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function AV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function SV(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let MV=(()=>{class n extends FD{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(YA),c.LFG(aS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ua=new c.OlP("AnimationModuleType"),lR=[{provide:CO,useClass:wV},{provide:aS,useFactory:function xV(){return new KL}},{provide:FD,useClass:MV},{provide:c.FYo,useFactory:function OV(n,e,t){return new TV(n,e,t)},deps:[Fn,FD,c.R0b]}],cR=[{provide:YA,useFactory:()=>new EV},{provide:Ua,useValue:"BrowserAnimations"},...lR],RV=[{provide:YA,useClass:FO},{provide:Ua,useValue:"NoopAnimations"},...lR];let kV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?RV:cR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:cR,imports:[ua]}),n})();function PV(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function NV(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const FV=["*"],VV=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function LV(){return!0}});let ra=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wO),c.LFG(VV,8),c.LFG(W))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[s0],s0]}),n})();function pS(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ni(e)}}}function dR(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function mS(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ni(e)}}}function hR(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?gD(t):this.defaultTabIndex}}}function fR(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new An.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let gS=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UV{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pR={enterDuration:225,exitDuration:150},_S=a0({passive:!0}),mR=["mousedown","touchstart"],gR=["mouseup","mouseleave","touchend","touchcancel"];class _R{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=gd(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},pR),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function $V(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-d+"px",I.style.top=_-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function HV(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const x=new UV(this,I,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const V=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!V||!this._isPointerDown)&&x.fadeOut()},w),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},pR),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(mR))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(gR),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=_O(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!yO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_S)})})}_removeTriggerEvents(){this._triggerElement&&(mR.forEach(e=>{this._triggerElement.removeEventListener(e,this,_S)}),this._pointerUpEventsRegistered&&gR.forEach(e=>{this._triggerElement.removeEventListener(e,this,_S)}))}}const yS=new c.OlP("mat-ripple-global-options");let VD=(()=>{class n{constructor(t,r,i,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new _R(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(_s),c.Y36(yS,8),c.Y36(Ua,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),vS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ra],ra]}),n})(),GV=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ua,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),zV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ra]]}),n})();const yR=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),vR=new c.OlP("MatOptgroup");let WV=0;class qV{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let KV=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+WV++,this.onSelectionChange=new c.vpe,this._stateChanges=new An.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Ni(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!H_(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new qV(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),bS=(()=>{class n extends KV{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(yR,8),c.Y36(vR,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(c.Ikx("id",r.id),c.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),c.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:FV,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,PV,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,NV,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",r.multiple),c.xp6(3),c.Q6J("ngIf",r.group&&r.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[GV,fe,VD],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function bR(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let d=0;d<n+1;d++)r[d].group&&r[d].group===i[a]&&a++;return a}return 0}let ER=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vS,Hi,ra,zV]]}),n})();const YV=["mat-button",""],QV=["*"],XV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],eB=dR(pS(mS(class{constructor(n){this._elementRef=n}})));let yd=(()=>{class n extends eB{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of XV)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(jA),c.Y36(Ua,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&c.Gf(VD,5),2&t){let i;c.iGM(i=c.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:YV,ngContentSelectors:QV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[VD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vS,ra],ra]}),n})(),nB=(()=>{class n{constructor(t){this.authService=t}onLogout(){this.authService.onLogout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:6,vars:0,consts:[["backgroundColor","primary",1,"header__logo-container"],[1,"header__logo-text"],["src","../../../assets/ice-cream.png","alt","logo",1,"header__logo-img"],["mat-button","","color","accent",1,"header__logout-btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"IceCreamShop"),c.qZA(),c._UZ(3,"img",2),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return r.onLogout()}),c._uU(5,"Wyloguj"),c.qZA())},directives:[yd],styles:[".header__logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:90px;background-color:#7b1fa2;color:#ff44c6}.header__logo-text[_ngcontent-%COMP%]{font-family:Oleo Script Swash Caps,cursive;font-size:45px;margin-top:16px}.header__logo-img[_ngcontent-%COMP%]{height:80px}.header__logout-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}@media (max-width: 768px){.header__logo-text[_ngcontent-%COMP%]{font-size:30px}.header__logo-img[_ngcontent-%COMP%]{height:50px}}@media (max-width: 375px){.header__logo-text[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),n})();class ES{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class rB extends ES{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class wR extends ES{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class iB extends ES{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class oB extends class sB{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof rB?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof wR?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof iB?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let CR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var aB=A(1144);const lB=["addListener","removeListener"],cB=["addEventListener","removeEventListener"],uB=["on","off"];function am(n,e,t,r){if((0,Xo.m)(t)&&(r=t,t=void 0),r)return am(n,e,t).pipe(hA(r));const[i,a]=function fB(n){return(0,Xo.m)(n.addEventListener)&&(0,Xo.m)(n.removeEventListener)}(n)?cB.map(d=>f=>n[d](e,f,t)):function dB(n){return(0,Xo.m)(n.addListener)&&(0,Xo.m)(n.removeListener)}(n)?lB.map(DR(n,e)):function hB(n){return(0,Xo.m)(n.on)&&(0,Xo.m)(n.off)}(n)?uB.map(DR(n,e)):[];if(!i&&(0,aB.z)(n))return(0,Vs.z)(d=>am(d,e,t))((0,JC.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new ii.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function DR(n,e){return t=>r=>n[t](e,r)}var pB=A(3532),mB=A(1165);function TR(n=0,e,t=ro.P){let r=-1;return null!=e&&((0,pB.K)(e)?t=e:r=e),new ii.y(i=>{let a=(0,mB.q)(n)?+n-t.now():n;a<0&&(a=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},a)})}var IR=A(4408);const f0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=f0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new $c.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=f0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=f0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var AR=A(7565);new class _B extends AR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class gB extends IR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=f0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(f0.cancelAnimationFrame(t),e._scheduled=void 0)}});let wS,vB=1;const BD={};function SR(n){return n in BD&&(delete BD[n],!0)}const bB={setImmediate(n){const e=vB++;return BD[e]=!0,wS||(wS=Promise.resolve()),wS.then(()=>SR(e)&&n()),e},clearImmediate(n){SR(n)}},{setImmediate:EB,clearImmediate:wB}=bB,UD={setImmediate(...n){const{delegate:e}=UD;return((null==e?void 0:e.setImmediate)||EB)(...n)},clearImmediate(n){const{delegate:e}=UD;return((null==e?void 0:e.clearImmediate)||wB)(n)},delegate:void 0};new class DB extends AR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class CB extends IR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=UD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(UD.clearImmediate(t),e._scheduled=void 0)}});function MR(n,e=ro.z){return function IB(n){return(0,Mi.e)((e,t)=>{let r=!1,i=null,a=null,d=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const w=i;i=null,t.next(w)}d&&t.complete()},_=()=>{a=null,d&&t.complete()};e.subscribe((0,Lr.x)(t,w=>{r=!0,i=w,a||(0,JC.Xf)(n(w)).subscribe(a=(0,Lr.x)(t,f,_))},()=>{d=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>TR(n,e))}let SB=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new An.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ii.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(MR(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Dt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,fr.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=gd(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>am(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(_s),c.LFG(W,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q_=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new An.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(MR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.R0b),c.LFG(W,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[s0,CS],s0,CS]}),n})();const OR=["*"],xB=["tabListContainer"],OB=["tabList"],RB=["tabListInner"],kB=["nextPaginator"],PB=["previousPaginator"],VB=["mat-tab-nav-bar",""],BB=new c.OlP("MatInkBarPositioner",{providedIn:"root",factory:function UB(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let RR=(()=>{class n{constructor(t,r,i,a){this._elementRef=t,this._ngZone=r,this._inkBarPositioner=i,this._animationMode=a}alignToElement(t){this.show(),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(()=>{const r=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=r.left,i.style.width=r.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(BB),c.Y36(Ua,8))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const kR=a0({passive:!0});let $B=(()=>{class n{constructor(t,r,i,a,d,f,_){this._elementRef=t,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=a,this._ngZone=d,this._platform=f,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new An.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new An.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new c.vpe,this.indexFocused=new c.vpe,d.runOutsideAngular(()=>{am(t.nativeElement,"mouseleave").pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=gD(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){am(this._previousPaginator.nativeElement,"touchstart",kR).pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),am(this._nextPaginator.nativeElement,"touchstart",kR).pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,Dt.of)("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new vF(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(i),(0,kl.T)(t,r,this._items.changes).pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,fi.R)(this._destroyed)).subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!H_(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const r=this._items?this._items.toArray()[t]:null;return!!r&&!r.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const r=this._items?this._items.toArray()[t]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:d}=r.elementRef.nativeElement;let f,_;"ltr"==this._getLayoutDirection()?(f=a,_=f+d):(_=this._tabListInner.nativeElement.offsetWidth-a,f=_-d);const w=this.scrollDistance,I=this.scrollDistance+i;f<w?this.scrollDistance-=w-f+60:_>I&&(this.scrollDistance+=_-I+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),TR(650,100).pipe((0,fi.R)((0,kl.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:a}=this._scrollHeader(t);(0===a||a>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(q_),c.Y36(Jp,8),c.Y36(c.R0b),c.Y36(_s),c.Y36(Ua,8))},n.\u0275dir=c.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),NR=0,FR=(()=>{class n extends $B{constructor(t,r,i,a,d,f,_){super(t,a,d,r,i,f,_),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const r=this._elementRef.nativeElement.classList;r.remove(`mat-background-${this.backgroundColor}`),t&&r.add(`mat-background-${t}`),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ni(t)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(ss(null),(0,fi.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const t=this._items.toArray();for(let r=0;r<t.length;r++)if(t[r].active)return this.selectedIndex=r,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=t[r].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Jp,8),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(q_),c.Y36(_s),c.Y36(Ua,8))},n.\u0275dir=c.lG2({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[c.qOj]}),n})(),LR=(()=>{class n extends FR{constructor(t,r,i,a,d,f,_){super(t,r,i,a,d,f,_)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Jp,8),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(q_),c.Y36(_s),c.Y36(Ua,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,VR,5),2&t){let a;c.iGM(a=c.CRH())&&(r._items=a)}},viewQuery:function(t,r){if(1&t&&(c.Gf(RR,7),c.Gf(xB,7),c.Gf(OB,7),c.Gf(RB,7),c.Gf(kB,5),c.Gf(PB,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._inkBar=i.first),c.iGM(i=c.CRH())&&(r._tabListContainer=i.first),c.iGM(i=c.CRH())&&(r._tabList=i.first),c.iGM(i=c.CRH())&&(r._tabListInner=i.first),c.iGM(i=c.CRH())&&(r._nextPaginator=i.first),c.iGM(i=c.CRH())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(t,r){2&t&&(c.uIk("role",r._getRole()),c.ekj("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())("mat-primary","warn"!==r.color&&"accent"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[c.qOj],attrs:VB,ngContentSelectors:OR,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"button",0,1),c.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(a){return r._handlePaginatorPress("before",a)})("touchend",function(){return r._stopInterval()}),c._UZ(2,"div",2),c.qZA(),c.TgZ(3,"div",3,4),c.NdJ("keydown",function(a){return r._handleKeydown(a)}),c.TgZ(5,"div",5,6),c.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),c.TgZ(7,"div",7,8),c.Hsn(9),c.qZA(),c._UZ(10,"mat-ink-bar"),c.qZA()(),c.TgZ(11,"button",9,10),c.NdJ("mousedown",function(a){return r._handlePaginatorPress("after",a)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),c._UZ(13,"div",2),c.qZA()),2&t&&(c.ekj("mat-tab-header-pagination-disabled",r._disableScrollBefore),c.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),c.xp6(5),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),c.xp6(6),c.ekj("mat-tab-header-pagination-disabled",r._disableScrollAfter),c.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},directives:[VD,hO,RR],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n"],encapsulation:2}),n})();const GB=hR(mS(pS(class{})));let zB=(()=>{class n extends GB{constructor(t,r,i,a,d,f){super(),this._tabNavBar=t,this.elementRef=r,this._focusMonitor=d,this._isActive=!1,this.id="mat-tab-link-"+NR++,this.rippleConfig=i||{},this.tabIndex=parseInt(a)||0,"NoopAnimations"===f&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(t){const r=Ni(t);r!==this._isActive&&(this._isActive=r,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(t){this._tabNavBar.tabPanel&&32===t.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){var t;return this._tabNavBar.tabPanel?null===(t=this._tabNavBar.tabPanel)||void 0===t?void 0:t.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive?0:-1:this.tabIndex}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(FR),c.Y36(c.SBq),c.Y36(yS,8),c.$8M("tabindex"),c.Y36(jA),c.Y36(Ua,8))},n.\u0275dir=c.lG2({type:n,inputs:{active:"active",id:"id"},features:[c.qOj]}),n})(),VR=(()=>{class n extends zB{constructor(t,r,i,a,d,f,_,w){super(t,r,d,f,_,w),this._tabLinkRipple=new _R(this,i,r,a),this._tabLinkRipple.setupTriggerEvents(r.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(LR),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(_s),c.Y36(yS,8),c.$8M("tabindex"),c.Y36(jA),c.Y36(Ua,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._handleFocus()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(c.uIk("aria-controls",r._getAriaControls())("aria-current",r._getAriaCurrent())("aria-disabled",r.disabled)("aria-selected",r._getAriaSelected())("id",r.id)("tabIndex",r._getTabIndex())("role",r._getRole()),c.ekj("mat-tab-disabled",r.disabled)("mat-tab-label-active",r.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[c.qOj]}),n})(),WB=(()=>{class n{constructor(){this.id="mat-tab-nav-panel-"+NR++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-tab-nav-panel"],hostVars:2,hostBindings:function(t,r){2&t&&c.uIk("aria-labelledby",r._activeTabId)("id",r.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:OR,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hi,ra,CR,vS,UA,kF],ra]}),n})();function KB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(3).activeLinkIceman=a}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=c.oxw(3);c.Q6J("active",i.activeLinkIceman==t)("routerLink",i.icemanRoutes[r]),c.xp6(1),c.hij("",t," ")}}function ZB(n,e){if(1&n&&(c.TgZ(0,"nav",3),c.YNc(1,KB,2,3,"a",4),c.qZA()),2&n){c.oxw();const t=c.MAs(4),r=c.oxw();c.Q6J("tabPanel",t),c.xp6(1),c.Q6J("ngForOf",r.icemanLinks)}}function YB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(3).activeLinkClient=a}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=c.oxw(3);c.Q6J("active",i.activeLinkClient==t)("routerLink",i.clientRoutes[r]),c.xp6(1),c.hij("",t," ")}}function QB(n,e){if(1&n&&(c.TgZ(0,"nav",3),c.YNc(1,YB,2,3,"a",4),c.qZA()),2&n){c.oxw();const t=c.MAs(4),r=c.oxw();c.Q6J("tabPanel",t),c.xp6(1),c.Q6J("ngForOf",r.clientLinks)}}function JB(n,e){if(1&n&&(c.ynx(0),c.YNc(1,ZB,2,2,"nav",1),c.YNc(2,QB,2,2,"nav",1),c._UZ(3,"mat-tab-nav-panel",null,2),c.BQk()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf","client"===t)}}let XB=(()=>{class n{constructor(t){this.store=t,this.role$=this.store.select(r=>r.user.role),this.icemanRoutes=["orders/","flavors/","amounts/","clients/"],this.icemanLinks=["Zam\xf3wienia","Smaki","Jednostki","Klienci"],this.activeLinkIceman=this.icemanLinks[0],this.clientRoutes=["orders/","flavors/","amounts/","clients/"],this.clientLinks=["Zam\xf3wienia"," Ulubione smaki"],this.activeLinkClient=this.clientLinks[0],this.background="accent"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn.yh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navigation"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-tab-nav-bar","","mat-stretch-tabs","","backgroundColor","accent",3,"tabPanel",4,"ngIf"],["tabPanel",""],["mat-tab-nav-bar","","mat-stretch-tabs","","backgroundColor","accent",3,"tabPanel"],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","click"]],template:function(t,r){1&t&&(c.YNc(0,JB,5,2,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,LR,Nn,fD,VR,WB],pipes:[ji],styles:[".nav__container[_ngcontent-%COMP%]{height:50px;background-color:#69f0ae}"],changeDetection:0}),n})();function e2(n,e){1&n&&(c.TgZ(0,"div"),c._UZ(1,"app-header")(2,"app-navigation"),c.qZA())}let t2=(()=>{class n{constructor(t){this.store=t,this.authenticated$=this.store.select(r=>r.auth.isAuthenticated)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn.yh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-shell"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.YNc(0,e2,3,0,"div",0),c.ALo(1,"async"),c.TgZ(2,"main"),c._UZ(3,"router-outlet"),c.qZA()),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.authenticated$))},directives:[fe,nB,XB,AA],pipes:[ji],styles:["[_nghost-%COMP%]{width:100vw}main[_ngcontent-%COMP%]{padding:30px;display:flex;justify-content:center}"],changeDetection:0}),n})(),n2=(()=>{class n{constructor(t){this.store=t,this.auth$=this.store.select(r=>r.auth.isAuthenticated)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn.yh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-shell")},directives:[t2],styles:[""],changeDetection:0}),n})();const DS_firebase={apiKey:"AIzaSyDnMnWw0gFGDOjJ_Ck2gB89uMig_jhWKVg",authDomain:"icecreamshop-9d27b.firebaseapp.com",databaseURL:"https://icecreamshop-9d27b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"icecreamshop-9d27b",storageBucket:"icecreamshop-9d27b.appspot.com",messagingSenderId:"859952426284",appId:"1:859952426284:web:9cae43c0595bfc20b55089"};let BR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),lm=(()=>{class n extends BR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Kc=new c.OlP("NgValueAccessor"),o2={provide:Kc,useExisting:(0,c.Gpc)(()=>cf),multi:!0},l2=new c.OlP("CompositionEventMode");let cf=(()=>{class n extends BR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a2(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(l2,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([o2]),c.qOj]}),n})();function uf(n){return null==n||0===n.length}function jR(n){return null!=n&&"number"==typeof n.length}const ys=new c.OlP("NgValidators"),df=new c.OlP("NgAsyncValidators"),c2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class HR{static min(e){return function $R(n){return e=>{if(uf(e.value)||uf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function GR(n){return e=>{if(uf(e.value)||uf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return zR(e)}static requiredTrue(e){return function WR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function qR(n){return uf(n.value)||c2.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function KR(n){return e=>uf(e.value)||!jR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ZR(n){return e=>jR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function YR(n){if(!n)return jD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(uf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return nk(e)}static composeAsync(e){return rk(e)}}function zR(n){return uf(n.value)?{required:!0}:null}function jD(n){return null}function QR(n){return null!=n}function JR(n){const e=(0,c.QGY)(n)?(0,kt.D)(n):n;return(0,c.CqO)(e),e}function XR(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ek(n,e){return e.map(t=>t(n))}function tk(n){return n.map(e=>function u2(n){return!n.validate}(e)?e:t=>e.validate(t))}function nk(n){if(!n)return null;const e=n.filter(QR);return 0==e.length?null:function(t){return XR(ek(t,e))}}function TS(n){return null!=n?nk(tk(n)):null}function rk(n){if(!n)return null;const e=n.filter(QR);return 0==e.length?null:function(t){return function r2(...n){const e=(0,Jl.jO)(n),{args:t,keys:r}=JM(n),i=new ii.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let _=d,w=d;for(let I=0;I<d;I++){let x=!1;(0,JC.Xf)(t[I]).subscribe((0,Lr.x)(a,V=>{x||(x=!0,w--),f[I]=V},()=>_--,void 0,()=>{(!_||!x)&&(w||a.next(r?XM(r,f):f),a.complete())}))}});return e?i.pipe(hA(e)):i}(ek(t,e).map(JR)).pipe((0,wt.U)(XR))}}function IS(n){return null!=n?rk(tk(n)):null}function ik(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sk(n){return n._rawValidators}function ok(n){return n._rawAsyncValidators}function AS(n){return n?Array.isArray(n)?n:[n]:[]}function HD(n,e){return Array.isArray(n)?n.includes(e):n===e}function ak(n,e){const t=AS(e);return AS(n).forEach(i=>{HD(t,i)||t.push(i)}),t}function lk(n,e){return AS(e).filter(t=>!HD(n,t))}class ck{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zc extends ck{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Us extends ck{get formDirective(){return null}get path(){return null}}class uk{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let K_=(()=>{class n extends uk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),Z_=(()=>{class n extends uk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Us,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function p0(n,e){xS(n,e),e.valueAccessor.writeValue(n.value),function y2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hk(n,e)})}(n,e),function b2(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function v2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _2(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function WD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xS(n,e){const t=sk(n);null!==e.validator?n.setValidators(ik(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ok(n);null!==e.asyncValidator?n.setAsyncValidators(ik(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();WD(e._rawValidators,i),WD(e._rawAsyncValidators,i)}function qD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=sk(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=ok(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return WD(e._rawValidators,r),WD(e._rawAsyncValidators,r),t}function hk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fk(n,e){xS(n,e)}function mk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const m0="VALID",KD="INVALID",Y_="PENDING",g0="DISABLED";function NS(n){return(ZD(n)?n.validators:n)||null}function gk(n){return Array.isArray(n)?TS(n):n||null}function FS(n,e){return(ZD(e)?e.asyncValidators:n)||null}function _k(n){return Array.isArray(n)?IS(n):n||null}function ZD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const yk=n=>n instanceof Eo,LS=n=>n instanceof BS;function vk(n){return yk(n)?n.value:n.getRawValue()}function bk(n,e){const t=LS(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function Ek(n,e){LS(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class VS{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=gk(this._rawValidators),this._composedAsyncValidatorFn=_k(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===m0}get invalid(){return this.status===KD}get pending(){return this.status==Y_}get disabled(){return this.status===g0}get enabled(){return this.status!==g0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=gk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_k(e)}addValidators(e){this.setValidators(ak(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ak(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lk(e,this._rawAsyncValidators))}hasValidator(e){return HD(this._rawValidators,e)}hasAsyncValidator(e){return HD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Y_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=g0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=m0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===m0||this.status===Y_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?g0:m0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Y_,this._hasOwnPendingAsyncValidator=!0;const t=JR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function D2(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=LS(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof I2)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?g0:this.errors?KD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Y_)?Y_:this._anyControlsHaveStatus(KD)?KD:m0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ZD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Eo extends VS{constructor(e=null,t,r){super(NS(t),FS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ZD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class BS extends VS{constructor(e,t,r){super(NS(t),FS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ek(this,e),Object.keys(e).forEach(r=>{bk(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=vk(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class I2 extends VS{constructor(e,t,r){super(NS(t),FS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ek(this,e),e.forEach((r,i)=>{bk(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>vk(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const A2={provide:Us,useExisting:(0,c.Gpc)(()=>Yc)},_0=(()=>Promise.resolve(null))();let Yc=(()=>{class n extends Us{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new BS({},TS(t),IS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),p0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){_0.then(()=>{const r=this._findContainer(t.path),i=new BS({});fk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){_0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,mk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10),c.Y36(df,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([A2]),c.qOj]}),n})(),Q_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const x2={provide:Kc,useExisting:(0,c.Gpc)(()=>YD),multi:!0};let YD=(()=>{class n extends lm{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([x2]),c.qOj]}),n})(),Ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const US=new c.OlP("NgModelWithFormControlWarning"),P2={provide:Zc,useExisting:(0,c.Gpc)(()=>cm)};let cm=(()=>{class n extends Zc{constructor(t,r,i,a){super(),this._ngModelWarningConfig=a,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function RS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===cf?t=a:function C2(n){return Object.getPrototypeOf(n.constructor)===lm}(a)?r=a:i=a}),i||r||t||null}(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&zD(r,this,!1),p0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function OS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10),c.Y36(df,10),c.Y36(Kc,10),c.Y36(US,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([P2]),c.qOj,c.TTD]}),n})();const N2={provide:Us,useExisting:(0,c.Gpc)(()=>y0)};let y0=(()=>{class n extends Us{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return p0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zD(t.control||null,t,!1),kS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,mk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zD(r||null,t),yk(i)&&(p0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);fk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function E2(n,e){return qD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xS(this.form,this),this._oldForm&&qD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10),c.Y36(df,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([N2]),c.qOj,c.TTD]}),n})(),um=(()=>{class n{constructor(){this._validator=jD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const K2={provide:ys,useExisting:(0,c.Gpc)(()=>hf),multi:!0};let hf=(()=>{class n extends um{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function z2(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>zR}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([K2]),c.qOj]}),n})(),Hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ik]]}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hk]}),n})(),tU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:US,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hk]}),n})();const nU=["connectionContainer"],rU=["inputContainer"],iU=["label"];function sU(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function oU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function aU(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function lU(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function cU(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function uU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,aU,4,1,"ng-container",12),c.YNc(3,lU,1,0,"ng-content",12),c.YNc(4,cU,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function dU(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function hU(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function fU(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function pU(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function mU(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,pU,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const gU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_U=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],yU=new c.OlP("MatError"),vU={transitionMessages:yD("transitionMessages",[tm("enter",ea({opacity:1,transform:"translateY(0%)"})),nm("void => enter",[ea({opacity:0,transform:"translateY(-5px)"}),G_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let QD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const bU=new c.OlP("MatHint");let dm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const wU=new c.OlP("MatPrefix"),CU=new c.OlP("MatSuffix");let $k=0;const TU=dR(class{constructor(n){this._elementRef=n}},"primary"),IU=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),zS=new c.OlP("MatFormField");let v0=(()=>{class n extends TU{constructor(t,r,i,a,d,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new An.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$k++,this._labelId="mat-form-field-label-"+$k++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ni(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ss(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,fi.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,kl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ss(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ss(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,fi.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,am(this._label.nativeElement,"transitionend").pipe((0,Pl.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=r.querySelectorAll(`${i}, ${a}`);for(let x=0;x<I.length;x++)I[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const _=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=r.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(I),V=t.children,Y=this._getStartEnd(V[0].getBoundingClientRect());let J=0;for(let me=0;me<V.length;me++)J+=V[me].offsetWidth;d=Math.abs(Y-x)-5,f=J>0?.75*J+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${d}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Jp,8),c.Y36(IU,8),c.Y36(_s),c.Y36(c.R0b),c.Y36(Ua,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,QD,5),c.Suo(i,QD,7),c.Suo(i,dm,5),c.Suo(i,dm,7),c.Suo(i,EU,5),c.Suo(i,yU,5),c.Suo(i,bU,5),c.Suo(i,wU,5),c.Suo(i,CU,5)),2&t){let a;c.iGM(a=c.CRH())&&(r._controlNonStatic=a.first),c.iGM(a=c.CRH())&&(r._controlStatic=a.first),c.iGM(a=c.CRH())&&(r._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(r._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(r._placeholderChild=a.first),c.iGM(a=c.CRH())&&(r._errorChildren=a),c.iGM(a=c.CRH())&&(r._hintChildren=a),c.iGM(a=c.CRH())&&(r._prefixChildren=a),c.iGM(a=c.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(c.Gf(nU,7),c.Gf(rU,5),c.Gf(iU,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._connectionContainerRef=i.first),c.iGM(i=c.CRH())&&(r._inputContainerRef=i.first),c.iGM(i=c.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:zS,useExisting:n}]),c.qOj],ngContentSelectors:_U,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(c.F$t(gU),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),c.YNc(3,sU,9,0,"ng-container",3),c.YNc(4,oU,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,uU,5,16,"label",8),c.qZA()(),c.YNc(10,dU,2,0,"div",9),c.qZA(),c.YNc(11,hU,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,fU,2,1,"div",12),c.YNc(14,mU,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==r.appearance),c.xp6(1),c.Q6J("ngIf",r._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",r._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",r._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=r.appearance),c.xp6(1),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[fe,hO,He,xt],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[vU.transitionMessages]},changeDetection:0}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hi,ra,UA],ra]}),n})();const zk=a0({passive:!0});let AU=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Wp.E;const r=gd(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new An.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,zk),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,zk)}}),a}stopMonitoring(t){const r=gd(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const SU=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),MU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xU=0;const OU=fR(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let E0=(()=>{class n extends OU{constructor(t,r,i,a,d,f,_,w,I,x){super(f,a,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=x,this._uid="mat-input-"+xU++,this.focused=!1,this.stateChanges=new An.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(J=>sO().has(J)),this._iOSKeyupListener=J=>{const me=J.target;!me.value&&0===me.selectionStart&&0===me.selectionEnd&&(me.setSelectionRange(1,1),me.setSelectionRange(0,0))};const V=this._elementRef.nativeElement,Y=V.nodeName.toLowerCase();this._inputValueAccessor=_||V,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Y,this._isTextarea="textarea"===Y,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ni(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(HR.required))&&void 0!==a&&a}set required(t){this._required=Ni(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&sO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ni(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){MU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(_s),c.Y36(Zc,10),c.Y36(Yc,8),c.Y36(y0,8),c.Y36(gS),c.Y36(SU,10),c.Y36(AU),c.Y36(c.R0b),c.Y36(zS,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(c.Ikx("disabled",r.disabled)("required",r.required),c.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),c.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:QD,useExisting:n}]),c.qOj,c.TTD]}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gS],imports:[[Wk,b0,ra],Wk,b0]}),n})(),RU=(()=>{class n{constructor(t){this.authService=t,this.emailControl=new Eo(""),this.passwordControl=new Eo("")}onSubmit(){this.authService.onLogin(this.emailControl.value,this.passwordControl.value)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"login__container"],[1,"login__logo-container"],[1,"login__logo-text"],["src","../../../assets/ice-cream.png","alt","logo",1,"login__logo-img"],[1,"login-form"],[1,"login-form__name"],["appearance","fill","color","primary"],["type","email","matInput","","required","",1,"login-form__input",3,"formControl"],["appearance","fill",1,"invert"],["type","password","matInput","","required","",1,"login-form__input",3,"formControl"],["mat-raised-button","","color","primary",1,"login-form__btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"p",2),c._uU(4,"IceCreamShop"),c.qZA(),c._UZ(5,"img",3),c.qZA(),c.TgZ(6,"form",4)(7,"p",5),c._uU(8,"Logowanie"),c.qZA(),c.TgZ(9,"mat-form-field",6)(10,"mat-label"),c._uU(11,"Email"),c.qZA(),c._UZ(12,"input",7),c.qZA(),c.TgZ(13,"mat-form-field",8)(14,"mat-label"),c._uU(15,"Has\u0142o"),c.qZA(),c._UZ(16,"input",9),c.qZA(),c.TgZ(17,"button",10),c.NdJ("click",function(){return r.onSubmit()}),c._uU(18,"Zaloguj"),c.qZA()()()()),2&t&&(c.xp6(12),c.Q6J("formControl",r.emailControl),c.xp6(4),c.Q6J("formControl",r.passwordControl))},directives:[Q_,Z_,Yc,v0,dm,E0,cf,hf,K_,cm,yd],styles:[".login__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-bottom:50px;width:100%;height:100vh;overflow:auto}.login__logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90px;color:#ff44c6;padding-bottom:40px}.login__logo-img[_ngcontent-%COMP%]{width:100px}.login__logo-text[_ngcontent-%COMP%]{font-family:Oleo Script Swash Caps,cursive;font-size:45px;margin-top:16px;padding-left:30px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#69f0ae;padding:20px;border-radius:8px}.login-form__input-container[_ngcontent-%COMP%]{background-color:#7b1fa2;color:#000}.login-form__name[_ngcontent-%COMP%]{color:#7b1fa2;font-size:22px;padding-bottom:10px}.login-form__btn[_ngcontent-%COMP%]{width:201px}@media (max-width: 768px){.login-form[_ngcontent-%COMP%]{width:90vw}.login-form__input[_ngcontent-%COMP%]{width:320px}}@media (max-width: 375px){.login__logo[_ngcontent-%COMP%]{width:600px}.login__logo-text[_ngcontent-%COMP%]{font-size:25px}.login__logo-img[_ngcontent-%COMP%]{width:30px}}"],changeDetection:0}),n})(),JD=(()=>{class n{constructor(t,r){this.router=t,this.store=r}canActivate(){return this.store.select(t=>t.auth.isAuthenticated).pipe((0,wt.U)(t=>!!t||(this.router.navigate(["login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bs),c.LFG(Bn.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hm=(()=>{class n{constructor(t){this.db=t,this.userName="",this.role=""}getAllClients(){return this.db.collection("users").valueChanges().pipe((0,wt.U)(t=>t.filter(r=>"client"===r.role)))}getUserData(t){return this.db.doc(`users/${t}`).valueChanges()}getIcemanData(){return this.db.doc("users/g73q2id76nXTiJWO1jizQyDLfMg2").valueChanges()}addNewAmount(t,r){bo(Ns(Lc(),"users","g73q2id76nXTiJWO1jizQyDLfMg2"),{amounts:y_({amountName:t,amountCapacity:r})})}addNewFlavor(t){bo(Ns(Lc(),"users","g73q2id76nXTiJWO1jizQyDLfMg2"),{flavors:y_(t)})}addNewFavoriteFlavor(t,r){bo(Ns(Lc(),"users",r),{favoriteFlavors:y_(t)})}addNewOrder(t,r){const a=(new Date).toLocaleDateString();bo(Ns(Lc(),"users",t),{orders:y_({date:a,flavorName:r.flavorName,amountCapacity:r.amountCapacity,quantity:r.quantity})})}deleteFlavor(t){bo(Ns(Lc(),"users","g73q2id76nXTiJWO1jizQyDLfMg2"),{flavors:v_(t)})}deleteFavoriteFlavor(t,r){bo(Ns(Lc(),"users",r),{favoriteFlavors:v_(t)})}deleteAmount(t){bo(Ns(Lc(),"users","g73q2id76nXTiJWO1jizQyDLfMg2"),{amounts:v_({amountName:t.amountName,amountCapacity:t.amountCapacity})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=["*"];let XD=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-list-item"]],ngContentSelectors:kU,decls:2,vars:0,consts:[[1,"list-item"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap;border-top:.063rem solid #d7e9e2;border-bottom:.063rem solid #d7e9e2;padding:10px;background-color:#69f0ae;width:700px}@media (max-width: 768px){.list-item[_ngcontent-%COMP%]{width:90vw}}@media (max-width: 375px){.list-item[_ngcontent-%COMP%]{flex-direction:column}}"],changeDetection:0}),n})();function PU(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",5),c._uU(2),c.qZA(),c.TgZ(3,"div",5),c._uU(4),c.qZA(),c.TgZ(5,"div",6),c._uU(6),c.qZA(),c.TgZ(7,"div",5),c._uU(8),c.qZA(),c.TgZ(9,"div",5),c._uU(10),c.qZA(),c.TgZ(11,"div",5),c._uU(12),c.qZA()()),2&n){const t=c.oxw(),r=t.index,i=t.$implicit;c.xp6(2),c.hij("",r+1,"."),c.xp6(2),c.Oqu(i.userName),c.xp6(2),c.hij("Lody ",i.orders[i.orders.length-1].flavorName," "),c.xp6(2),c.hij("",i.orders[i.orders.length-1].amountCapacity,"ml"),c.xp6(2),c.hij("x",i.orders[i.orders.length-1].quantity,""),c.xp6(2),c.Oqu(i.orders[i.orders.length-1].date)}}function NU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,PU,13,6,"app-list-item",0),c.BQk()),2&n){const t=e.$implicit,r=c.oxw(4);c.xp6(1),c.Q6J("ngIf",t.orders&&t.orders.length>0&&t.orders[t.orders.length-1].date===r.currentDate)}}function FU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Brak zam\xf3wie\u0144."),c.qZA())}function LU(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p",1),c._uU(2,"Lista zam\xf3wie\u0144 klient\xf3w"),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,NU,2,1,"ng-container",3),c.qZA(),c.YNc(5,FU,2,0,"ng-template",null,4,c.W1O),c.BQk()),2&n){const t=e.ngIf;c.xp6(4),c.Q6J("ngForOf",t)}}function VU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,LU,7,1,"ng-container",0),c.ALo(2,"async"),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,t.clients$))}}function BU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(3).ngIf;return c.oxw(2).addNewOrder(i.orders[i.orders.length-1].flavorName,i.orders[i.orders.length-1].amountCapacity,i.orders[i.orders.length-1].quantity)}),c._uU(1,"Zam\xf3w ponownie"),c.qZA()}}function UU(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p",1),c._uU(2,"Ostatnie zam\xf3wienie"),c.qZA(),c.TgZ(3,"div",2)(4,"app-list-item")(5,"div",6),c._uU(6),c.qZA(),c.TgZ(7,"div",6),c._uU(8),c.qZA(),c.TgZ(9,"div",5),c._uU(10),c.qZA(),c.TgZ(11,"div",5),c._uU(12),c.qZA(),c.YNc(13,BU,2,0,"button",9),c.qZA()(),c.BQk()),2&n){const t=c.oxw(2).ngIf,r=c.oxw(2);c.xp6(6),c.hij("",t.orders[t.orders.length-1].date," "),c.xp6(2),c.hij("Lody ",t.orders[t.orders.length-1].flavorName," "),c.xp6(2),c.hij(" ",t.orders[t.orders.length-1].amountCapacity," ml "),c.xp6(2),c.hij("x ",t.orders[t.orders.length-1].quantity,""),c.xp6(1),c.Q6J("ngIf",t.orders[t.orders.length-1].date<r.currentDate)}}function jU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Brak zam\xf3wie\u0144. Z\u0142\xf3\u017c zam\xf3wienie korzystaj\u0105c z formularza poni\u017cej."),c.qZA())}function HU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,UU,14,5,"ng-container",7),c.YNc(2,jU,2,0,"ng-template",null,8,c.W1O),c.BQk()),2&n){const t=c.MAs(3),r=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf",r.orders&&0!==r.orders.length)("ngIfElse",t)}}function $U(n,e){if(1&n&&(c.ynx(0),c.YNc(1,HU,4,2,"ng-container",0),c.BQk()),2&n){const t=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf","client"===t)}}function GU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,VU,3,3,"ng-container",0),c.YNc(2,$U,2,1,"ng-container",0),c.ALo(3,"async"),c.BQk()),2&n){const t=e.ngIf,r=c.oxw();c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf",c.lcZ(3,2,r.user$))}}let zU=(()=>{class n{constructor(t,r,i){this.store=t,this.firestoreService=r,this.authService=i,this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid,this.user$=this.firestoreService.getUserData(this.uid),this.currentDate="",this.clients$=this.firestoreService.getAllClients()}ngOnInit(){this.currentDate=(new Date).toLocaleDateString()}addNewOrder(t,r,i){this.firestoreService.addNewOrder(this.uid,{flavorName:t,amountCapacity:r,quantity:i})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn.yh),c.Y36(hm),c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-orders-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"orders-list__name"],[1,"orders-list__container"],[4,"ngFor","ngForOf"],["noTodaysOrders",""],[1,"orders-list__element"],[1,"order-list__element"],[4,"ngIf","ngIfElse"],["noOrders",""],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"]],template:function(t,r){1&t&&(c.YNc(0,GU,4,4,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Nn,XD,yd],pipes:[ji],styles:[".orders-list__name[_ngcontent-%COMP%]{margin:15px 0}.orders-list__container[_ngcontent-%COMP%]{margin-bottom:30px}"],changeDetection:0}),n})();const Kk=JN();class qU{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pi(-this._previousScrollPosition.left),e.style.top=pi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Kk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Kk&&(r.scrollBehavior=a,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class KU{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Zk{enable(){}disable(){}attach(){}}function WS(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Yk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ZU{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();WS(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YU=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Zk,this.close=d=>new KU(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new qU(this._viewportRuler,this._document),this.reposition=d=>new ZU(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(SB),c.LFG(q_),c.LFG(c.R0b),c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qk{constructor(e){if(this.scrollStrategy=new Zk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class QU{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class JU{constructor(e,t,r,i,a,d,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new An.x,this._attachments=new An.x,this._detachments=new An.x,this._locationChanges=$c.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new An.x,this._outsidePointerEvents=new An.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pi(this._config.width),e.height=pi(this._config.height),e.minWidth=pi(this._config.minWidth),e.minHeight=pi(this._config.minHeight),e.maxWidth=pi(this._config.maxWidth),e.maxHeight=pi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=uO(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,fi.R)((0,kl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Jk=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LA()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),LA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(_s))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xk="cdk-overlay-connected-position-bounding-box",XU=/([A-Za-z%]+)$/;class ej{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new An.x,this._resizeSubscription=$c.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Xk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<I.visibleArea)&&(d={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Xk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?d:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=tP(t);let{x:d,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(d+=_),w&&(f+=w);let V=0-f,Y=f+a.height-r.height,J=this._subtractOverflows(a.width,0-d,d+a.width-r.width),me=this._subtractOverflows(a.height,V,Y),Ue=J*me;return{visibleArea:Ue,isCompletelyWithinViewport:a.width*a.height===Ue,fitsInViewportVertically:me===a.height,fitsInViewportHorizontally:J==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,d=eP(this._overlayRef.getConfig().minHeight),f=eP(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=d&&d<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=tP(t),a=this._viewportRect,d=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let I=0,x=0;return I=i.width<=a.width?w||-d:e.x<this._viewportMargin?a.left-r.left-e.x:0,x=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new QU(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,d,f,I,x,V;if("top"===t.overlayY)d=e.y,a=r.height-d+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const Y=Math.min(r.bottom-e.y+r.top,e.y),J=this._lastBoundingBoxSize.height;a=2*Y,d=e.y-Y,a>J&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-J/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)V=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,I=r.right-e.x;else{const Y=Math.min(r.right-e.x+r.left,e.x),J=this._lastBoundingBoxSize.width;I=2*Y,x=e.x-Y,I>J&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-J/2)}return{top:d,left:x,bottom:f,right:V,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=pi(r.height),i.top=pi(r.top),i.bottom=pi(r.bottom),i.width=pi(r.width),i.left=pi(r.left),i.right=pi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=pi(a)),d&&(i.maxWidth=pi(d))}this._lastBoundingBoxSize=r,fm(this._boundingBox.style,i)}_resetBoundingBoxStyles(){fm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();fm(r,this._getExactOverlayY(t,e,I)),fm(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=pi(d.maxHeight):a&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=pi(d.maxWidth):a&&(r.maxWidth="")),fm(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=pi(a.y),i}_getExactOverlayX(e,t,r){let d,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=pi(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yk(e,r),isOriginOutsideView:WS(e,r),isOverlayClipped:Yk(t,r),isOverlayOutsideView:WS(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&uO(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function fm(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function eP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(XU);return t&&"px"!==t?null:parseFloat(e)}return n||null}function tP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nP="cdk-global-overlay-wrapper";class tj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(nP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:d,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(nP),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let nj=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new tj}flexibleConnectedTo(t){return new ej(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(q_),c.LFG(W),c.LFG(_s),c.LFG(Jk))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rj=(()=>{class n extends rP{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let d=a.length-1;d>-1;d--)if(a[d]._keydownEvents.observers.length>0){const f=a[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ij=(()=>{class n extends rP{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=em(a)},this._clickListener=a=>{const d=em(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(d)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(_s),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sj=0,eT=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,x,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=x,this._outsideClickDispatcher=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),d=new Qk(t);return d.direction=d.direction||this._directionality.value,new JU(a,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+sj++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new oB(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(YU),c.LFG(Jk),c.LFG(c._Vd),c.LFG(nj),c.LFG(rj),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(W),c.LFG(Jp),c.LFG(ve),c.LFG(ij))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const oj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],iP=new c.OlP("cdk-connected-overlay-scroll-strategy");let sP=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),oP=(()=>{class n{constructor(t,r,i,a,d){this._overlay=t,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=$c.w0.EMPTY,this._attachSubscription=$c.w0.EMPTY,this._detachSubscription=$c.w0.EMPTY,this._positionSubscription=$c.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new wR(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ni(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ni(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ni(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ni(t)}get push(){return this._push}set push(t){this._push=Ni(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=oj);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!H_(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Qk({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof sP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function WU(n,e=!1){return(0,Mi.e)((t,r)=>{let i=0;t.subscribe((0,Lr.x)(r,a=>{const d=n(a,i++);(d||e)&&r.next(a),!d&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(eT),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(iP),c.Y36(Jp,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const lj={provide:iP,deps:[eT],useFactory:function aj(n){return()=>n.scrollStrategies.reposition()}};let cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eT,lj],imports:[[s0,CR,xR],xR]}),n})();class uj{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new An.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const dj=["trigger"],hj=["panel"];function fj(n,e){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function pj(n,e){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function mj(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function gj(n,e){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,pj,2,1,"span",10),c.YNc(2,mj,1,0,"ng-content",11),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function _j(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13)(1,"div",14,15),c.NdJ("@transformPanel.done",function(i){return c.CHM(t),c.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return c.CHM(t),c.oxw()._handleKeydown(i)}),c.Hsn(3,1),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",t._getPanelTheme(),""),c.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),c.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const yj=[[["mat-select-trigger"]],"*"],vj=["mat-select-trigger","*"],aP={transformPanelWrap:yD("transformPanelWrap",[nm("* => void",FF("@transformPanel",[NF()],{optional:!0}))]),transformPanel:yD("transformPanel",[tm("void",ea({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),tm("showing",ea({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),tm("showing-multiple",ea({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),nm("void => *",G_("120ms cubic-bezier(0, 0, 0.2, 1)")),nm("* => void",G_("100ms 25ms linear",ea({opacity:0})))])};let lP=0;const uP=new c.OlP("mat-select-scroll-strategy"),Cj=new c.OlP("MAT_SELECT_CONFIG"),Dj={provide:uP,deps:[eT],useFactory:function wj(n){return()=>n.scrollStrategies.reposition()}};class Tj{constructor(e,t){this.source=e,this.value=t}}const Ij=mS(hR(pS(fR(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),Aj=new c.OlP("MatSelectTrigger");let Sj=(()=>{class n extends Ij{constructor(t,r,i,a,d,f,_,w,I,x,V,Y,J,me){var Ue,pt,gt;super(d,a,_,w,x),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=I,this._liveAnnouncer=J,this._defaultOptions=me,this._panelOpen=!1,this._compareWith=(dt,ut)=>dt===ut,this._uid="mat-select-"+lP++,this._triggerAriaLabelledBy=null,this._destroy=new An.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+lP++,this._panelDoneAnimatingStream=new An.x,this._overlayPanelClass=(null===(Ue=this._defaultOptions)||void 0===Ue?void 0:Ue.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(gt=null===(pt=this._defaultOptions)||void 0===pt?void 0:pt.disableOptionCentering)&&void 0!==gt&&gt,this.ariaLabel="",this.optionSelectionChanges=fA(()=>{const dt=this.options;return dt?dt.changes.pipe(ss(dt),(0,di.w)(()=>(0,kl.T)(...dt.map(ut=>ut.onSelectionChange)))):this._ngZone.onStable.pipe((0,Pl.q)(1),(0,di.w)(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe((0,fr.h)(dt=>dt),(0,wt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,fr.h)(dt=>!dt),(0,wt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==me?void 0:me.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=me.typeaheadDebounceInterval),this._scrollStrategyFactory=Y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(V)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(HR.required))&&void 0!==a&&a}set required(t){this._required=Ni(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Ni(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Ni(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=gD(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new uj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,si.x)(),(0,fi.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,fi.R)(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ss(null),(0,fi.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,d=this._keyManager;if(!d.isTyping()&&a&&!H_(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,d=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(d||13!==i&&32!==i||!r.activeItem||H_(t))if(!d&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Pl.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new yF(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,fi.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,fi.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,kl.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,fi.R)(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,kl.T)(...this.options.map(r=>r._stateChanges)).pipe((0,fi.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(q_),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(gS),c.Y36(c.SBq),c.Y36(Jp,8),c.Y36(Yc,8),c.Y36(y0,8),c.Y36(zS,8),c.Y36(Zc,10),c.$8M("tabindex"),c.Y36(uP),c.Y36(OF),c.Y36(Cj,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&(c.Gf(dj,5),c.Gf(hj,5),c.Gf(oP,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.trigger=i.first),c.iGM(i=c.CRH())&&(r.panel=i.first),c.iGM(i=c.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),dP=(()=>{class n extends Sj{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,fi.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=bR(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function ZV(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Tj(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let w=this._selectionModel.selected[0]||this.options.first;d=w&&w.group?32:16}i||(d*=-1);const f=0-(t.left+d-(i?a:0)),_=t.right+d-r.width+(i?0:a);f>0?d+=f+8:_>0&&(d-=_+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),d=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*_-d))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,d=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;w>d?this._adjustPanelUp(w,d):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),d=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=bR(f,this.options,this.optionGroups);const _=i/2;this._scrollTop=this._calculateOverlayScroll(f,_,d),this._offsetY=this._calculateOverlayOffsetY(f,_,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,Aj,5),c.Suo(i,bS,5),c.Suo(i,vR,5)),2&t){let a;c.iGM(a=c.CRH())&&(r.customTrigger=a.first),c.iGM(a=c.CRH())&&(r.options=a),c.iGM(a=c.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(c.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),c.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:QD,useExisting:n},{provide:yR,useExisting:n}]),c.qOj],ngContentSelectors:vj,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(c.F$t(yj),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return r.toggle()}),c.TgZ(3,"div",2),c.YNc(4,fj,2,1,"span",3),c.YNc(5,gj,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA()(),c.YNc(8,_j,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=c.MAs(1);c.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",r.empty),c.uIk("id",r._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[sP,He,xt,Xn,oP,Bi],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[aP.transformPanelWrap,aP.transformPanel]},changeDetection:0}),n})(),Mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Dj],imports:[[Hi,cj,ER,ra],CS,b0,ER,ra]}),n})();function xj(n,e){if(1&n&&(c.TgZ(0,"mat-option",11),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t," ")}}function Oj(n,e){if(1&n&&(c.TgZ(0,"mat-option",11),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.AsE(" ",t.amountName," - ",t.amountCapacity," ml ")}}function Rj(n,e){if(1&n&&(c.ynx(0)(1),c.TgZ(2,"mat-form-field",7)(3,"mat-label"),c._uU(4,"Wybierz smak"),c.qZA(),c.TgZ(5,"mat-select",8),c.YNc(6,xj,2,2,"mat-option",9),c.qZA()(),c.TgZ(7,"mat-form-field",7)(8,"mat-label"),c._uU(9,"Wybierz wielko\u015b\u0107"),c.qZA(),c.TgZ(10,"mat-select",8),c.YNc(11,Oj,2,3,"mat-option",9),c.qZA()(),c.TgZ(12,"mat-form-field",7)(13,"mat-label"),c._uU(14,"Podaj ilo\u015b\u0107"),c.qZA(),c._UZ(15,"input",10),c.qZA(),c.BQk()()),2&n){const t=e.ngIf,r=c.oxw(5);c.xp6(5),c.Q6J("formControl",r.flavorControl),c.xp6(1),c.Q6J("ngForOf",t.flavors),c.xp6(4),c.Q6J("formControl",r.amountControl),c.xp6(1),c.Q6J("ngForOf",t.amounts),c.xp6(4),c.Q6J("formControl",r.quantityControl)}}function kj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",4)(1,"p",5),c._uU(2,"Dodaj nowe zam\xf3wienie"),c.qZA(),c.YNc(3,Rj,16,5,"ng-container",0),c.ALo(4,"async"),c.TgZ(5,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(4).onSubmit()}),c._uU(6,"Dodaj"),c.qZA()()}if(2&n){const t=c.oxw(4);c.xp6(3),c.Q6J("ngIf",c.lcZ(4,1,t.iceman$))}}function Pj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,kj,7,3,"form",3),c.BQk()),2&n){const t=c.oxw(2).ngIf;c.xp6(1),c.Q6J("ngIf","client"===t)}}function Nj(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Aktualnie mo\u017cna z\u0142o\u017cy\u0107 tylko jedno zam\xf3wienie dziennie. Wr\xf3\u0107 jutro aby z\u0142o\u017cy\u0107 nowe zam\xf3wienie."),c.qZA())}function Fj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Pj,2,1,"ng-container",1),c.YNc(2,Nj,2,0,"ng-template",null,2,c.W1O),c.BQk()),2&n){const t=e.ngIf,r=c.MAs(3),i=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!t.orders||0!==t.orders.length&&t.orders[t.orders.length-1].date!==i.currentDate)("ngIfElse",r)}}function Lj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Fj,4,2,"ng-container",0),c.ALo(2,"async"),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,t.user$))}}let Vj=(()=>{class n{constructor(t,r,i){this.store=t,this.firestoreService=r,this.authService=i,this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid,this.iceman$=this.firestoreService.getIcemanData(),this.user$=this.firestoreService.getUserData(this.uid),this.flavorControl=new Eo(""),this.amountControl=new Eo(""),this.quantityControl=new Eo(""),this.currentDate=""}ngOnInit(){this.currentDate=(new Date).toLocaleDateString()}onSubmit(){const t=this.flavorControl.value,r=this.amountControl.value.amountCapacity,i=this.quantityControl.value;t&&r&&i&&i>0?(this.firestoreService.addNewOrder(this.uid,{flavorName:t,amountCapacity:r,quantity:i}),alert("Zam\xf3wienie zosta\u0142o z\u0142o\u017cone")):i<=0&&alert("Podano nieprawid\u0142ow\u0105 ilo\u015b\u0107")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bn.yh),c.Y36(hm),c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-order-form"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noForm",""],["class","order-form",4,"ngIf"],[1,"order-form"],[1,"order-form__name"],["type","submit","mat-raised-button","","color","primary",1,"order-form__btn",3,"click"],["appearance","fill","color","primary"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","required","",3,"formControl"],[3,"value"]],template:function(t,r){1&t&&(c.YNc(0,Lj,3,3,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Q_,Z_,Yc,v0,dm,dP,hf,K_,cm,Nn,bS,E0,YD,cf,yd],pipes:[ji],styles:[""],changeDetection:0}),n})();function Bj(n,e){1&n&&c._UZ(0,"app-orders-list")}let Uj=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.user$=this.authService.setUserData(this.authService.uid,this.authService.email)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-orders"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.YNc(0,Bj,1,0,"app-orders-list",0),c.ALo(1,"async"),c._UZ(2,"app-order-form")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.user$))},directives:[fe,zU,Vj],pipes:[ji],styles:[""],changeDetection:0}),n})();function jj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-list-item")(1,"div",4),c._uU(2),c.qZA(),c.TgZ(3,"div",4),c._uU(4),c.qZA(),c.TgZ(5,"button",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(4).deleteFlavor(a)}),c._uU(6,"Usu\u0144"),c.qZA()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t," ")}}function Hj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Lista dost\u0119pnych smak\xf3w"),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,jj,7,2,"app-list-item",3),c.qZA(),c.BQk()),2&n){const t=c.oxw().ngIf;c.xp6(4),c.Q6J("ngForOf",t.flavors)}}function $j(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-list-item")(1,"div",4),c._uU(2),c.qZA(),c.TgZ(3,"div",4),c._uU(4),c.qZA(),c.TgZ(5,"button",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(5).deleteFavoriteFlavor(a)}),c._uU(6,"Usu\u0144"),c.qZA()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t," ")}}function Gj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Lista ulubionych smak\xf3w"),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,$j,7,2,"app-list-item",3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2).ngIf;c.xp6(4),c.Q6J("ngForOf",t.favoriteFlavors)}}function zj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Gj,5,1,"ng-container",6),c.BQk()),2&n){const t=c.oxw().ngIf,r=c.MAs(4);c.xp6(1),c.Q6J("ngIf",t.favoriteFlavors)("ngIfElse",r)}}function Wj(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Nie masz jeszcze \u017cadnych ulubionych smak\xf3w. Dodaj smak do ulubionych u\u017cywaj\u0105c formularza poni\u017cej."),c.qZA())}function qj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Hj,5,1,"ng-container",0),c.YNc(2,zj,2,2,"ng-container",0),c.YNc(3,Wj,2,0,"ng-template",null,1,c.W1O),c.BQk()),2&n){const t=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf","client"===t)}}function Kj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,qj,5,2,"ng-container",0),c.ALo(2,"async"),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,t.user$))}}let Zj=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.store=r,this.authService=i,this.user$=this.firestoreService.getUserData(this.authService.uid),this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid}deleteFlavor(t){this.firestoreService.deleteFlavor(t)}deleteFavoriteFlavor(t){this.firestoreService.deleteFavoriteFlavor(t,this.uid)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hm),c.Y36(Bn.yh),c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flavors-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["noFavorites",""],[1,"flavors-list__container"],[4,"ngFor","ngForOf"],[1,"flavors-list__element"],["mat-button","","color","primary",3,"click"],[4,"ngIf","ngIfElse"]],template:function(t,r){1&t&&(c.YNc(0,Kj,3,3,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Nn,XD,yd],pipes:[ji],styles:[".flavors-list__element[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),n})();function Yj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",2)(1,"p",3),c._uU(2,"Dodaj nowy smak"),c.qZA(),c.TgZ(3,"mat-form-field",4)(4,"mat-label"),c._uU(5,"Nazwa smaku"),c.qZA(),c._UZ(6,"input",5),c.qZA(),c.TgZ(7,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).addNewFlavor()}),c._uU(8,"Dodaj"),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(6),c.Q6J("formControl",t.flavorControl)}}function Qj(n,e){if(1&n&&(c.TgZ(0,"mat-option",9),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t," ")}}function Jj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"mat-form-field",4)(2,"mat-label"),c._uU(3,"Wybierz smak"),c.qZA(),c.TgZ(4,"mat-select",7),c.YNc(5,Qj,2,2,"mat-option",8),c.qZA()(),c.BQk()),2&n){const t=e.ngIf,r=c.oxw(3);c.xp6(4),c.Q6J("formControl",r.favoriteFlavorControl),c.xp6(1),c.Q6J("ngForOf",t.flavors)}}function Xj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",2)(1,"p",3),c._uU(2,"Dodaj nowy ulubiony smak"),c.qZA(),c.YNc(3,Jj,6,2,"ng-container",0),c.ALo(4,"async"),c.TgZ(5,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).addNewFavoriteFlavor()}),c._uU(6,"Dodaj"),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(3),c.Q6J("ngIf",c.lcZ(4,1,t.user$))}}function eH(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Yj,9,1,"form",1),c.YNc(2,Xj,7,3,"form",1),c.BQk()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf","client"===t)}}let tH=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.store=r,this.authService=i,this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid,this.user$=this.firestoreService.getIcemanData(),this.flavorControl=new Eo(""),this.favoriteFlavorControl=new Eo("")}addNewFlavor(){const t=this.flavorControl.value;!1===/^\s+$/.test(t)?(this.firestoreService.addNewFlavor(t),this.flavorControl.reset(),alert("Nowy smak zosta\u0142 dodany")):alert("Nie mo\u017cna doda\u0107 pustej nazwy")}addNewFavoriteFlavor(){this.firestoreService.addNewFavoriteFlavor(this.favoriteFlavorControl.value,this.uid),this.favoriteFlavorControl.reset(),alert("Nowy ulubiony smak zosta\u0142 dodany")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hm),c.Y36(Bn.yh),c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flavors-form"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","flavor-form",4,"ngIf"],[1,"flavor-form"],[1,"flavor-form__name"],["appearance","fill","color","primary"],["matInput","","type","text","required","",3,"formControl"],["mat-raised-button","","color","primary",1,"flavor-form__btn",3,"click"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(c.YNc(0,eH,3,2,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Q_,Z_,Yc,v0,dm,E0,cf,hf,K_,cm,yd,dP,Nn,bS],pipes:[ji],styles:[""],changeDetection:0}),n})(),nH=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flavors"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-flavors-list")(1,"app-flavors-form")},directives:[Zj,tH],styles:[""],changeDetection:0}),n})();function rH(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",3),c._uU(2),c.qZA(),c.TgZ(3,"div",3),c._uU(4),c.qZA()()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t.userName," ")}}function iH(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Lista klient\xf3w"),c.qZA(),c.TgZ(3,"div",1),c.YNc(4,rH,5,2,"app-list-item",2),c.qZA(),c.BQk()),2&n){const t=e.ngIf;c.xp6(4),c.Q6J("ngForOf",t)}}let sH=(()=>{class n{constructor(t){this.firestoreService=t,this.clients$=this.firestoreService.getAllClients()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clients-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"clients-list__container"],[4,"ngFor","ngForOf"],[1,"clients-list__element"]],template:function(t,r){1&t&&(c.YNc(0,iH,5,1,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.clients$))},directives:[fe,Nn,XD],pipes:[ji],styles:[".clients-list__element[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),n})(),oH=(()=>{class n{constructor(t){this.authService=t,this.userNameControl=new Eo(""),this.userEmailControl=new Eo(""),this.userPasswordControl=new Eo("")}onSignup(){const t=this.userNameControl.value,r=this.userEmailControl.value,i=this.userPasswordControl.value,a=/^\s+$/.test(t),d=/^\s+$/.test(r),f=/^\s+$/.test(i);!1===a&&!1===d&&!1===f?(this.authService.onSignup(t,r,i),this.userNameControl.reset(),this.userEmailControl.reset(),this.userPasswordControl.reset(),alert("Dodano nowego klienta")):!0===a?alert("Nie mo\u017cna doda\u0107 pustego imienia i nazwiska"):!0===d?alert("Nie mo\u017cna doda\u0107 pustego emaila"):!0===f&&alert("Nie mo\u017cna doda\u0107 pustego has\u0142a")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-client-form"]],decls:17,vars:3,consts:[[1,"client-form"],[1,"client-form__name"],["appearance","fill","color","primary"],["matInput","","type","text","required","",3,"formControl"],["matInput","","type","email","required","",3,"formControl"],["matInput","","type","password","required","",3,"formControl"],["mat-raised-button","","color","primary",1,"client-form__btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"form",0)(1,"p",1),c._uU(2,"Dodaj nowego klienta"),c.qZA(),c.TgZ(3,"mat-form-field",2)(4,"mat-label"),c._uU(5,"Imi\u0119 i Nazwisko"),c.qZA(),c._UZ(6,"input",3),c.qZA(),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"Email"),c.qZA(),c._UZ(10,"input",4),c.qZA(),c.TgZ(11,"mat-form-field",2)(12,"mat-label"),c._uU(13,"Has\u0142o"),c.qZA(),c._UZ(14,"input",5),c.qZA(),c.TgZ(15,"button",6),c.NdJ("click",function(){return r.onSignup()}),c._uU(16,"Dodaj"),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("formControl",r.userNameControl),c.xp6(4),c.Q6J("formControl",r.userEmailControl),c.xp6(4),c.Q6J("formControl",r.userPasswordControl))},directives:[Q_,Z_,Yc,v0,dm,E0,cf,hf,K_,cm,yd],styles:[""],changeDetection:0}),n})(),aH=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clients"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-clients-list")(1,"app-client-form")},directives:[sH,oH],styles:[""],changeDetection:0}),n})();function lH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-list-item")(1,"div",3),c._uU(2),c.qZA(),c.TgZ(3,"div",3),c._uU(4),c.qZA(),c.TgZ(5,"div",3),c._uU(6),c.qZA(),c.TgZ(7,"button",4),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(2).deleteAmount(a)}),c._uU(8,"Usu\u0144"),c.qZA()()}if(2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t.amountName," "),c.xp6(2),c.hij(" ",t.amountCapacity," ml ")}}function cH(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",1),c.YNc(2,lH,9,3,"app-list-item",2),c.qZA(),c.BQk()),2&n){const t=e.ngIf;c.xp6(2),c.Q6J("ngForOf",t.amounts)}}let uH=(()=>{class n{constructor(t,r){this.firestoreService=t,this.authService=r,this.user$=this.firestoreService.getUserData(this.authService.uid)}deleteAmount(t){console.log("amount",t),this.firestoreService.deleteAmount(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hm),c.Y36(Wc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-amounts-list"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"amounts-list__container"],[4,"ngFor","ngForOf"],[1,"amounts-list__element"],["mat-button","","color","primary",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"Lista jednostek"),c.qZA(),c.YNc(2,cH,3,1,"ng-container",0),c.ALo(3,"async")),2&t&&(c.xp6(2),c.Q6J("ngIf",c.lcZ(3,1,r.user$)))},directives:[fe,Nn,XD,yd],pipes:[ji],styles:[".amounts-list__element[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),n})(),dH=(()=>{class n{constructor(t){this.firestoreService=t,this.amountNameControl=new Eo(""),this.amountCapacityControl=new Eo("")}addNewAmount(){const t=this.amountNameControl.value,r=this.amountCapacityControl.value,i=/^\s+$/.test(t);!1===i&&r>0?(this.firestoreService.addNewAmount(t,r),this.amountNameControl.reset(),this.amountCapacityControl.reset(),alert("Nowa jednostka zosta\u0142a dodana")):!0===i?alert("Nie mo\u017cna doda\u0107 pustej nazwy"):r<=0&&alert("Podano nieprawid\u0142ow\u0105 pojemno\u015b\u0107")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hm))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-amount-form"]],decls:13,vars:2,consts:[[1,"amount-form"],[1,"amount-form__name"],["appearance","fill","color","primary"],["matInput","","type","text","required","",3,"formControl"],["matInput","","type","number","required","",3,"formControl"],["mat-raised-button","","color","primary",1,"amount-form__btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"form",0)(1,"p",1),c._uU(2,"Dodaj now\u0105 jednostk\u0119"),c.qZA(),c.TgZ(3,"mat-form-field",2)(4,"mat-label"),c._uU(5,"Nazwa"),c.qZA(),c._UZ(6,"input",3),c.qZA(),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"Pojemno\u015b\u0107 w ml"),c.qZA(),c._UZ(10,"input",4),c.qZA(),c.TgZ(11,"button",5),c.NdJ("click",function(){return r.addNewAmount()}),c._uU(12,"Dodaj"),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("formControl",r.amountNameControl),c.xp6(4),c.Q6J("formControl",r.amountCapacityControl))},directives:[Q_,Z_,Yc,v0,dm,E0,cf,hf,K_,cm,YD,yd],styles:[""],changeDetection:0}),n})();const hH=[{path:"login",component:RU},{path:"orders",component:Uj,canActivate:[JD]},{path:"flavors",component:nH,canActivate:[JD]},{path:"amounts",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-amounts"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-amounts-list")(1,"app-amount-form")},directives:[uH,dH],styles:[".btn[_ngcontent-%COMP%]{margin:20px 0}"],changeDetection:0}),n})(),canActivate:[JD]},{path:"clients",component:aH,canActivate:[JD]},{path:"",pathMatch:"full",redirectTo:"orders"},{path:"**",redirectTo:"orders"}];let fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hi,eO.forRoot(hH),b0,qk],eO]}),n})();const hP={userName:"",uid:"",role:"",userEmail:""},pH=(0,Bn.Lq)(hP,(0,Bn.on)(no.setUserData,(n,e)=>Object.assign(Object.assign({},n),{userName:e.userName,uid:e.uid,role:e.role,userEmail:e.userEmail})),(0,Bn.on)(no.resetUser,n=>Object.assign(Object.assign({},n),hP)));var mH=A(9565);const gH=(0,Bn.PH)("[Orders] set orders",(0,Bn.Ky)()),yH=(0,Bn.Lq)({todayOrders:[]},(0,Bn.on)(gH,(n,{todayOrders:e})=>Object.assign(Object.assign({},n),{todayOrders:e})));let vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[n2]}),n.\u0275inj=c.cJS({providers:[Wc],imports:[[ua,kV,wi.hO.initializeApp(DS_firebase),SP,bP,fH,tB,qB,qk,b0,eU,tU,Mj,Bn.Aw.forRoot({auth:gu,user:pH,orders:yH}),mH.FT.instrument({logOnly:true,autoPause:!0})]]}),n})();(0,c.G48)(),lu().bootstrapModule(vH).catch(n=>console.error(n))},5867:(ne,G,A)=>{A.d(G,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=A(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(ne,G,A)=>{A.d(G,{Z:()=>c.Z});var c=A(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},820:(ne,G,A)=>{A.r(G);var c=A(5861),$=A(3942),k=A(2090),ee=A(9681),U=A(655),te=A(1877),W=A(4859);const xe=function Te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new te.Yd("@firebase/auth");function Le(y,...p){je.logLevel<=te.in.ERROR&&je.error(`Auth (${ee.SDK_VERSION}): ${y}`,...p)}function Ie(y,...p){throw Ze(y,...p)}function ve(y,...p){return Ze(y,...p)}function Ae(y,p,g){const b=Object.assign(Object.assign({},ke()),{[p]:g});return new k.LL("auth","Firebase",b).create(p,{appName:y.name})}function qe(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ie(y,"argument-error"),Ae(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...p){if("string"!=typeof y){const g=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return de.create(y,...p)}function ce(y,p,...g){if(!y)throw Ze(p,...g)}function et(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function le(y,p){y||et(p)}const ye=new Map;function ue(y){le(y instanceof Function,"Expected a class definition");let p=ye.get(y);return p?(le(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ye.set(y,p),p)}function $e(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Mt(){return"http:"===en()||"https:"===en()}function en(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class tn{constructor(p,g){this.shortDelay=p,this.longDelay=g,le(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function pn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ir(y,p){le(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Pn{static initialize(p,g,b){this.fetchImpl=p,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ei=new tn(3e4,6e4);function on(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function nn(y,p,g,b){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(y,p,g,b,S={}){return Rr(y,S,(0,c.Z)(function*(){let P={},ie={};b&&("GET"===p?ie=b:P={body:JSON.stringify(b)});const _e=(0,k.xO)(Object.assign({key:y.config.apiKey},ie)).slice(1),Ke=yield y._getAdditionalHeaders();return Ke["Content-Type"]="application/json",y.languageCode&&(Ke["X-Firebase-Locale"]=y.languageCode),Pn.fetch()(wr(y,y.config.apiHost,g,_e),Object.assign({method:p,headers:Ke,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Rr(y,p,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),p);try{const S=new Li(y),P=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const ie=yield P.json();if("needConfirmation"in ie)throw ti(y,"account-exists-with-different-credential",ie);if(P.ok&&!("errorMessage"in ie))return ie;{const _e=P.ok?ie.errorMessage:ie.error.message,[Ke,ot]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw ti(y,"credential-already-in-use",ie);if("EMAIL_EXISTS"===Ke)throw ti(y,"email-already-in-use",ie);const Ct=b[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Ae(y,Ct,ot);Ie(y,Ct)}}catch(S){if(S instanceof k.ZR)throw S;Ie(y,"network-request-failed")}})).apply(this,arguments)}function kr(y,p,g,b){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(y,p,g,b,S={}){const P=yield nn(y,p,g,b,S);return"mfaPendingCredential"in P&&Ie(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function wr(y,p,g,b){const S=`${p}${g}?${b}`;return y.config.emulator?ir(y.config,S):`${y.config.apiScheme}://${S}`}class Li{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),ei.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ti(y,p,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=ve(y,p,b);return S.customData._tokenResponse=g,S}function Pr(){return(Pr=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gn(y,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cr(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function En(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function wo(){return(wo=(0,c.Z)(function*(y,p=!1){const g=(0,k.m9)(y),b=yield g.getIdToken(p),S=ct(b);ce(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,ie=null==P?void 0:P.sign_in_provider;return{claims:S,token:b,authTime:En($t(S.auth_time)),issuedAtTime:En($t(S.iat)),expirationTime:En($t(S.exp)),signInProvider:ie||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(y){return 1e3*Number(y)}function ct(y){const[p,g,b]=y.split(".");if(void 0===p||void 0===g||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(g);return S?JSON.parse(S):(Le("Failed to decode base64 JWT payload"),null)}catch(S){return Le("Caught error parsing JWT payload as JSON",S),null}}function ar(y,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(b){throw b instanceof k.ZR&&Zt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ts{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Dr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(y){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(y){var p;const g=y.auth,b=yield y.getIdToken(),S=yield ar(y,Cr(g,{idToken:b}));ce(null==S?void 0:S.users.length,g,"internal-error");const P=S.users[0];y._notifyReloadListener(P);const ie=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?Re(P.providerUserInfo):[],_e=nt(y.providerData,ie),Ct=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==_e?void 0:_e.length)),ft={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:_e,metadata:new Dr(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(y,ft)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(y){const p=(0,k.m9)(y);yield yr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function nt(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function Re(y){return y.map(p=>{var{providerId:g}=p,b=(0,U._T)(p,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function yt(){return(yt=(0,c.Z)(function*(y,p){const g=yield Rr(y,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:P}=y.config,ie=wr(y,S,"/v1/token",`key=${P}`),_e=yield y._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",Pn.fetch()(ie,{method:"POST",headers:_e,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ce(p.idToken,"internal-error"),ce(void 0!==p.idToken,"internal-error"),ce(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function At(y){const p=ct(y);return ce(p,"internal-error"),ce(void 0!==p.exp,"internal-error"),ce(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var b=this;return(0,c.Z)(function*(){return ce(!b.accessToken||b.refreshToken,p,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:ie}=yield function st(y,p){return yt.apply(this,arguments)}(p,g);b.updateTokensAndExpiration(S,P,Number(ie))})()}updateTokensAndExpiration(p,g,b){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,g){const{refreshToken:b,accessToken:S,expirationTime:P}=g,ie=new zt;return b&&(ce("string"==typeof b,"internal-error",{appName:p}),ie.refreshToken=b),S&&(ce("string"==typeof S,"internal-error",{appName:p}),ie.accessToken=S),P&&(ce("number"==typeof P,"internal-error",{appName:p}),ie.expirationTime=P),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return et("not implemented")}}function Wt(y,p){ce("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Z{constructor(p){var{uid:g,auth:b,stsTokenManager:S}=p,P=(0,U._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Dr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const b=yield ar(g,g.stsTokenManager.getToken(g.auth,p));return ce(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(p){return function es(y){return wo.apply(this,arguments)}(this,p)}reload(){return function vr(y){return Gt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Z(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield yr(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield ar(p,function ht(y,p){return Pr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var b,S,P,ie,_e,Ke,ot,Ct;const ft=null!==(b=g.displayName)&&void 0!==b?b:void 0,Yn=null!==(S=g.email)&&void 0!==S?S:void 0,xi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,wa=null!==(ie=g.photoURL)&&void 0!==ie?ie:void 0,sh=null!==(_e=g.tenantId)&&void 0!==_e?_e:void 0,gc=null!==(Ke=g._redirectEventId)&&void 0!==Ke?Ke:void 0,al=null!==(ot=g.createdAt)&&void 0!==ot?ot:void 0,qm=null!==(Ct=g.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:$o,emailVerified:_c,isAnonymous:Mu,providerData:oh,stsTokenManager:ll}=g;ce($o&&ll,p,"internal-error");const Km=zt.fromJSON(this.name,ll);ce("string"==typeof $o,p,"internal-error"),Wt(ft,p.name),Wt(Yn,p.name),ce("boolean"==typeof _c,p,"internal-error"),ce("boolean"==typeof Mu,p,"internal-error"),Wt(xi,p.name),Wt(wa,p.name),Wt(sh,p.name),Wt(gc,p.name),Wt(al,p.name),Wt(qm,p.name);const ah=new Z({uid:$o,auth:p,email:Yn,emailVerified:_c,displayName:ft,isAnonymous:Mu,photoURL:wa,phoneNumber:xi,tenantId:sh,stsTokenManager:Km,createdAt:al,lastLoginAt:qm});return oh&&Array.isArray(oh)&&(ah.providerData=oh.map(cl=>Object.assign({},cl))),gc&&(ah._redirectEventId=gc),ah}static _fromIdTokenResponse(p,g,b=!1){return(0,c.Z)(function*(){const S=new zt;S.updateFromServerResponse(g);const P=new Z({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield yr(P),P})()}}const X=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function we(y,p,g){return`firebase:${y}:${p}:${g}`}class ae{constructor(p,g,b){this.persistence=p,this.auth=g,this.userKey=b;const{config:S,name:P}=this.auth;this.fullUserKey=we(this.userKey,S.apiKey,P),this.fullPersistenceKey=we("persistence",S.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Z._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new ae(ue(X),p,b);const S=(yield Promise.all(g.map(function(){var ot=(0,c.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let P=S[0]||ue(X);const ie=we(b,p.config.apiKey,p.name);let _e=null;for(const ot of g)try{const Ct=yield ot._get(ie);if(Ct){const ft=Z._fromJSON(p,Ct);ot!==P&&(_e=ft),P=ot;break}}catch(Ct){}const Ke=S.filter(ot=>ot._shouldAllowMigration);return P._shouldAllowMigration&&Ke.length?(P=Ke[0],_e&&(yield P._set(ie,_e.toJSON())),yield Promise.all(g.map(function(){var ot=(0,c.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(ie)}catch(ft){}});return function(Ct){return ot.apply(this,arguments)}}())),new ae(P,p,b)):new ae(P,p,b)})()}}function Ye(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(an(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Et(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bt(p))return"Blackberry";if(wn(p))return"Webos";if(un(p))return"Safari";if((p.includes("chrome/")||Tr(p))&&!p.includes("edge/"))return"Chrome";if(Vn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Et(y=(0,k.z$)()){return/firefox\//i.test(y)}function un(y=(0,k.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Tr(y=(0,k.z$)()){return/crios\//i.test(y)}function an(y=(0,k.z$)()){return/iemobile/i.test(y)}function Vn(y=(0,k.z$)()){return/android/i.test(y)}function Bt(y=(0,k.z$)()){return/blackberry/i.test(y)}function wn(y=(0,k.z$)()){return/webos/i.test(y)}function Qn(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)}function Vi(y=(0,k.z$)()){return Qn(y)||Vn(y)||wn(y)||Bt(y)||/windows phone/i.test(y)||an(y)}function Co(y,p=[]){let g;switch(y){case"Browser":g=Ye((0,k.z$)());break;case"Worker":g=`${Ye((0,k.z$)())}-${y}`;break;default:g=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ee.SDK_VERSION}/${b}`}class ni{constructor(p,g,b){this.app=p,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jt(this),this.idTokenSubscription=new jt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,g){var b=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,P;if(!b._deleted&&(b.persistenceManager=yield ae.create(b,p),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(ie){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var b;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,ie=null==S?void 0:S._redirectEventId,_e=yield g.tryRedirectSignIn(p);(!P||P===ie)&&(null==_e?void 0:_e.user)&&(S=_e.user)}return S?S._redirectEventId?(ce(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield yr(p)}catch(b){if("auth/network-request-failed"!==b.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const b=p?(0,k.m9)(p):null;return b&&ce(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return p&&ce(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,g,b){return this.registerStateListener(this.authStateSubscription,p,g,b)}onIdTokenChanged(p,g,b){return this.registerStateListener(this.idTokenSubscription,p,g,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=p&&ue(p)||g._popupRedirectResolver;ce(b,g,"argument-error"),g.redirectPersistenceManager=yield ae.create(g,[ue(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,b,S){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(ie,this,"internal-error"),ie.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,b,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Co(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function Be(y){return(0,k.m9)(y)}class jt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Jn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class gn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return et("not implemented")}_getIdTokenResponse(p){return et("not implemented")}_linkToIdToken(p,g){return et("not implemented")}_getReauthenticationResolver(p){return et("not implemented")}}function zn(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:resetPassword",on(y,p))})).apply(this,arguments)}function Lt(y,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bi(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",on(y,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPassword",on(y,p))})).apply(this,arguments)}function Ui(y,p){return H.apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:sendOobCode",on(y,p))})).apply(this,arguments)}function fe(y,p){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function ge(y,p){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function He(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function Xn(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithEmailLink",on(y,p))})).apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithEmailLink",on(y,p))})).apply(this,arguments)}class To extends gn{constructor(p,g,b,S=null){super("password",b),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new To(p,g,"password")}static _fromEmailAndCode(p,g,b=null){return new To(p,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function is(y,p){return Nn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ir(y,p){return qt.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Lt(p,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function yi(y,p){return Nl.apply(this,arguments)}(p,{idToken:g,email:b._email,oobCode:b._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wn(y,p){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithIdp",on(y,p))})).apply(this,arguments)}class Es extends gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Es(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=g,P=(0,U._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const ie=new Es(b,S);return ie.idToken=P.idToken||void 0,ie.accessToken=P.accessToken||void 0,ie.secret=P.secret,ie.nonce=P.nonce,ie.pendingToken=P.pendingToken||null,ie}_getIdTokenResponse(p){return Wn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Wn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Wn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,k.xO)(g)}return p}}function ym(y,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:sendVerificationCode",on(y,p))})).apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",on(y,p))})).apply(this,arguments)}function wd(){return(wd=(0,c.Z)(function*(y,p){const g=yield kr(y,"POST","/v1/accounts:signInWithPhoneNumber",on(y,p));if(g.temporaryProof)throw ti(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const bm={USER_NOT_FOUND:"user-not-found"};function Cd(){return(Cd=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",on(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bm)})).apply(this,arguments)}class sa extends gn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new sa({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new sa({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Jc(y,p){return zs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function vm(y,p){return wd.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Em(y,p){return Cd.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:P}=p;return b||g||S||P?new sa({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:P}):null}}class Io{constructor(p){var g,b,S,P,ie,_e;const Ke=(0,k.zd)((0,k.pd)(p)),ot=null!==(g=Ke.apiKey)&&void 0!==g?g:null,Ct=null!==(b=Ke.oobCode)&&void 0!==b?b:null,ft=function X_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ke.mode)&&void 0!==S?S:null);ce(ot&&Ct&&ft,"argument-error"),this.apiKey=ot,this.operation=ft,this.code=Ct,this.continueUrl=null!==(P=Ke.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ie=Ke.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(_e=Ke.tenantId)&&void 0!==_e?_e:null}static parseLink(p){const g=function Fl(y){const p=(0,k.zd)((0,k.pd)(y)).link,g=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||g||p||y}(p);try{return new Io(g)}catch(b){return null}}}let Xc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return To._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=Io.parseLink(b);return ce(S,"argument-error"),To._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ws{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vi extends Ws{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class oa extends vi{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ce("providerId"in g&&"signInMethod"in g,"argument-error"),Es._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ce(p.idToken||p.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return oa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return oa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:P,nonce:ie,providerId:_e}=p;if(!b&&!S&&!g&&!P||!_e)return null;try{return new oa(_e)._credential({idToken:g,accessToken:b,nonce:ie,pendingToken:P})}catch(Ke){return null}}}let Ao=(()=>{class y extends vi{constructor(){super("facebook.com")}static credential(g){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ja=(()=>{class y extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return y.credential(b,S)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Dd=(()=>{class y extends vi{constructor(){super("github.com")}static credential(g){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Hi extends gn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Wn(p,this.buildRequest())}_linkToIdToken(p,g){const b=this.buildRequest();return b.idToken=g,Wn(p,b)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Wn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:P}=g;return b&&S&&P&&b===S?new Hi(b,P):null}static _create(p,g){return new Hi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ai extends Ws{constructor(p){ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ai.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ai.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Hi.fromJSON(p);return ce(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:b}=p;if(!g||!b)return null;try{return Hi._create(b,g)}catch(S){return null}}}let Ll=(()=>{class y extends vi{constructor(){super("twitter.com")}static credential(g,b){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return y.credential(b,S)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Vl(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signUp",on(y,p))})).apply(this,arguments)}class Nr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,b,S=!1){return(0,c.Z)(function*(){const P=yield Z._fromIdTokenResponse(p,b,S),ie=gf(b);return new Nr({user:P,providerId:ie,_tokenResponse:b,operationType:g})})()}static _forOperation(p,g,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=gf(b);return new Nr({user:p,providerId:S,_tokenResponse:b,operationType:g})})()}}function gf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Td(){return(Td=(0,c.Z)(function*(y){var p;const g=Be(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Nr({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Vl(g,{returnSecureToken:!0}),S=yield Nr._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ul extends k.ZR{constructor(p,g,b,S){var P;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Ul.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,g,b,S){return new Ul(p,g,b,S)}}function jl(y,p,g,b){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ul._fromErrorAndOperation(y,P,p,b):P})}function ws(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function eu(){return(eu=(0,c.Z)(function*(y,p){const g=(0,k.m9)(y);yield Ks(!0,g,p);const{providerUserInfo:b}=yield Gn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=ws(b||[]);return g.providerData=g.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function On(y,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(y,p,g=!1){const b=yield ar(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Nr._forOperation(y,"link",b)})).apply(this,arguments)}function Ks(y,p,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(y,p,g){yield yr(p);const S=!1===y?"provider-already-linked":"no-such-provider";ce(ws(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Id(y,p){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(y,p,g=!1){const{auth:b}=y,S="reauthenticate";try{const P=yield ar(y,jl(b,S,p,y),g);ce(P.idToken,b,"internal-error");const ie=ct(P.idToken);ce(ie,b,"internal-error");const{sub:_e}=ie;return ce(y.uid===_e,b,"user-mismatch"),Nr._forOperation(y,S,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ie(b,"user-mismatch"),P}})).apply(this,arguments)}function Mo(y,p){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,p,g=!1){const b="signIn",S=yield jl(y,b,p),P=yield Nr._fromIdTokenResponse(y,b,S);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function cr(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,c.Z)(function*(y,p){return Mo(Be(y),p)})).apply(this,arguments)}function $i(y,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(y,p){const g=(0,k.m9)(y);return yield Ks(!1,g,p.providerId),On(g,p)})).apply(this,arguments)}function Zs(y,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(y,p){return Id((0,k.m9)(y),p)})).apply(this,arguments)}function Hl(y,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithCustomToken",on(y,p))})).apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(y,p){const g=Be(y),b=yield Hl(g,{token:p,returnSecureToken:!0}),S=yield Nr._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class bt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?$l._fromServerResponse(p,g):Ie(p,"internal-error")}}class $l extends bt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new $l(g)}}function Ga(y,p,g){var b;ce((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ce(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ce(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ce(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function zl(){return(zl=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&Ga(b,S,g),yield ge(b,S)})).apply(this,arguments)}function tu(){return(tu=(0,c.Z)(function*(y,p,g){yield zn((0,k.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(y,p){yield Bi((0,k.m9)(y),{oobCode:p})})).apply(this,arguments)}function Yt(y,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(y,p){const g=(0,k.m9)(y),b=yield zn(g,{oobCode:p}),S=b.requestType;switch(ce(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(b.mfaInfo,g,"internal-error");default:ce(b.email,g,"internal-error")}let P=null;return b.mfaInfo&&(P=bt._fromServerResponse(Be(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function la(){return(la=(0,c.Z)(function*(y,p){const{data:g}=yield Yt((0,k.m9)(y),p);return g.email})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(y,p,g){const b=Be(y),S=yield Vl(b,{returnSecureToken:!0,email:p,password:g}),P=yield Nr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Ad(){return(Ad=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};ce(g.handleCodeInApp,b,"argument-error"),g&&Ga(b,S,g),yield He(b,S)})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y),S=Xc.credentialWithLink(p,g||$e());return ce(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),cr(b,S)})).apply(this,arguments)}function Fr(y,p){return Si.apply(this,arguments)}function Si(){return(Si=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:createAuthUri",on(y,p))})).apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(y,p){const b={identifier:p,continueUri:Mt()?$e():"http://localhost"},{signinMethods:S}=yield Fr((0,k.m9)(y),b);return S||[]})).apply(this,arguments)}function au(){return(au=(0,c.Z)(function*(y,p){const g=(0,k.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ga(g.auth,S,p);const{email:P}=yield fe(g.auth,S);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Ga(b.auth,P,g);const{email:ie}=yield Xn(b.auth,P);ie!==y.email&&(yield y.reload())})).apply(this,arguments)}function lu(y,p){return za.apply(this,arguments)}function za(){return(za=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const b=(0,k.m9)(y),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},ie=yield ar(b,lu(b.auth,P));b.displayName=ie.displayName||null,b.photoURL=ie.photoUrl||null;const _e=b.providerData.find(({providerId:Ke})=>"password"===Ke);_e&&(_e.displayName=b.displayName,_e.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ie)})).apply(this,arguments)}function du(y,p,g){return xo.apply(this,arguments)}function xo(){return(xo=(0,c.Z)(function*(y,p,g){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const ie=yield ar(y,Lt(b,P));yield y._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Oo{constructor(p,g,b={}){this.isNewUser=p,this.providerId=g,this.profile=b}}class xd extends Oo{constructor(p,g,b,S){super(p,g,b),this.username=S}}class Od extends Oo{constructor(p,g){super(p,"facebook.com",g)}}class Ro extends xd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class eo extends Oo{constructor(p,g){super(p,"google.com",g)}}class hu extends xd{constructor(p,g,b){super(p,"twitter.com",g,b)}}function zr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Md(y){var p,g;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const ie=null===(g=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(ie)return new Oo(P,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!b)return null;switch(b){case"facebook.com":return new Od(P,S);case"github.com":return new Ro(P,S);case"google.com":return new eo(P,S);case"twitter.com":return new hu(P,S,y.screenName||null);case"custom":case"anonymous":return new Oo(P,null);default:return new Oo(P,b,S)}}(g)}class Ds{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Ds("enroll",p)}static _fromMfaPendingCredential(p){return new Ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,b;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Wa{constructor(p,g,b){this.session=p,this.hints=g,this.signInResolver=b}static _fromError(p,g){const b=Be(p),S=g.customData._serverResponse,P=(S.mfaInfo||[]).map(_e=>bt._fromServerResponse(b,_e));ce(S.mfaPendingCredential,b,"internal-error");const ie=Ds._fromMfaPendingCredential(S.mfaPendingCredential);return new Wa(ie,P,function(){var _e=(0,c.Z)(function*(Ke){const ot=yield Ke._process(b,ie);delete S.mfaInfo,delete S.mfaPendingCredential;const Ct=Object.assign(Object.assign({},S),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(g.operationType){case"signIn":const ft=yield Nr._fromIdTokenResponse(b,g.operationType,Ct);return yield b._updateCurrentUser(ft.user),ft;case"reauthenticate":return ce(g.user,b,"internal-error"),Nr._forOperation(g.user,g.operationType,Ct);default:Ie(b,"internal-error")}});return function(Ke){return _e.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function hr(y,p){return nn(y,"POST","/v2/accounts/mfaEnrollment:start",on(y,p))}class Ts{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>bt._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ts(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Ds._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var b=this;return(0,c.Z)(function*(){const S=p,P=yield b.getSession(),ie=yield ar(b.user,S._process(b.user.auth,P,g));return yield b.user._updateTokensIfNecessary(ie),b.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),P=yield ar(g.user,function Cm(y,p){return nn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",on(y,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ie})=>ie!==b),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const da=new WeakMap,mu="__sak";class ko{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(mu,"1"),this.storage.removeItem(mu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const bn=(()=>{class y extends ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pd(){const y=(0,k.z$)();return un(y)||Qn(y)}()&&function lr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),P=this.localCache[b];S!==P&&g(b,P,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((_e,Ke,ot)=>{this.notifyListeners(_e,ot)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(S);if(g.newValue!==_e)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const P=()=>{const _e=this.storage.getItem(S);!b&&this.localCache[S]===_e||this.notifyListeners(S,_e)},ie=this.storage.getItem(S);!function $s(){return(0,k.w1)()&&10===document.documentMode}()||ie===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,P=this;return(0,c.Z)(function*(){yield S().call(P,g,b),P.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const P=yield b().call(S,g);return S.localCache[g]=JSON.stringify(P),P})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),Is=(()=>{class y extends ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let no=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(P=>P.isListeningto(g));if(b)return b;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:P,eventType:ie,data:_e}=S.data,Ke=b.handlersMap[ie];if(!(null==Ke?void 0:Ke.size))return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:ie});const ot=Array.from(Ke).map(function(){var ft=(0,c.Z)(function*(Yn){return Yn(S.origin,_e)});return function(Yn){return ft.apply(this,arguments)}}()),Ct=yield function gu(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return p.apply(this,arguments)}}()))}(ot);S.ports[0].postMessage({status:"done",eventId:P,eventType:ie,response:Ct})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ro(y="",p=10){let g="";for(let b=0;b<p;b++)g+=Math.floor(10*Math.random());return y+g}class ii{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,b=50){var S=this;return(0,c.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ie,_e;return new Promise((Ke,ot)=>{const Ct=ro("",20);P.port1.start();const ft=setTimeout(()=>{ot(new Error("unsupported_event"))},b);_e={messageChannel:P,onMessage(Yn){const xi=Yn;if(xi.data.eventId===Ct)switch(xi.data.status){case"ack":clearTimeout(ft),ie=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),Ke(xi.data.response);break;default:clearTimeout(ft),clearTimeout(ie),ot(new Error("invalid_response"))}}},S.handlers.add(_e),P.port1.addEventListener("message",_e.onMessage),S.target.postMessage({eventType:p,eventId:Ct,data:g},[P.port2])}).finally(()=>{_e&&S.removeMessageHandler(_e)})})()}}function kt(){return window}function Tn(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function io(){return(io=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Mi="firebaseLocalStorageDb",Lr="firebaseLocalStorage",so="fbase_key";class wt{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function os(y,p){return y.transaction([Lr],p?"readwrite":"readonly").objectStore(Lr)}function fr(){const y=indexedDB.open(Mi,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Lr,{keyPath:so})}catch(S){g(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Lr)?p(b):(b.close(),yield function si(){const y=indexedDB.deleteDatabase(Mi);return new wt(y).toPromise()}(),p(yield fr()))}))})}function wi(y,p,g){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(y,p,g){const b=os(y,!0).put({[so]:p,value:g});return new wt(b).toPromise()})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(y,p){const g=os(y,!1).get(p),b=yield new wt(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Wr(y,p){const g=os(y,!0).delete(p);return new wt(g).toPromise()}const as=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield fr()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const P=yield b._openDb();return yield g(P)}catch(P){if(S++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Tn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=no._getInstance(function Xl(){return Tn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(S,P){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Po(){return io.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ii(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Jl(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield fr();return yield wi(g,mu,"1"),yield Wr(g,mu),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(P=>wi(P,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(P=>function _u(y,p){return Se.apply(this,arguments)}(P,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>Wr(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(ie=>{const _e=os(ie,!1).getAll();return new wt(_e).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:ie,value:_e}of b)P.add(ie),JSON.stringify(g.localCache[ie])!==JSON.stringify(_e)&&(g.notifyListeners(ie,_e),S.push(ie));for(const ie of Object.keys(g.localCache))g.localCache[ie]&&!P.has(ie)&&(g.notifyListeners(ie,null),S.push(ie));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const P of Array.from(S))P(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function As(y,p){return nn(y,"POST","/v2/accounts/mfaSignIn:start",on(y,p))}function vt(){return(vt=(0,c.Z)(function*(y){return(yield nn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function oo(y){return new Promise((p,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const P=ve("internal-error");P.customData=S,g(P)},b.type="text/javascript",b.charset="UTF-8",function qa(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function ao(y){return`__${y}${Math.floor(1e6*Math.random())}`}const zi=1e12;class vf{constructor(p){this.auth=p,this.counter=zi,this._widgets=new Map}render(p,g){const b=this.counter;return this._widgets.set(b,new yu(p,this.auth.name,g||{})),this.counter++,b}reset(p){var g;const b=p||zi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(p){var g;return(null===(g=this._widgets.get(p||zi))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(p||zi))||void 0===b||b.execute(),""})()}}class yu{constructor(p,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ce(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qn(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fo=ao("rcb"),Vr=new tn(3e4,6e4);class Tm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,g=""){return ce(function ty(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(kt().grecaptcha):new Promise((b,S)=>{const P=kt().setTimeout(()=>{S(ve(p,"network-request-failed"))},Vr.get());kt()[Fo]=()=>{kt().clearTimeout(P),delete kt()[Fo];const _e=kt().grecaptcha;if(!_e)return void S(ve(p,"internal-error"));const Ke=_e.render;_e.render=(ot,Ct)=>{const ft=Ke(ot,Ct);return this.counter++,ft},this.hostLanguage=g,b(_e)},oo(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Fo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),S(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bf{load(p){return(0,c.Z)(function*(){return new vf(p)})()}clearedOneInstance(){}}const vu="recaptcha",Ef={theme:"light",type:"image"};class wf{constructor(p,g=Object.assign({},Ef),b){this.parameters=g,this.type=vu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Be(b),this.isInvisible="invisible"===this.parameters.size,ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ce(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bf:new Tm,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(g)||new Promise(P=>{const ie=_e=>{!_e||(p.tokenChangeListeners.delete(ie),P(_e))};p.tokenChangeListeners.add(ie),p.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof p)p(g);else if("string"==typeof p){const b=kt()[p];"function"==typeof b&&b(g)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ce(Mt()&&!Tn(),p.auth,"internal-error"),yield function Nd(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ec(y){return vt.apply(this,arguments)}(p.auth);ce(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ls{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=sa._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ln(){return(ln=(0,c.Z)(function*(y,p,g){const b=Be(y),S=yield pr(b,p,(0,k.m9)(g));return new ls(S,P=>cr(b,P))})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y);yield Ks(!1,b,"phone");const S=yield pr(b.auth,p,(0,k.m9)(g));return new ls(S,P=>$i(b,P))})).apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y),S=yield pr(b.auth,p,(0,k.m9)(g));return new ls(S,P=>Zs(b,P))})).apply(this,arguments)}function pr(y,p,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y,p,g){var b;const S=yield g.verify();try{let P;if(ce("string"==typeof S,y,"argument-error"),ce(g.type===vu,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const ie=P.session;if("phoneNumber"in P)return ce("enroll"===ie.type,y,"internal-error"),(yield hr(y,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ce("signin"===ie.type,y,"internal-error");const _e=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return ce(_e,y,"missing-multi-factor-info"),(yield As(y,{mfaPendingCredential:ie.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield ym(y,{phoneNumber:P.phoneNumber,recaptchaToken:S});return ie}}finally{g._reset()}})).apply(this,arguments)}function Ss(){return(Ss=(0,c.Z)(function*(y,p){yield On((0,k.m9)(y),p)})).apply(this,arguments)}let Ci=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Be(g)}verifyPhoneNumber(g,b){return pr(this.auth,g,(0,k.m9)(b))}static credential(g,b){return sa._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?sa._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Lo(y,p){return p?ue(p):(ce(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Fd extends gn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Wn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Wn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ya(y){return Mo(y.auth,new Fd(y),y.bypassAuthState)}function Df(y){const{auth:p,user:g}=y;return ce(g,p,"internal-error"),Id(g,new Fd(y),y.bypassAuthState)}function Ld(y){return cs.apply(this,arguments)}function cs(){return(cs=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return ce(g,p,"internal-error"),On(g,new Fd(y),y.bypassAuthState)})).apply(this,arguments)}class Kr{constructor(p,g,b,S,P=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:P,tenantId:ie,error:_e,type:Ke}=p;if(_e)return void g.reject(_e);const ot={auth:g.auth,requestUri:b,sessionId:S,tenantId:ie||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ke)(ot))}catch(Ct){g.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ya;case"linkViaPopup":case"linkViaRedirect":return Ld;case"reauthViaPopup":case"reauthViaRedirect":return Df;default:Ie(this.auth,"internal-error")}}resolve(p){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tc=new tn(2e3,1e4);function us(){return(us=(0,c.Z)(function*(y,p,g){const b=Be(y);qe(y,p,Ws);const S=Lo(b,g);return new ga(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Ws);const S=Lo(b.auth,g);return new ga(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function Vd(){return(Vd=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Ws);const S=Lo(b.auth,g);return new ga(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let ga=(()=>{class y extends Kr{constructor(g,b,S,P,ie){super(g,b,P,ie),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return ce(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){le(1===g.filter.length,"Popup operations only handle one event");const b=ro();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,tc.get())};g()}}return y.currentPopupAction=null,y})();const Qa=new Map;class Ud extends Kr{constructor(p,g,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=Qa.get(g.auth._key());if(!b){try{const P=(yield function D(y,p){return T.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;b=()=>Promise.resolve(P)}catch(S){b=()=>Promise.reject(S)}Qa.set(g.auth._key(),b)}return g.bypassAuthState||Qa.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,g().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,c.Z)(function*(y,p){const g=Ve(p),b=pe(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function R(y,p){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(y,p){return pe(y)._set(Ve(p),"true")})).apply(this,arguments)}function pe(y){return ue(y._redirectPersistence)}function Ve(y){return we("pendingRedirect",y.config.apiKey,y.name)}function St(){return(St=(0,c.Z)(function*(y,p,g){const b=Be(y);qe(y,p,Ws);const S=Lo(b,g);return yield R(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Ws);const S=Lo(b.auth,g);yield R(S,b.auth);const P=yield jd(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Vo(){return(Vo=(0,c.Z)(function*(y,p,g){const b=(0,k.m9)(y);qe(b.auth,p,Ws);const S=Lo(b.auth,g);yield Ks(!1,b,p.providerId),yield R(S,b.auth);const P=yield jd(b);return S._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(y,p){return yield Be(y)._initializationPromise,ds(y,p,!1)})).apply(this,arguments)}function ds(y,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(y,p,g=!1){const b=Be(y),S=Lo(b,p),ie=yield new Ud(b,S,g).execute();return ie&&!g&&(delete ie.user._redirectEventId,yield b._persistUserIfCurrent(ie.user),yield b._setRedirectUser(null,p)),ie})).apply(this,arguments)}function jd(y){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(y){const p=ro(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class br{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(g=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Hd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var b;if(p.error&&!Eu(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const b=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ur(p))}saveEventToCache(p){this.cachedEventUids.add(ur(p)),this.lastProcessedEventTime=Date.now()}}function ur(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Eu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function $d(y){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(y,p={}){return nn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Tf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ny=/^https?/;function ho(){return(ho=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield $d(y);for(const g of p)try{if(el(g))return}catch(b){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function el(y){const p=$e(),{protocol:g,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const ie=new URL(y);return""===ie.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&ie.hostname===b}if(!ny.test(g))return!1;if(Tf.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const iy=new tn(3e4,6e4);function If(){const y=kt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Gd=null;function Sf(y){return Gd=Gd||function Af(y){return new Promise((p,g)=>{var b,S,P;function ie(){If(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{If(),g(ve(y,"network-request-failed"))},timeout:iy.get()})}if(null===(S=null===(b=kt().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=kt().gapi)||void 0===P?void 0:P.load)){const _e=ao("iframefcb");return kt()[_e]=()=>{gapi.load?ie():g(ve(y,"network-request-failed"))},oo(`https://apis.google.com/js/api.js?onload=${_e}`).catch(Ke=>g(Ke))}ie()}}).catch(p=>{throw Gd=null,p})}(y),Gd}const Mf=new tn(5e3,15e3),zd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nl(y){const p=y.config;ce(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?ir(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ee.SDK_VERSION},S=tl.get(y.config.apiHost);S&&(b.eid=S);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${g}?${(0,k.xO)(b).slice(1)}`}function Wd(){return Wd=(0,c.Z)(function*(y){const p=yield Sf(y),g=kt().gapi;return ce(g,y,"internal-error"),p.open({where:document.body,url:nl(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zd,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(P,ie){yield b.restyle({setHideOnLeave:!1});const _e=ve(y,"network-request-failed"),Ke=kt().setTimeout(()=>{ie(_e)},Mf.get());function ot(){kt().clearTimeout(Ke),P(b)}b.ping(ot).then(ot,()=>{ie(_e)})});return function(P,ie){return S.apply(this,arguments)}}()))}),Wd.apply(this,arguments)}const Of={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function il(y,p,g,b,S,P){ce(y.config.authDomain,y,"auth-domain-config-required"),ce(y.config.apiKey,y,"invalid-api-key");const ie={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ee.SDK_VERSION,eventId:S};if(p instanceof Ws){p.setDefaultLanguage(y.languageCode),ie.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(ie.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ke,ot]of Object.entries(P||{}))ie[Ke]=ot}if(p instanceof vi){const Ke=p.getScopes().filter(ot=>""!==ot);Ke.length>0&&(ie.scopes=Ke.join(","))}y.tenantId&&(ie.tid=y.tenantId);const _e=ie;for(const Ke of Object.keys(_e))void 0===_e[Ke]&&delete _e[Ke];return`${function Rm({config:y}){return y.emulator?ir(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(_e).slice(1)}`}const Kn="webStorageSupport";class Nf extends class Pf{constructor(p){this.factorId=p}_process(p,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,b);case"signin":return this._finalizeSignIn(p,g.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nf(p)}_finalizeEnroll(p,g,b){return function Rd(y,p){return nn(y,"POST","/v2/accounts/mfaEnrollment:finalize",on(y,p))}(p,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function rt(y,p){return nn(y,"POST","/v2/accounts/mfaSignIn:finalize",on(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let km=(()=>{class y{constructor(){}static assertion(g){return Nf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Pm="@firebase/auth",Nm="0.19.12";class ac{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fo(){return window}function lc(){return(lc=(0,c.Z)(function*(y,p,g){var b;const{BuildInfo:S}=fo();le(p.sessionId,"AuthEvent did not contain a session ID");const P=yield I0(p.sessionId),ie={};return Qn()?ie.ibi=S.packageName:Vn()?ie.apn=S.packageName:Ie(y,"operation-not-supported-in-this-environment"),S.displayName&&(ie.appDisplayName=S.displayName),ie.sessionId=P,il(y,g,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,ie)})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(y){const{BuildInfo:p}=fo(),g={};Qn()?g.iosBundleId=p.packageName:Vn()?g.androidPackageName=p.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield $d(y,g)})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(y,p,g){const{cordova:b}=fo();let S=()=>{};try{yield new Promise((P,ie)=>{let _e=null;function Ke(){var ft;P();const Yn=null===(ft=b.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ot(){_e||(_e=window.setTimeout(()=>{ie(ve(y,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}p.addPassiveListener(Ke),document.addEventListener("resume",ot,!1),Vn()&&document.addEventListener("visibilitychange",Ct,!1),S=()=>{p.removePassiveListener(Ke),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Ct,!1),_e&&window.clearTimeout(_e)}})}finally{S()}})).apply(this,arguments)}function I0(y){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(y){const p=sy(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sy(y){if(le(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}!function Lf(y){(0,ee._registerComponent)(new W.wA("auth",(p,{options:g})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:P,authDomain:ie}=b.options;return((_e,Ke)=>{ce(P&&!P.includes(":"),"invalid-api-key",{appName:_e.name}),ce(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:_e.name});const ot={apiKey:P,authDomain:ie,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Co(y)},Ct=new ni(_e,Ke,ot);return function Ce(y,p){const g=(null==p?void 0:p.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ue);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Ct,g),Ct})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,b)=>{p.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new W.wA("auth-internal",p=>{const g=Be(p.getProvider("auth").getImmediate());return new ac(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Pm,Nm,function Ff(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ee.registerVersion)(Pm,Nm,"esm2017")}("Browser");class ol extends br{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function oy(y){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(y){const p=yield Uo()._get(Qd(y));return p&&(yield Uo()._remove(Qd(y))),p})).apply(this,arguments)}function Uf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Uo(){return ue(bn)}function Qd(y){return we("authEvent",y.config.apiKey,y.name)}function hs(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,k.zd)(g.join("?"))}function jf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function va(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function jm(y=(0,k.z$)()){return!("file:"!==va()&&"ionic:"!==va()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const y=self.localStorage,p=ro();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Du(y=(0,k.z$)()){return function A0(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function S0(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return jo()&&(0,k.hl)()}return!1}function jo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function xs(){return(function Cu(){return"http:"===va()||"https:"===va()}()||(0,k.ru)()||jm())&&!function Hm(){return(0,k.b$)()||(0,k.UG)()}()&&oi()&&!jo()}function Xd(){return jm()&&"undefined"!=typeof document}function ba(){return(ba=(0,c.Z)(function*(){return!!Xd()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const qi={LOCAL:"local",NONE:"none",SESSION:"session"},Tu=ce,eh="persistence";function Iu(y){return th.apply(this,arguments)}function th(){return(th=(0,c.Z)(function*(y){yield y._initializationPromise;const p=rh(),g=we(eh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function rh(){var y;try{return(null===(y=function Ea(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const $m=ce;class Os{constructor(){this.browserResolver=ue(class sc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=ds}_openPopup(p,g,b,S){var P=this;return(0,c.Z)(function*(){var ie;le(null===(ie=P.eventManagers[p._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const _e=il(p,g,b,$e(),S);return function ya(y,p,g,b=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),ie=Math.max((window.screen.availWidth-b)/2,0).toString();let _e="";const Ke=Object.assign(Object.assign({},Of),{width:b.toString(),height:S.toString(),top:P,left:ie}),ot=(0,k.z$)().toLowerCase();g&&(_e=Tr(ot)?"_blank":g),Et(ot)&&(p=p||"http://localhost",Ke.scrollbars="yes");const Ct=Object.entries(Ke).reduce((Yn,[xi,wa])=>`${Yn}${xi}=${wa},`,"");if(function Hs(y=(0,k.z$)()){var p;return Qn(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ot)&&"_self"!==_e)return function xm(y,p){const g=document.createElement("a");g.href=y,g.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(p||"",_e),new kf(null);const ft=window.open(p||"",_e,Ct);ce(ft,y,"popup-blocked");try{ft.focus()}catch(Yn){}return new kf(ft)}(p,_e,ro())})()}_openRedirect(p,g,b,S){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(p),function Dt(y){kt().location.href=y}(il(p,g,b,$e(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:P}=this.eventManagers[g];return S?Promise.resolve(S):(le(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const b=yield function Sm(y){return Wd.apply(this,arguments)}(p),S=new br(p);return b.register("authEvent",P=>(ce(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Kn,{type:Kn},S=>{var P;const ie=null===(P=null==S?void 0:S[0])||void 0===P?void 0:P[Kn];void 0!==ie&&g(!!ie),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ry(y){return ho.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Vi()||un()||Qn()}}),this.cordovaResolver=ue(class Jd{constructor(){this._redirectPersistence=Is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ds}_initialize(p){var g=this;return(0,c.Z)(function*(){const b=p._key();let S=g.eventManagers.get(b);return S||(S=new ol(p),g.eventManagers.set(b,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,b,S){var P=this;return(0,c.Z)(function*(){!function Bf(y){var p,g,b,S,P,ie,_e,Ke,ot,Ct;const ft=fo();ce("function"==typeof(null===(p=null==ft?void 0:ft.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(void 0!==(null===(g=null==ft?void 0:ft.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce("function"==typeof(null===(P=null===(S=null===(b=null==ft?void 0:ft.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(Ke=null===(_e=null===(ie=null==ft?void 0:ft.cordova)||void 0===ie?void 0:ie.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ke?void 0:Ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(Ct=null===(ot=null==ft?void 0:ft.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Ct?void 0:Ct.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const ie=yield P._initialize(p);yield ie.initialized(),ie.resetRedirect(),function se(){Qa.clear()}(),yield P._originValidation(p);const _e=function Bo(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Uf(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,b,S);yield function Vm(y,p){return Uo()._set(Qd(y),p)}(p,_e);const Ke=yield function Lm(y,p,g){return lc.apply(this,arguments)}(p,_e,g),ot=yield function sl(y){const{cordova:p}=fo();return new Promise(g=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function bs(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ke);return function Vf(y,p,g){return wu.apply(this,arguments)}(p,ie,ot)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Yd(y){return Di.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:P}=fo(),ie=setTimeout((0,c.Z)(function*(){yield oy(p),g.onEvent(jf())}),500),_e=function(){var Ct=(0,c.Z)(function*(ft){clearTimeout(ie);const Yn=yield oy(p);let xi=null;Yn&&(null==ft?void 0:ft.url)&&(xi=function hc(y,p){var g,b;const S=function po(y){const p=hs(y),g=p.link?decodeURIComponent(p.link):void 0,b=hs(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return hs(S).link||S||b||g||y}(p);if(S.includes("/__/auth/callback")){const P=hs(S),ie=P.firebaseError?function Bm(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,_e=null===(b=null===(g=null==ie?void 0:ie.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Ke=_e?ve(_e):null;return Ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Yn,ft.url)),g.onEvent(xi||jf())});return function(Yn){return Ct.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,_e);const Ke=S,ot=`${P.packageName.toLowerCase()}://`;fo().handleOpenURL=function(){var Ct=(0,c.Z)(function*(ft){if(ft.toLowerCase().startsWith(ot)&&_e({url:ft}),"function"==typeof Ke)try{Ke(ft)}catch(Yn){console.error(Yn)}});return function(ft){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Is,this._completeRedirectFn=ds}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,b,S){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,g,b,S)})()}_openRedirect(p,g,b,S){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,g,b,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Xd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $m(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Qr(){return ba.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function ih(y){return y.unwrap()}function Hf(y){return Au(y)}function Au(y){const{_tokenResponse:p}=y instanceof k.ZR?y.customData:y;if(!p)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ci.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=ja;break;case"facebook.com":b=Ao;break;case"github.com":b=Dd;break;case"twitter.com":b=Ll;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:ie,pendingToken:_e,nonce:Ke}=p;return P||ie||S||_e?_e?g.startsWith("saml.")?Hi._create(g,_e):Es._fromParams({providerId:g,signInMethod:g,pendingToken:_e,idToken:S,accessToken:P}):new oa(g).credential({idToken:S,accessToken:P,rawNonce:Ke}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function mr(y,p){return p.catch(g=>{throw g instanceof k.ZR&&function uy(y,p){var g;const b=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Gm(y,function Ql(y,p){var g;const b=(0,k.m9)(y),S=p;return ce(p.customData.operationType,b,"argument-error"),ce(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Wa._fromError(b,S)}(y,p));else if(b){const S=Au(p),P=p;S&&(P.credential=S,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Hf(g),additionalUserInfo:zr(g),user:Ki.getOrCreate(S)}})}function mc(y,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:b=>mr(y,g.confirm(b))}})).apply(this,arguments)}class Gm{constructor(p,g){this.resolver=g,this.auth=function cy(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return mr(ih(this.auth),this.resolver.resolveSignIn(p))}}class Ki{constructor(p){this._delegate=p,this.multiFactor=function kd(y){const p=(0,k.m9)(y);return da.has(p)||da.set(p,Ts._fromUser(p)),da.get(p)}(p)}static getOrCreate(p){return Ki.USER_MAP.has(p)||Ki.USER_MAP.set(p,new Ki(p)),Ki.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return mr(g.auth,$i(g._delegate,p))})()}linkWithPhoneNumber(p,g){var b=this;return(0,c.Z)(function*(){return mc(b.auth,function Ka(y,p,g){return tr.apply(this,arguments)}(b._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return mr(g.auth,function Im(y,p,g){return Vd.apply(this,arguments)}(g._delegate,p,Os))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield Iu(Be(g.auth)),function cn(y,p,g){return function Ja(y,p,g){return Vo.apply(this,arguments)}(y,p,g)}(g._delegate,p,Os)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return mr(g.auth,Zs(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return mc(this.auth,function bu(y,p,g){return ma.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return mr(this.auth,function nc(y,p,g){return Wi.apply(this,arguments)}(this._delegate,p,Os))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield Iu(Be(g.auth)),function Qt(y,p,g){return function Ft(y,p,g){return Zr.apply(this,arguments)}(y,p,g)}(g._delegate,p,Os)})()}sendEmailVerification(p){return function Gi(y,p){return au.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function Ha(y,p){return eu.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function uu(y,p){return du((0,k.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Sd(y,p){return du((0,k.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Za(y,p){return Ss.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ua(y,p){return cu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Zl(y,p,g){return Yl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ki.USER_MAP=new WeakMap;const Ho=ce;let $f=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Ho(S,"invalid-api-key",{appName:g.name}),Ho(S,"invalid-api-key",{appName:g.name});const P="undefined"!=typeof window?Os:void 0;this._delegate=b.initialize({options:{persistence:zm(S,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ki.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Cn(y,p,g){const b=Be(y);ce(b._canInitEmulator,b,"emulator-config-failed"),ce(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),P=dr(p),{host:ie,port:_e}=function ns(y){const p=dr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const P=S[1];return{host:P,port:Jn(b.substr(P.length+1))}}{const[P,ie]=b.split(":");return{host:P,port:Jn(ie)}}}(p);b.config.emulator={url:`${P}//${ie}${null===_e?"":`:${_e}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ie,port:_e,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function _i(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function nu(y,p){return Pe.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Yt(this._delegate,g)}confirmPasswordReset(g,b){return function Wl(y,p,g){return tu.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,c.Z)(function*(){return mr(S._delegate,function ca(y,p,g){return Ei.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Kl(y,p){return Xs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function ou(y,p){const g=Io.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Ho(xs(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function uo(y,p){return Yr.apply(this,arguments)}(g._delegate,Os);return b?mr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Zn(y,p){Be(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:P,error:ie,complete:_e}=gr(g,b,S);return this._delegate.onAuthStateChanged(P,ie,_e)}onIdTokenChanged(g,b,S){const{next:P,error:ie,complete:_e}=gr(g,b,S);return this._delegate.onIdTokenChanged(P,ie,_e)}sendSignInLinkToEmail(g,b){return function su(y,p,g){return Ad.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Gl(y,p,g){return zl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let S;switch(function ly(y,p){Tu(Object.values(qi).includes(p),y,"invalid-persistence-type"),(0,k.b$)()?Tu(p!==qi.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Tu(p===qi.NONE,y,"unsupported-persistence-type"):jo()?Tu(p===qi.NONE||p===qi.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Tu(p===qi.NONE||oi(),y,"unsupported-persistence-type")}(b._delegate,g),g){case qi.SESSION:S=Is;break;case qi.LOCAL:S=(yield ue(as)._isAvailable())?as:bn;break;case qi.NONE:S=X;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return mr(this._delegate,function Bl(y){return Td.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return mr(this._delegate,cr(this._delegate,g))}signInWithCustomToken(g){return mr(this._delegate,function Ys(y,p){return Qs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return mr(this._delegate,function iu(y,p,g){return cr((0,k.m9)(y),Xc.credential(p,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return mr(this._delegate,function ql(y,p,g){return Js.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return mc(this._delegate,function Cf(y,p,g){return ln.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Ho(xs(),b._delegate,"operation-not-supported-in-this-environment"),mr(b._delegate,function Ms(y,p,g){return us.apply(this,arguments)}(b._delegate,g,Os))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Ho(xs(),b._delegate,"operation-not-supported-in-this-environment"),yield Iu(b._delegate),function it(y,p,g){return function Ot(y,p,g){return St.apply(this,arguments)}(y,p,g)}(b._delegate,g,Os)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Fn(y,p){return la.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=qi,y})();function gr(y,p,g){let b=y;"function"!=typeof y&&({next:b,error:p,complete:g}=y);const S=b;return{next:ie=>S(ie&&Ki.getOrCreate(ie)),error:p,complete:g}}function zm(y,p){const g=function nh(y,p){const g=rh();if(!g)return[];const b=we(eh,y,p);switch(g.getItem(b)){case qi.NONE:return[X];case qi.LOCAL:return[as,Is];case qi.SESSION:return[Is];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(as)&&g.push(as),"undefined"!=typeof window)for(const b of[bn,Is])g.includes(b)||g.push(b);return g.includes(X)||g.push(X),g}class Gf{constructor(){this.providerId="phone",this._delegate=new Ci(ih($.Z.auth()))}static credential(p,g){return Ci.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Gf.PHONE_SIGN_IN_METHOD=Ci.PHONE_SIGN_IN_METHOD,Gf.PROVIDER_ID=Ci.PROVIDER_ID;const dy=ce;class hy{constructor(p,g,b=$.Z.app()){var S;dy(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new wf(p,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wm(y){y.INTERNAL.registerComponent(new W.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new $f(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xc,FacebookAuthProvider:Ao,GithubAuthProvider:Dd,GoogleAuthProvider:ja,OAuthProvider:oa,SAMLAuthProvider:Ai,PhoneAuthProvider:Gf,PhoneMultiFactorGenerator:km,RecaptchaVerifier:hy,TwitterAuthProvider:Ll,Auth:$f,AuthCredential:gn,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}($.Z)},1135:(ne,G,A)=>{A.d(G,{X:()=>$});var c=A(7579);class $ extends c.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const U=super._subscribe(ee);return!U.closed&&ee.next(this._value),U}getValue(){const{hasError:ee,thrownError:U,_value:te}=this;if(ee)throw U;return this._throwIfClosed(),te}next(ee){super.next(this._value=ee)}}},8306:(ne,G,A)=>{A.d(G,{y:()=>F});var c=A(930),$=A(727),k=A(8822),ee=A(4671);var W=A(2416),Q=A(576),z=A(2806);let F=(()=>{class be{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const de=new be;return de.source=this,de.operator=ke,de}subscribe(ke,de,he){const je=function Te(be){return be&&be instanceof c.Lv||function q(be){return be&&(0,Q.m)(be.next)&&(0,Q.m)(be.error)&&(0,Q.m)(be.complete)}(be)&&(0,$.Nn)(be)}(ke)?ke:new c.Hp(ke,de,he);return(0,z.x)(()=>{const{operator:Le,source:Ie}=this;je.add(Le?Le.call(je,Ie):Ie?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(ke){try{return this._subscribe(ke)}catch(de){ke.error(de)}}forEach(ke,de){return new(de=L(de))((he,je)=>{const Le=new c.Hp({next:Ie=>{try{ke(Ie)}catch(ve){je(ve),Le.unsubscribe()}},error:je,complete:he});this.subscribe(Le)})}_subscribe(ke){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(ke)}[k.L](){return this}pipe(...ke){return function te(be){return 0===be.length?ee.y:1===be.length?be[0]:function(ke){return be.reduce((de,he)=>he(de),ke)}}(ke)(this)}toPromise(ke){return new(ke=L(ke))((de,he)=>{let je;this.subscribe(Le=>je=Le,Le=>he(Le),()=>de(je))})}}return be.create=xe=>new be(xe),be})();function L(be){var xe;return null!==(xe=null!=be?be:W.v.Promise)&&void 0!==xe?xe:Promise}},4707:(ne,G,A)=>{A.d(G,{t:()=>k});var c=A(7579),$=A(6063);class k extends c.x{constructor(U=1/0,te=1/0,W=$.l){super(),this._bufferSize=U,this._windowTime=te,this._timestampProvider=W,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,U),this._windowTime=Math.max(1,te)}next(U){const{isStopped:te,_buffer:W,_infiniteTimeWindow:Q,_timestampProvider:z,_windowTime:F}=this;te||(W.push(U),!Q&&W.push(z.now()+F)),this._trimBuffer(),super.next(U)}_subscribe(U){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(U),{_infiniteTimeWindow:W,_buffer:Q}=this,z=Q.slice();for(let F=0;F<z.length&&!U.closed;F+=W?1:2)U.next(z[F]);return this._checkFinalizedStatuses(U),te}_trimBuffer(){const{_bufferSize:U,_timestampProvider:te,_buffer:W,_infiniteTimeWindow:Q}=this,z=(Q?1:2)*U;if(U<1/0&&z<W.length&&W.splice(0,W.length-z),!Q){const F=te.now();let L=0;for(let q=1;q<W.length&&W[q]<=F;q+=2)L=q;L&&W.splice(0,L+1)}}}},7579:(ne,G,A)=>{A.d(G,{x:()=>W});var c=A(8306),$=A(727);const ee=(0,A(3888).d)(z=>function(){z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=A(8737),te=A(2806);let W=(()=>{class z extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const q=new Q(this,this);return q.operator=L,q}_throwIfClosed(){if(this.closed)throw new ee}next(L){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(L)}})}error(L){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:q}=this;for(;q.length;)q.shift().error(L)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:q,isStopped:Te,observers:be}=this;return q||Te?$.Lc:(this.currentObservers=null,be.push(L),new $.w0(()=>{this.currentObservers=null,(0,U.P)(be,L)}))}_checkFinalizedStatuses(L){const{hasError:q,thrownError:Te,isStopped:be}=this;q?L.error(Te):be&&L.complete()}asObservable(){const L=new c.y;return L.source=this,L}}return z.create=(F,L)=>new Q(F,L),z})();class Q extends W{constructor(F,L){super(),this.destination=F,this.source=L}next(F){var L,q;null===(q=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===q||q.call(L,F)}error(F){var L,q;null===(q=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===q||q.call(L,F)}complete(){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===L||L.call(F)}_subscribe(F){var L,q;return null!==(q=null===(L=this.source)||void 0===L?void 0:L.subscribe(F))&&void 0!==q?q:$.Lc}}},930:(ne,G,A)=>{A.d(G,{Hp:()=>ke,Lv:()=>q});var c=A(576),$=A(727),k=A(2416),ee=A(7849),U=A(5032);const te=z("C",void 0,void 0);function z(Ie,ve,Ae){return{kind:Ie,value:ve,error:Ae}}var F=A(3410),L=A(2806);class q extends $.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,$.Nn)(ve)&&ve.add(this)):this.destination=Le}static create(ve,Ae,qe){return new ke(ve,Ae,qe)}next(ve){this.isStopped?je(function Q(Ie){return z("N",Ie,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?je(function W(Ie){return z("E",void 0,Ie)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?je(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function be(Ie,ve){return Te.call(Ie,ve)}class xe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ve)}catch(qe){de(qe)}}error(ve){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ve)}catch(qe){de(qe)}else de(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ae){de(Ae)}}}class ke extends q{constructor(ve,Ae,qe){let Ze;if(super(),(0,c.m)(ve)||!ve)Ze={next:null!=ve?ve:void 0,error:null!=Ae?Ae:void 0,complete:null!=qe?qe:void 0};else{let ce;this&&k.v.useDeprecatedNextContext?(ce=Object.create(ve),ce.unsubscribe=()=>this.unsubscribe(),Ze={next:ve.next&&be(ve.next,ce),error:ve.error&&be(ve.error,ce),complete:ve.complete&&be(ve.complete,ce)}):Ze=ve}this.destination=new xe(Ze)}}function de(Ie){k.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Ie):(0,ee.h)(Ie)}function je(Ie,ve){const{onStoppedNotification:Ae}=k.v;Ae&&F.z.setTimeout(()=>Ae(Ie,ve))}const Le={closed:!0,next:U.Z,error:function he(Ie){throw Ie},complete:U.Z}},727:(ne,G,A)=>{A.d(G,{Lc:()=>te,w0:()=>U,Nn:()=>W});var c=A(576);const k=(0,A(3888).d)(z=>function(L){z(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((q,Te)=>`${Te+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var ee=A(8737);class U{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const be of L)be.remove(this);else L.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(be){F=be instanceof k?be.errors:[be]}const{_finalizers:Te}=this;if(Te){this._finalizers=null;for(const be of Te)try{Q(be)}catch(xe){F=null!=F?F:[],xe instanceof k?F=[...F,...xe.errors]:F.push(xe)}}if(F)throw new k(F)}}add(F){var L;if(F&&F!==this)if(this.closed)Q(F);else{if(F instanceof U){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(F)}}_hasParent(F){const{_parentage:L}=this;return L===F||Array.isArray(L)&&L.includes(F)}_addParent(F){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(F),L):L?[L,F]:F}_removeParent(F){const{_parentage:L}=this;L===F?this._parentage=null:Array.isArray(L)&&(0,ee.P)(L,F)}remove(F){const{_finalizers:L}=this;L&&(0,ee.P)(L,F),F instanceof U&&F._removeParent(this)}}U.EMPTY=(()=>{const z=new U;return z.closed=!0,z})();const te=U.EMPTY;function W(z){return z instanceof U||z&&"closed"in z&&(0,c.m)(z.remove)&&(0,c.m)(z.add)&&(0,c.m)(z.unsubscribe)}function Q(z){(0,c.m)(z)?z():z.unsubscribe()}},2416:(ne,G,A)=>{A.d(G,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ne,G,A)=>{A.d(G,{E:()=>$});const $=new(A(8306).y)(U=>U.complete())},8996:(ne,G,A)=>{A.d(G,{D:()=>ve});var c=A(8421),$=A(5363),k=A(9468),te=A(8306),Q=A(2202),z=A(576),F=A(9672);function q(Ae,qe){if(!Ae)throw new Error("Iterable cannot be null");return new te.y(Ze=>{(0,F.f)(Ze,qe,()=>{const ce=Ae[Symbol.asyncIterator]();(0,F.f)(Ze,qe,()=>{ce.next().then(et=>{et.done?Ze.complete():Ze.next(et.value)})},0,!0)})})}var Te=A(3670),be=A(8239),xe=A(1144),ke=A(6495),de=A(2206),he=A(4532),je=A(3260);function ve(Ae,qe){return qe?function Ie(Ae,qe){if(null!=Ae){if((0,Te.c)(Ae))return function ee(Ae,qe){return(0,c.Xf)(Ae).pipe((0,k.R)(qe),(0,$.Q)(qe))}(Ae,qe);if((0,xe.z)(Ae))return function W(Ae,qe){return new te.y(Ze=>{let ce=0;return qe.schedule(function(){ce===Ae.length?Ze.complete():(Ze.next(Ae[ce++]),Ze.closed||this.schedule())})})}(Ae,qe);if((0,be.t)(Ae))return function U(Ae,qe){return(0,c.Xf)(Ae).pipe((0,k.R)(qe),(0,$.Q)(qe))}(Ae,qe);if((0,de.D)(Ae))return q(Ae,qe);if((0,ke.T)(Ae))return function L(Ae,qe){return new te.y(Ze=>{let ce;return(0,F.f)(Ze,qe,()=>{ce=Ae[Q.h](),(0,F.f)(Ze,qe,()=>{let et,le;try{({value:et,done:le}=ce.next())}catch(ye){return void Ze.error(ye)}le?Ze.complete():Ze.next(et)},0,!0)}),()=>(0,z.m)(null==ce?void 0:ce.return)&&ce.return()})}(Ae,qe);if((0,je.L)(Ae))return function Le(Ae,qe){return q((0,je.Q)(Ae),qe)}(Ae,qe)}throw(0,he.z)(Ae)}(Ae,qe):(0,c.Xf)(Ae)}},8421:(ne,G,A)=>{A.d(G,{Xf:()=>Te});var c=A(655),$=A(1144),k=A(8239),ee=A(8306),U=A(3670),te=A(2206),W=A(4532),Q=A(6495),z=A(3260),F=A(576),L=A(7849),q=A(8822);function Te(Ie){if(Ie instanceof ee.y)return Ie;if(null!=Ie){if((0,U.c)(Ie))return function be(Ie){return new ee.y(ve=>{const Ae=Ie[q.L]();if((0,F.m)(Ae.subscribe))return Ae.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,$.z)(Ie))return function xe(Ie){return new ee.y(ve=>{for(let Ae=0;Ae<Ie.length&&!ve.closed;Ae++)ve.next(Ie[Ae]);ve.complete()})}(Ie);if((0,k.t)(Ie))return function ke(Ie){return new ee.y(ve=>{Ie.then(Ae=>{ve.closed||(ve.next(Ae),ve.complete())},Ae=>ve.error(Ae)).then(null,L.h)})}(Ie);if((0,te.D)(Ie))return he(Ie);if((0,Q.T)(Ie))return function de(Ie){return new ee.y(ve=>{for(const Ae of Ie)if(ve.next(Ae),ve.closed)return;ve.complete()})}(Ie);if((0,z.L)(Ie))return function je(Ie){return he((0,z.Q)(Ie))}(Ie)}throw(0,W.z)(Ie)}function he(Ie){return new ee.y(ve=>{(function Le(Ie,ve){var Ae,qe,Ze,ce;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,c.KL)(Ie);!(qe=yield Ae.next()).done;)if(ve.next(qe.value),ve.closed)return}catch(et){Ze={error:et}}finally{try{qe&&!qe.done&&(ce=Ae.return)&&(yield ce.call(Ae))}finally{if(Ze)throw Ze.error}}ve.complete()})})(Ie,ve).catch(Ae=>ve.error(Ae))})}},6451:(ne,G,A)=>{A.d(G,{T:()=>te});var c=A(8189),$=A(8421),k=A(515),ee=A(3269),U=A(8996);function te(...W){const Q=(0,ee.yG)(W),z=(0,ee._6)(W,1/0),F=W;return F.length?1===F.length?(0,$.Xf)(F[0]):(0,c.J)(z)((0,U.D)(F,Q)):k.E}},9646:(ne,G,A)=>{A.d(G,{of:()=>k});var c=A(3269),$=A(8996);function k(...ee){const U=(0,c.yG)(ee);return(0,$.D)(ee,U)}},5403:(ne,G,A)=>{A.d(G,{x:()=>$});var c=A(930);function $(ee,U,te,W,Q){return new k(ee,U,te,W,Q)}class k extends c.Lv{constructor(U,te,W,Q,z,F){super(U),this.onFinalize=z,this.shouldUnsubscribe=F,this._next=te?function(L){try{te(L)}catch(q){U.error(q)}}:super._next,this._error=Q?function(L){try{Q(L)}catch(q){U.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(L){U.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},262:(ne,G,A)=>{A.d(G,{K:()=>ee});var c=A(8421),$=A(5403),k=A(4482);function ee(U){return(0,k.e)((te,W)=>{let F,Q=null,z=!1;Q=te.subscribe((0,$.x)(W,void 0,void 0,L=>{F=(0,c.Xf)(U(L,ee(U)(te))),Q?(Q.unsubscribe(),Q=null,F.subscribe(W)):z=!0})),z&&(Q.unsubscribe(),Q=null,F.subscribe(W))})}},4351:(ne,G,A)=>{A.d(G,{b:()=>k});var c=A(5577),$=A(576);function k(ee,U){return(0,$.m)(U)?(0,c.z)(ee,U,1):(0,c.z)(ee,1)}},8372:(ne,G,A)=>{A.d(G,{b:()=>ee});var c=A(4986),$=A(4482),k=A(5403);function ee(U,te=c.z){return(0,$.e)((W,Q)=>{let z=null,F=null,L=null;const q=()=>{if(z){z.unsubscribe(),z=null;const be=F;F=null,Q.next(be)}};function Te(){const be=L+U,xe=te.now();if(xe<be)return z=this.schedule(void 0,be-xe),void Q.add(z);q()}W.subscribe((0,k.x)(Q,be=>{F=be,L=te.now(),z||(z=te.schedule(Te,U),Q.add(z))},()=>{q(),Q.complete()},void 0,()=>{F=z=null}))})}},1884:(ne,G,A)=>{A.d(G,{x:()=>ee});var c=A(4671),$=A(4482),k=A(5403);function ee(te,W=c.y){return te=null!=te?te:U,(0,$.e)((Q,z)=>{let F,L=!0;Q.subscribe((0,k.x)(z,q=>{const Te=W(q);(L||!te(F,Te))&&(L=!1,F=Te,z.next(q))}))})}function U(te,W){return te===W}},9300:(ne,G,A)=>{A.d(G,{h:()=>k});var c=A(4482),$=A(5403);function k(ee,U){return(0,c.e)((te,W)=>{let Q=0;te.subscribe((0,$.x)(W,z=>ee.call(U,z,Q++)&&W.next(z)))})}},4004:(ne,G,A)=>{A.d(G,{U:()=>k});var c=A(4482),$=A(5403);function k(ee,U){return(0,c.e)((te,W)=>{let Q=0;te.subscribe((0,$.x)(W,z=>{W.next(ee.call(U,z,Q++))}))})}},8189:(ne,G,A)=>{A.d(G,{J:()=>k});var c=A(5577),$=A(4671);function k(ee=1/0){return(0,c.z)($.y,ee)}},5577:(ne,G,A)=>{A.d(G,{z:()=>Q});var c=A(4004),$=A(8421),k=A(4482),ee=A(9672),U=A(5403),W=A(576);function Q(z,F,L=1/0){return(0,W.m)(F)?Q((q,Te)=>(0,c.U)((be,xe)=>F(q,be,Te,xe))((0,$.Xf)(z(q,Te))),L):("number"==typeof F&&(L=F),(0,k.e)((q,Te)=>function te(z,F,L,q,Te,be,xe,ke){const de=[];let he=0,je=0,Le=!1;const Ie=()=>{Le&&!de.length&&!he&&F.complete()},ve=qe=>he<q?Ae(qe):de.push(qe),Ae=qe=>{be&&F.next(qe),he++;let Ze=!1;(0,$.Xf)(L(qe,je++)).subscribe((0,U.x)(F,ce=>{null==Te||Te(ce),be?ve(ce):F.next(ce)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(he--;de.length&&he<q;){const ce=de.shift();xe?(0,ee.f)(F,xe,()=>Ae(ce)):Ae(ce)}Ie()}catch(ce){F.error(ce)}}))};return z.subscribe((0,U.x)(F,ve,()=>{Le=!0,Ie()})),()=>{null==ke||ke()}}(q,Te,z,L)))}},5363:(ne,G,A)=>{A.d(G,{Q:()=>ee});var c=A(9672),$=A(4482),k=A(5403);function ee(U,te=0){return(0,$.e)((W,Q)=>{W.subscribe((0,k.x)(Q,z=>(0,c.f)(Q,U,()=>Q.next(z),te),()=>(0,c.f)(Q,U,()=>Q.complete(),te),z=>(0,c.f)(Q,U,()=>Q.error(z),te)))})}},5026:(ne,G,A)=>{A.d(G,{R:()=>ee});var c=A(4482),$=A(5403);function k(U,te,W,Q,z){return(F,L)=>{let q=W,Te=te,be=0;F.subscribe((0,$.x)(L,xe=>{const ke=be++;Te=q?U(Te,xe,ke):(q=!0,xe),Q&&L.next(Te)},z&&(()=>{q&&L.next(Te),L.complete()})))}}function ee(U,te){return(0,c.e)(k(U,te,arguments.length>=2,!0))}},3099:(ne,G,A)=>{A.d(G,{B:()=>te});var c=A(8996),$=A(5698),k=A(7579),ee=A(930),U=A(4482);function te(Q={}){const{connector:z=(()=>new k.x),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:q=!0}=Q;return Te=>{let be=null,xe=null,ke=null,de=0,he=!1,je=!1;const Le=()=>{null==xe||xe.unsubscribe(),xe=null},Ie=()=>{Le(),be=ke=null,he=je=!1},ve=()=>{const Ae=be;Ie(),null==Ae||Ae.unsubscribe()};return(0,U.e)((Ae,qe)=>{de++,!je&&!he&&Le();const Ze=ke=null!=ke?ke:z();qe.add(()=>{de--,0===de&&!je&&!he&&(xe=W(ve,q))}),Ze.subscribe(qe),be||(be=new ee.Hp({next:ce=>Ze.next(ce),error:ce=>{je=!0,Le(),xe=W(Ie,F,ce),Ze.error(ce)},complete:()=>{he=!0,Le(),xe=W(Ie,L),Ze.complete()}}),(0,c.D)(Ae).subscribe(be))})(Te)}}function W(Q,z,...F){return!0===z?(Q(),null):!1===z?null:z(...F).pipe((0,$.q)(1)).subscribe(()=>Q())}},5684:(ne,G,A)=>{A.d(G,{T:()=>$});var c=A(9300);function $(k){return(0,c.h)((ee,U)=>k<=U)}},9468:(ne,G,A)=>{A.d(G,{R:()=>$});var c=A(4482);function $(k,ee=0){return(0,c.e)((U,te)=>{te.add(k.schedule(()=>U.subscribe(te),ee))})}},3900:(ne,G,A)=>{A.d(G,{w:()=>ee});var c=A(8421),$=A(4482),k=A(5403);function ee(U,te){return(0,$.e)((W,Q)=>{let z=null,F=0,L=!1;const q=()=>L&&!z&&Q.complete();W.subscribe((0,k.x)(Q,Te=>{null==z||z.unsubscribe();let be=0;const xe=F++;(0,c.Xf)(U(Te,xe)).subscribe(z=(0,k.x)(Q,ke=>Q.next(te?te(Te,ke,xe,be++):ke),()=>{z=null,q()}))},()=>{L=!0,q()}))})}},5698:(ne,G,A)=>{A.d(G,{q:()=>ee});var c=A(515),$=A(4482),k=A(5403);function ee(U){return U<=0?()=>c.E:(0,$.e)((te,W)=>{let Q=0;te.subscribe((0,k.x)(W,z=>{++Q<=U&&(W.next(z),U<=Q&&W.complete())}))})}},2722:(ne,G,A)=>{A.d(G,{R:()=>U});var c=A(4482),$=A(5403),k=A(8421),ee=A(5032);function U(te){return(0,c.e)((W,Q)=>{(0,k.Xf)(te).subscribe((0,$.x)(Q,()=>Q.complete(),ee.Z)),!Q.closed&&W.subscribe(Q)})}},8505:(ne,G,A)=>{A.d(G,{b:()=>U});var c=A(576),$=A(4482),k=A(5403),ee=A(4671);function U(te,W,Q){const z=(0,c.m)(te)||W||Q?{next:te,error:W,complete:Q}:te;return z?(0,$.e)((F,L)=>{var q;null===(q=z.subscribe)||void 0===q||q.call(z);let Te=!0;F.subscribe((0,k.x)(L,be=>{var xe;null===(xe=z.next)||void 0===xe||xe.call(z,be),L.next(be)},()=>{var be;Te=!1,null===(be=z.complete)||void 0===be||be.call(z),L.complete()},be=>{var xe;Te=!1,null===(xe=z.error)||void 0===xe||xe.call(z,be),L.error(be)},()=>{var be,xe;Te&&(null===(be=z.unsubscribe)||void 0===be||be.call(z)),null===(xe=z.finalize)||void 0===xe||xe.call(z)}))}):ee.y}},7414:(ne,G,A)=>{A.d(G,{V:()=>z});var c=A(4986),$=A(1165),k=A(4482),ee=A(8421),U=A(3888),te=A(5403),W=A(9672);const Q=(0,U.d)(L=>function(Te=null){L(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Te});function z(L,q){const{first:Te,each:be,with:xe=F,scheduler:ke=(null!=q?q:c.z),meta:de=null}=(0,$.q)(L)?{first:L}:"number"==typeof L?{each:L}:L;if(null==Te&&null==be)throw new TypeError("No timeout provided.");return(0,k.e)((he,je)=>{let Le,Ie,ve=null,Ae=0;const qe=Ze=>{Ie=(0,W.f)(je,ke,()=>{try{Le.unsubscribe(),(0,ee.Xf)(xe({meta:de,lastValue:ve,seen:Ae})).subscribe(je)}catch(ce){je.error(ce)}},Ze)};Le=he.subscribe((0,te.x)(je,Ze=>{null==Ie||Ie.unsubscribe(),Ae++,je.next(ve=Ze),be>0&&qe(be)},void 0,void 0,()=>{(null==Ie?void 0:Ie.closed)||null==Ie||Ie.unsubscribe(),ve=null})),!Ae&&qe(null!=Te?"number"==typeof Te?Te:+Te-ke.now():be)})}function F(L){throw new Q(L)}},1365:(ne,G,A)=>{A.d(G,{M:()=>W});var c=A(4482),$=A(5403),k=A(8421),ee=A(4671),U=A(5032),te=A(3269);function W(...Q){const z=(0,te.jO)(Q);return(0,c.e)((F,L)=>{const q=Q.length,Te=new Array(q);let be=Q.map(()=>!1),xe=!1;for(let ke=0;ke<q;ke++)(0,k.Xf)(Q[ke]).subscribe((0,$.x)(L,de=>{Te[ke]=de,!xe&&!be[ke]&&(be[ke]=!0,(xe=be.every(ee.y))&&(be=null))},U.Z));F.subscribe((0,$.x)(L,ke=>{if(xe){const de=[ke,...Te];L.next(z?z(...de):de)}}))})}},4408:(ne,G,A)=>{A.d(G,{o:()=>U});var c=A(727);class $ extends c.w0{constructor(W,Q){super()}schedule(W,Q=0){return this}}const k={setInterval(te,W,...Q){const{delegate:z}=k;return(null==z?void 0:z.setInterval)?z.setInterval(te,W,...Q):setInterval(te,W,...Q)},clearInterval(te){const{delegate:W}=k;return((null==W?void 0:W.clearInterval)||clearInterval)(te)},delegate:void 0};var ee=A(8737);class U extends ${constructor(W,Q){super(W,Q),this.scheduler=W,this.work=Q,this.pending=!1}schedule(W,Q=0){if(this.closed)return this;this.state=W;const z=this.id,F=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(F,z,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(F,this.id,Q),this}requestAsyncId(W,Q,z=0){return k.setInterval(W.flush.bind(W,this),z)}recycleAsyncId(W,Q,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return Q;k.clearInterval(Q)}execute(W,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(W,Q);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,Q){let F,z=!1;try{this.work(W)}catch(L){z=!0,F=L||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:W,scheduler:Q}=this,{actions:z}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(z,this),null!=W&&(this.id=this.recycleAsyncId(Q,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(ne,G,A)=>{A.d(G,{v:()=>k});var c=A(6063);class ${constructor(U,te=$.now){this.schedulerActionCtor=U,this.now=te}schedule(U,te=0,W){return new this.schedulerActionCtor(this,U).schedule(W,te)}}$.now=c.l.now;class k extends ${constructor(U,te=$.now){super(U,te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(U){const{actions:te}=this;if(this._active)return void te.push(U);let W;this._active=!0;do{if(W=U.execute(U.state,U.delay))break}while(U=te.shift());if(this._active=!1,W){for(;U=te.shift();)U.unsubscribe();throw W}}}},4986:(ne,G,A)=>{A.d(G,{z:()=>k,P:()=>ee});var c=A(4408);const k=new(A(7565).v)(c.o),ee=k},6063:(ne,G,A)=>{A.d(G,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},233:(ne,G,A)=>{A.d(G,{N:()=>U});var c=A(4408),k=A(7565);const U=new class ee extends k.v{}(class $ extends c.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(Q,z,F):Q.flush(this)}})},3410:(ne,G,A)=>{A.d(G,{z:()=>c});const c={setTimeout($,k,...ee){const{delegate:U}=c;return(null==U?void 0:U.setTimeout)?U.setTimeout($,k,...ee):setTimeout($,k,...ee)},clearTimeout($){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(ne,G,A)=>{A.d(G,{h:()=>$});const $=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ne,G,A)=>{A.d(G,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ne,G,A)=>{A.d(G,{jO:()=>ee,yG:()=>U,_6:()=>te});var c=A(576),$=A(3532);function k(W){return W[W.length-1]}function ee(W){return(0,c.m)(k(W))?W.pop():void 0}function U(W){return(0,$.K)(k(W))?W.pop():void 0}function te(W,Q){return"number"==typeof k(W)?W.pop():Q}},8737:(ne,G,A)=>{function c($,k){if($){const ee=$.indexOf(k);0<=ee&&$.splice(ee,1)}}A.d(G,{P:()=>c})},3888:(ne,G,A)=>{function c($){const ee=$(U=>{Error.call(U),U.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}A.d(G,{d:()=>c})},2806:(ne,G,A)=>{A.d(G,{x:()=>k,O:()=>ee});var c=A(2416);let $=null;function k(U){if(c.v.useDeprecatedSynchronousErrorHandling){const te=!$;if(te&&($={errorThrown:!1,error:null}),U(),te){const{errorThrown:W,error:Q}=$;if($=null,W)throw Q}}else U()}function ee(U){c.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=U)}},9672:(ne,G,A)=>{function c($,k,ee,U=0,te=!1){const W=k.schedule(function(){ee(),te?$.add(this.schedule(null,U)):this.unsubscribe()},U);if($.add(W),!te)return W}A.d(G,{f:()=>c})},4671:(ne,G,A)=>{function c($){return $}A.d(G,{y:()=>c})},1144:(ne,G,A)=>{A.d(G,{z:()=>c});const c=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(ne,G,A)=>{A.d(G,{D:()=>$});var c=A(576);function $(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},1165:(ne,G,A)=>{function c($){return $ instanceof Date&&!isNaN($)}A.d(G,{q:()=>c})},576:(ne,G,A)=>{function c($){return"function"==typeof $}A.d(G,{m:()=>c})},3670:(ne,G,A)=>{A.d(G,{c:()=>k});var c=A(8822),$=A(576);function k(ee){return(0,$.m)(ee[c.L])}},6495:(ne,G,A)=>{A.d(G,{T:()=>k});var c=A(2202),$=A(576);function k(ee){return(0,$.m)(null==ee?void 0:ee[c.h])}},8239:(ne,G,A)=>{A.d(G,{t:()=>$});var c=A(576);function $(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(ne,G,A)=>{A.d(G,{Q:()=>k,L:()=>ee});var c=A(655),$=A(576);function k(U){return(0,c.FC)(this,arguments,function*(){const W=U.getReader();try{for(;;){const{value:Q,done:z}=yield(0,c.qq)(W.read());if(z)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Q)}}finally{W.releaseLock()}})}function ee(U){return(0,$.m)(null==U?void 0:U.getReader)}},3532:(ne,G,A)=>{A.d(G,{K:()=>$});var c=A(576);function $(k){return k&&(0,c.m)(k.schedule)}},4482:(ne,G,A)=>{A.d(G,{A:()=>$,e:()=>k});var c=A(576);function $(ee){return(0,c.m)(null==ee?void 0:ee.lift)}function k(ee){return U=>{if($(U))return U.lift(function(te){try{return ee(te,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ne,G,A)=>{function c(){}A.d(G,{Z:()=>c})},7849:(ne,G,A)=>{A.d(G,{h:()=>k});var c=A(2416),$=A(3410);function k(ee){$.z.setTimeout(()=>{const{onUnhandledError:U}=c.v;if(!U)throw ee;U(ee)})}},4532:(ne,G,A)=>{function c($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(G,{z:()=>c})},655:(ne,G,A)=>{function ee(le,ye){var ue={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&ye.indexOf(Oe)<0&&(ue[Oe]=le[Oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(Oe=Object.getOwnPropertySymbols(le);Ce<Oe.length;Ce++)ye.indexOf(Oe[Ce])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[Ce])&&(ue[Oe[Ce]]=le[Oe[Ce]])}return ue}function Q(le,ye,ue,Oe){return new(ue||(ue=Promise))(function($e,Mt){function en(tn){try{Je(Oe.next(tn))}catch(ir){Mt(ir)}}function pn(tn){try{Je(Oe.throw(tn))}catch(ir){Mt(ir)}}function Je(tn){tn.done?$e(tn.value):function Ce($e){return $e instanceof ue?$e:new ue(function(Mt){Mt($e)})}(tn.value).then(en,pn)}Je((Oe=Oe.apply(le,ye||[])).next())})}function de(le){return this instanceof de?(this.v=le,this):new de(le)}function he(le,ye,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,Oe=ue.apply(le,ye||[]),$e=[];return Ce={},Mt("next"),Mt("throw"),Mt("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Mt(Pn){Oe[Pn]&&(Ce[Pn]=function(rn){return new Promise(function(ei,on){$e.push([Pn,rn,ei,on])>1||en(Pn,rn)})})}function en(Pn,rn){try{!function pn(Pn){Pn.value instanceof de?Promise.resolve(Pn.value.v).then(Je,tn):ir($e[0][2],Pn)}(Oe[Pn](rn))}catch(ei){ir($e[0][3],ei)}}function Je(Pn){en("next",Pn)}function tn(Pn){en("throw",Pn)}function ir(Pn,rn){Pn(rn),$e.shift(),$e.length&&en($e[0][0],$e[0][1])}}function Le(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ye=le[Symbol.asyncIterator];return ye?ye.call(le):(le=function q(le){var ye="function"==typeof Symbol&&Symbol.iterator,ue=ye&&le[ye],Oe=0;if(ue)return ue.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Oe>=le.length&&(le=void 0),{value:le&&le[Oe++],done:!le}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ue={},Oe("next"),Oe("throw"),Oe("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Oe($e){ue[$e]=le[$e]&&function(Mt){return new Promise(function(en,pn){!function Ce($e,Mt,en,pn){Promise.resolve(pn).then(function(Je){$e({value:Je,done:en})},Mt)}(en,pn,(Mt=le[$e](Mt)).done,Mt.value)})}}}A.d(G,{_T:()=>ee,mG:()=>Q,qq:()=>de,FC:()=>he,KL:()=>Le})},5e3:(ne,G,A)=>{A.d(G,{deG:()=>Tm,tb:()=>kl,AFp:()=>T_,ip1:()=>cd,CZH:()=>Rl,hGG:()=>aA,z2F:()=>S_,sBO:()=>Vb,Sil:()=>_C,_Vd:()=>Op,EJc:()=>mC,SBq:()=>Rp,qLn:()=>mr,vpe:()=>vo,tBr:()=>_a,XFs:()=>ht,OlP:()=>In,zs3:()=>go,ZZ4:()=>N_,aQg:()=>rf,soG:()=>kb,YKP:()=>zw,h0i:()=>Yh,PXZ:()=>CC,R0b:()=>Fs,FiY:()=>Xa,Lbi:()=>An,g9A:()=>pC,n_E:()=>Vp,Qsj:()=>Uw,FYo:()=>a_,JOm:()=>_e,tp0:()=>ur,Rgc:()=>Qo,dDg:()=>bC,q4F:()=>tb,GfV:()=>hn,s_b:()=>d_,ifc:()=>$t,eFA:()=>DC,G48:()=>SC,Gpc:()=>L,f3M:()=>Vo,X6Q:()=>M_,_c5:()=>oA,VLi:()=>_M,c2e:()=>di,zSh:()=>jn,wAp:()=>Tt,vHH:()=>xe,cg1:()=>wp,kL8:()=>Gg,dqk:()=>Zt,sIi:()=>sp,CqO:()=>qE,QGY:()=>Ig,F4k:()=>WE,RDi:()=>ws,AaK:()=>Q,qOj:()=>Tc,TTD:()=>Ao,_Bn:()=>rd,xp6:()=>yy,uIk:()=>Wy,Gre:()=>uw,ekj:()=>hv,Suo:()=>mb,Xpm:()=>Wt,lG2:()=>un,Yz7:()=>rn,cJS:()=>on,oAB:()=>ae,Yjl:()=>Tr,Y36:()=>Lh,_UZ:()=>Il,BQk:()=>Wo,ynx:()=>dp,qZA:()=>up,TgZ:()=>Tl,EpF:()=>Tg,n5z:()=>qa,Ikx:()=>$g,LFG:()=>cn,$8M:()=>ao,$Z:()=>lp,NdJ:()=>ev,CRH:()=>nC,oxw:()=>rv,ALo:()=>Np,lcZ:()=>Vc,Hsn:()=>iv,F$t:()=>Bh,Q6J:()=>cp,iGM:()=>eC,MAs:()=>Jr,CHM:()=>ru,LSH:()=>pc,Udp:()=>fp,YNc:()=>vg,W1O:()=>yb,_uU:()=>ow,Oqu:()=>_v,hij:()=>Fg,AsE:()=>Lg,Gf:()=>tC});var c=A(7579),$=A(727),k=A(8306),ee=A(6451),U=A(3099);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function W(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function z(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const F=te({__forward_ref__:te});function L(s){return s.__forward_ref__=L,s.toString=function(){return Q(this())},s}function q(s){return Te(s)?s():s}function Te(s){return"function"==typeof s&&s.hasOwnProperty(F)&&s.__forward_ref__===L}class xe extends Error{constructor(o,l){super(function ke(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function de(s){return"string"==typeof s?s:null==s?"":String(s)}function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():de(s)}function ve(s,o){const l=o?` in ${o}`:"";throw new xe(-201,`No provider for ${he(s)} found${l}`)}function pn(s,o){null==s&&function Je(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function on(s){return{providers:s.providers||[],imports:s.imports||[]}}function nn(s){return $n(s,mi)||$n(s,Li)}function $n(s,o){return s.hasOwnProperty(o)?s[o]:null}function kr(s){return s&&(s.hasOwnProperty(wr)||s.hasOwnProperty(ti))?s[wr]:null}const mi=te({\u0275prov:te}),wr=te({\u0275inj:te}),Li=te({ngInjectableDef:te}),ti=te({ngInjectorDef:te});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Pr;function sr(s){const o=Pr;return Pr=s,o}function Cr(s,o,l){const u=nn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&ht.Optional?null:void 0!==o?o:void ve(Q(s),"Injector")}function En(s){return{toString:s}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const ct="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ct||"undefined"!=typeof global&&global||At||ar,yr={},_t=[],vr=te({\u0275cmp:te}),Gt=te({\u0275dir:te}),nt=te({\u0275pipe:te}),Re=te({\u0275mod:te}),st=te({\u0275fac:te}),yt=te({__NG_ELEMENT_ID__:te});let zt=0;function Wt(s){return En(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return u.id+=zt++,u.inputs=Et(s.inputs,l),u.outputs=Et(s.outputs),m&&m.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(X):null,u})}function j(s){return an(s)||function Vn(s){return s[Gt]||null}(s)}function X(s){return function Bt(s){return s[nt]||null}(s)}const we={};function ae(s){return En(()=>{const o={type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(we[s.id]=s.type),o})}function Et(s,o){if(null==s)return yr;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=u,o&&(o[h]=m)}return l}const un=Wt;function Tr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function an(s){return s[vr]||null}function wn(s,o){const l=s[Re]||null;if(!l&&!0===o)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return l}const H=18;function He(s){return Array.isArray(s)&&"object"==typeof s[1]}function xt(s){return Array.isArray(s)&&!0===s[1]}function Xn(s){return 0!=(8&s.flags)}function _n(s){return 2==(2&s.flags)}function Ir(s){return 1==(1&s.flags)}function qt(s){return null!==s.template}function yi(s){return 0!=(512&s[2])}function vi(s,o){return s.hasOwnProperty(st)?s[st]:null}class oa{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ao(){return ja}function ja(s){return s.type.prototype.ngOnChanges&&(s.setInput=wm),Dd}function Dd(){const s=qs(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===yr)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function wm(s,o,l,u){const h=qs(s)||function Ai(s,o){return s[Hi]=o}(s,{previous:yr,current:null}),m=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],C=v[E];m[E]=new oa(C&&C.currentValue,o,v===yr),s[u]=o}Ao.ngInherit=!0;const Hi="__ngSimpleChanges__";function qs(s){return s[Hi]||null}let jl;function ws(s){jl=s}function On(s){return!!s.listen}const aa={createRenderer:(s,o)=>function Ha(){return void 0!==jl?jl:"undefined"!=typeof document?document:void 0}()};function Dn(s){for(;Array.isArray(s);)s=s[0];return s}function Mo(s,o){return Dn(o[s])}function $r(s,o){return Dn(o[s.index])}function $a(s,o){return s.data[o]}function $i(s,o){return s[o]}function Gr(s,o){const l=o[s];return He(l)?l:l[0]}function Zs(s){return 4==(4&s[2])}function Cs(s){return 128==(128&s[2])}function bi(s,o){return null==o?null:s[o]}function Ys(s){s[H]=0}function Qs(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const bt={lFrame:Oo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wl(){return bt.bindingsEnabled}function Pe(){return bt.lFrame.lView}function Yt(){return bt.lFrame.tView}function ru(s){return bt.lFrame.contextLView=s,s[8]}function Fn(){let s=la();for(;null!==s&&64===s.type;)s=s.parent;return s}function la(){return bt.lFrame.currentTNode}function Ei(s,o){const l=bt.lFrame;l.currentTNode=s,l.isParent=o}function iu(){return bt.lFrame.isParent}function su(){bt.lFrame.isParent=!1}function ql(){return bt.isInCheckNoChangesMode}function Js(s){bt.isInCheckNoChangesMode=s}function Xs(){return bt.lFrame.bindingIndex++}function Gi(s){const o=bt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Yl(s,o){const l=bt.lFrame;l.bindingIndex=l.bindingRootIndex=s,za(o)}function za(s){bt.lFrame.currentDirectiveIndex=s}function cu(){return bt.lFrame.currentQueryIndex}function uu(s){bt.lFrame.currentQueryIndex=s}function Sd(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function du(s,o,l){if(l&ht.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&ht.Host||(h=Sd(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=bt.lFrame=Md();return u.currentTNode=o,u.lView=s,!0}function xo(s){const o=Md(),l=s[1];bt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Md(){const s=bt.lFrame,o=null===s?null:s.child;return null===o?Oo(s):o}function Oo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function xd(){const s=bt.lFrame;return bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Od=xd;function Ro(){const s=xd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zr(){return bt.lFrame.selectedIndex}function to(s){bt.lFrame.selectedIndex=s}function er(){const s=bt.lFrame;return $a(s.tView,s.selectedIndex)}function Ds(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function Wa(s,o,l){Rd(s,o,3,l)}function Ql(s,o,l,u){(3&s[2])===l&&Rd(s,o,l,u)}function hr(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Rd(s,o,l,u){const m=null!=u?u:-1,v=o.length-1;let E=0;for(let C=void 0!==u?65535&s[H]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=u&&E>=u)break}else o[C]<0&&(s[H]+=65536),(E<m||-1==m)&&(Cm(s,l,o,C),s[H]=(4294901760&s[H])+C+2),C++}function Cm(s,o,l,u){const h=l[u]<0,m=l[u+1],E=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[H]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class da{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function ha(s,o,l){const u=On(s);let h=0;for(;h<l.length;){const m=l[h];if("number"==typeof m){if(0!==m)break;h++;const v=l[h++],E=l[h++],C=l[h++];u?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=m,E=l[++h];gu(v)?u&&s.setProperty(o,v,E):u?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function Is(s){return 3===s||4===s||6===s}function gu(s){return 64===s.charCodeAt(0)}function no(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||ro(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function ro(s,o,l,u,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function ii(s){return-1!==s}function kt(s){return 32767&s}function Tn(s,o){let l=function Dt(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let Po=!0;function io(s){const o=Po;return Po=s,o}let ss=0;function so(s,o){const l=os(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,wt(u.data,s),wt(o,null),wt(u.blueprint,null));const h=si(s,o),m=s.injectorIndex;if(ii(h)){const v=kt(h),E=Tn(h,o),C=E[1].data;for(let M=0;M<8;M++)o[m+M]=E[v+M]|C[v+M]}return o[m+8]=h,m}function wt(s,o){s.push(0,0,0,0,0,0,0,0,o)}function os(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function si(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(u=2===v?m.declTNode:1===v?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function fr(s,o,l){!function Lr(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(yt)&&(u=l[yt]),null==u&&(u=l[yt]=ss++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function fa(s,o,l){if(l&ht.Optional)return s;ve(o,"NodeInjector")}function _u(s,o,l,u){if(l&ht.Optional&&void 0===u&&(u=null),0==(l&(ht.Self|ht.Host))){const h=s[9],m=sr(void 0);try{return h?h.get(o,u,l&ht.Optional):Cr(o,u,l&ht.Optional)}finally{sr(m)}}return fa(u,o,l)}function Se(s,o,l,u=ht.Default,h){if(null!==s){const m=function As(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:pa:o}(l);if("function"==typeof m){if(!du(o,s,u))return u&ht.Host?fa(h,l,u):_u(o,l,u,h);try{const v=m(u);if(null!=v||u&ht.Optional)return v;ve(l)}finally{Od()}}else if("number"==typeof m){let v=null,E=os(s,o),C=-1,M=u&ht.Host?o[16][6]:null;for((-1===E||u&ht.SkipSelf)&&(C=-1===E?si(s,o):o[E+8],-1!==C&&ec(u,!1)?(v=o[1],E=kt(C),o=Tn(C,o)):E=-1);-1!==E;){const O=o[1];if(rt(m,E,O.data)){const N=No(E,o,l,v,u,M);if(N!==Wr)return N}C=o[E+8],-1!==C&&ec(u,o[1].data[E+8]===M)&&rt(m,E,o)?(v=O,E=kt(C),o=Tn(C,o)):E=-1}}}return _u(o,l,u,h)}const Wr={};function pa(){return new vt(Fn(),Pe())}function No(s,o,l,u,h,m){const v=o[1],E=v.data[s+8],O=Ht(E,v,l,null==u?_n(E)&&Po:u!=v&&0!=(3&E.type),h&ht.Host&&m===E);return null!==O?as(o,v,O,E):Wr}function Ht(s,o,l,u,h){const m=s.providerIndexes,v=o.data,E=1048575&m,C=s.directiveStart,O=m>>20,K=h?E+O:s.directiveEnd;for(let oe=u?E:E+O;oe<K;oe++){const Me=v[oe];if(oe<C&&l===Me||oe>=C&&Me.type===l)return oe}if(h){const oe=v[C];if(oe&&qt(oe)&&oe.type===l)return C}return null}function as(s,o,l,u){let h=s[l];const m=o.data;if(function kd(s){return s instanceof da}(h)){const v=h;v.resolving&&function je(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${l}`)}(he(m[l]));const E=io(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?sr(v.injectImpl):null;du(s,u,ht.Default);try{h=s[l]=v.factory(void 0,m,s,u),o.firstCreatePass&&l>=u.directiveStart&&function pu(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const v=ja(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==C&&sr(C),io(E),v.resolving=!1,Od()}}return h}function rt(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ec(s,o){return!(s&ht.Self||s&ht.Host&&o)}class vt{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Se(this._tNode,this._lView,o,u,l)}}function qa(s){return En(()=>{const o=s.prototype.constructor,l=o[st]||oo(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[st]||oo(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function oo(s){return Te(s)?()=>{const o=oo(q(s));return o&&o()}:vi(s)}function ao(s){return function wi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const m=l[h];if(Is(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Fn(),s)}const co="__parameters__";function qn(s,o,l){return En(()=>{const u=function yu(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return E.annotation=v,E;function E(C,M,O){const N=C.hasOwnProperty(co)?C[co]:Object.defineProperty(C,co,{value:[]})[co];for(;N.length<=O;)N.push(null);return(N[O]=N[O]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tm=new In("AnalyzeForEntryComponents");function pr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),pr(u,o)):o!==s&&o.push(u)}return o}function qr(s,o){s.forEach(l=>Array.isArray(l)?qr(l,o):o(l))}function Za(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Ss(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ci(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Kr(s,o,l){let u=Ms(s,o);return u>=0?s[1|u]=l:(u=~u,function Ya(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function tc(s,o){const l=Ms(s,o);if(l>=0)return s[1|l]}function Ms(s,o){return function nc(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const m=u+(h-u>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:u=m+1}return~(h<<l)}(s,o,1)}const R={},B="__NG_DI_FLAG__",se="ngTempTokenPath",Ve=/\n/gm,Ot="__source",St=te({provide:String,useValue:te});let Qt;function Ft(s){const o=Qt;return Qt=s,o}function Zr(s,o=ht.Default){if(void 0===Qt)throw new xe(203,"");return null===Qt?Cr(s,void 0,o):Qt.get(s,o&ht.Optional?null:void 0,o)}function cn(s,o=ht.Default){return(function Gn(){return Pr}()||Zr)(q(s),o)}const Vo=cn;function uo(s){const o=[];for(let l=0;l<s.length;l++){const u=q(s[l]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,"");let h,m=ht.Default;for(let v=0;v<u.length;v++){const E=u[v],C=ds(E);"number"==typeof C?-1===C?h=E.token:m|=C:h=E}o.push(cn(h,m))}else o.push(cn(u))}return o}function Yr(s,o){return s[B]=o,s.prototype[B]=o,s}function ds(s){return s[B]}const _a=Yr(qn("Inject",s=>({token:s})),-1),Xa=Yr(qn("Optional"),8),ur=Yr(qn("SkipSelf"),4);class ya{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Kn(s){return s instanceof ya?s.changingThisBreaksApplicationSecurity:s}const fo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nr=(()=>((nr=nr||{})[nr.NONE=0]="NONE",nr[nr.HTML=1]="HTML",nr[nr.STYLE=2]="STYLE",nr[nr.SCRIPT=3]="SCRIPT",nr[nr.URL=4]="URL",nr[nr.RESOURCE_URL=5]="RESOURCE_URL",nr))();function pc(s){const o=function Du(){const s=Pe();return s&&s[12]}();return o?o.sanitize(nr.URL,s)||"":function sc(s,o){const l=function oc(s){return s instanceof ya&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Kn(s):function lc(s){return(s=String(s)).match(fo)||s.match(Lm)?s:"unsafe:"+s}(de(s))}const Xd="__ngContext__";function Qr(s,o){s[Xd]=o}function Ea(s){const o=function ba(s){return s[Xd]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Hf(s){return s.ngOriginalError}function Au(s,...o){s.error(...o)}class mr{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function uy(s){return s&&s.ngErrorLogger||Au}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Hf(o);for(;l&&Hf(l);)l=Hf(l);return l||null}}const hy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function g(s){return s instanceof Function?s():s}var _e=(()=>((_e=_e||{})[_e.Important=1]="Important",_e[_e.DashCase=2]="DashCase",_e))();function ot(s,o){return undefined(s,o)}function Yn(s){const o=s[3];return xt(o)?o[3]:o}function sh(s){return al(s[13])}function gc(s){return al(s[4])}function al(s){for(;null!==s&&!xt(s);)s=s[4];return s}function $o(s,o,l,u,h){if(null!=u){let m,v=!1;xt(u)?m=u:He(u)&&(v=!0,u=u[0]);const E=Dn(u);0===s&&null!==l?null==h?N0(o,l,E):ul(o,l,E,h||null,!0):1===s&&null!==l?ul(o,l,E,h||null,!0):2===s?function dh(s,o,l){const u=Ym(s,o);u&&function L0(s,o,l,u){On(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=m&&function tt(s,o,l,u,h){const m=l[7];m!==Dn(l)&&$o(o,s,u,m,h);for(let E=10;E<l.length;E++){const C=l[E];at(C[1],C,s,o,u,m)}}(o,s,m,l,h)}}function ll(s,o,l){if(On(s))return s.createElement(o,l);{const u=null!==l?function Ul(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function py(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Qs(h,-1)),l.splice(u,1)}function lh(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&py(h,u),o>0&&(s[l-1][4]=u[4]);const m=Ss(s,10+o);!function Km(s,o){at(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=m[19];null!==v&&v.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function fs(s,o){if(!(256&o[2])){const l=o[11];On(l)&&l.destroyNode&&at(s,o,l,3,null,null),function M0(s){let o=s[13];if(!o)return Zm(s[1],s);for(;o;){let l=null;if(He(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)He(o)&&Zm(o[1],o),o=o[3];null===o&&(o=s),He(o)&&Zm(o[1],o),l=o&&o[4]}o=l}}(o)}}function Zm(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function ch(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof da)){const m=l[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=h[m[v]],C=m[v+1];try{C.call(E)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function R0(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],E="function"==typeof v?v(o):Dn(o[v]),C=u[h=l[m+2]],M=l[m+3];"boolean"==typeof M?E.removeEventListener(l[m],C,M):M>=0?u[h=M]():u[h=-M].unsubscribe(),m+=2}else{const v=u[h=l[m+1]];l[m].call(v)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&On(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&xt(o[3])){l!==o[3]&&py(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function k0(s,o,l){return function P0(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return $r(u,l)}(s,o.parent,l)}function ul(s,o,l,u,h){On(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function N0(s,o,l){On(s)?s.appendChild(o,l):o.appendChild(l)}function F0(s,o,l,u,h){null!==u?ul(s,o,l,u,h):N0(s,o,l)}function Ym(s,o){return On(s)?s.parentNode(o):o.parentNode}function V0(s,o,l){return ai(s,o,l)}let ai=function my(s,o,l){return 40&s.type?$r(s,l):null};function uh(s,o,l,u){const h=k0(s,u,o),m=o[11],E=V0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)F0(m,h,l[C],E,!1);else F0(m,h,l,E,!1)}function Jm(s,o){if(null!==o){const l=o.type;if(3&l)return $r(o,s);if(4&l)return Er(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Jm(s,u);{const h=s[o.index];return xt(h)?Er(-1,h):Dn(h)}}if(32&l)return ot(o,s)()||Dn(s[o.index]);{const u=Ge(s,o);return null!==u?Array.isArray(u)?u[0]:Jm(Yn(s[16]),u):Jm(s,o.next)}}return null}function Ge(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Er(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Jm(u,h)}return o[7]}function zf(s,o,l,u,h,m,v){for(;null!=l;){const E=u[l.index],C=l.type;if(v&&0===o&&(E&&Qr(Dn(E),u),l.flags|=4),64!=(64&l.flags))if(8&C)zf(s,o,l.child,u,h,m,!1),$o(o,s,h,E,m);else if(32&C){const M=ot(l,u);let O;for(;O=M();)$o(o,s,h,O,m);$o(o,s,h,E,m)}else 16&C?B0(s,o,u,l,h,m):$o(o,s,h,E,m);l=v?l.projectionNext:l.next}}function at(s,o,l,u,h,m){zf(l,u,s.firstChild,o,h,m,!1)}function B0(s,o,l,u,h,m){const v=l[16],C=v[6].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)$o(o,s,h,C[M],m);else zf(s,o,C,v[3],h,m,!0)}function Fe(s,o,l){On(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Br(s,o,l){On(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function gy(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}l=h+1}}const U0="ng-template";function nT(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==gy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function j0(s){return 4===s.type&&s.value!==U0}function rT(s,o,l){return o===(4!==s.type||l?s.value:U0)}function H0(s,o,l){let u=4;const h=s.attrs||[],m=function $0(s){for(let o=0;o<s.length;o++)if(Is(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!rT(s,C,l)||""===C&&1===o.length){if(Go(u))return!1;v=!0}}else{const M=8&u?C:o[++E];if(8&u&&null!==s.attrs){if(!nT(s.attrs,M,l)){if(Go(u))return!1;v=!0}continue}const N=ZS(8&u?"class":C,h,j0(s),l);if(-1===N){if(Go(u))return!1;v=!0;continue}if(""!==M){let K;K=N>m?"":h[N+1].toLowerCase();const oe=8&u?K:null;if(oe&&-1!==gy(oe,M,0)||2&u&&M!==K){if(Go(u))return!1;v=!0}}}}else{if(!v&&!Go(u)&&!Go(C))return!1;if(v&&Go(C))continue;v=!1,u=C|1&u}}return Go(u)||v}function Go(s){return 0==(1&s)}function ZS(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function Jt(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function ps(s,o,l=!1){for(let u=0;u<o.length;u++)if(H0(s,o[u],l))return!0;return!1}function hh(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function _y(s,o){return s?":not("+o.trim()+")":o}function Ar(s){let o=s[0],l=1,u=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Go(v)&&(o+=_y(m,h),h=""),u=v,m=m||!Go(u);l++}return""!==h&&(o+=_y(m,h)),o}const Nt={};function yy(s){fh(Yt(),Pe(),zr()+s,ql())}function fh(s,o,l,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Wa(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Ql(o,m,0,l)}to(l)}function Xm(s,o){return s<<17|o<<2}function Ln(s){return s>>17&32767}function Sr(s){return 2|s}function hl(s){return(131068&s)>>2}function Ca(s,o){return-131069&s|o<<2}function fl(s){return 1|s}function Ec(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],m=l[u+1];if(-1!==m){const v=s.data[m];uu(h),v.contentQueries(2,o[m],m)}}}function wc(s,o,l,u,h,m,v,E,C,M){const O=o.blueprint.slice();return O[0]=h,O[2]=140|u,Ys(O),O[3]=O[15]=s,O[8]=l,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=M||s&&s[9]||null,O[6]=m,O[16]=2==o.type?s[16]:O,O}function _l(s,o,l,u,h){let m=s.data[o];if(null===m)m=function ag(s,o,l,u,h){const m=la(),v=iu(),C=s.data[o]=function yl(s,o,l,u,h,m){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C)),C}(s,o,l,u,h),function au(){return bt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=u,m.attrs=h;const v=function ca(){const s=bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Ei(m,!0),m}function Fu(s,o,l,u){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Mr(s,o,l){xo(o);try{const u=s.viewQuery;null!==u&&bl(1,u,l);const h=s.template;null!==h&&Q0(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ec(s,o),s.staticViewQueries&&bl(2,s.viewQuery,l);const m=s.components;null!==m&&function Kf(s,o){for(let l=0;l<o.length;l++)gT(s,o[l])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ro()}}function mh(s,o,l,u){const h=o[2];if(256==(256&h))return;xo(o);const m=ql();try{Ys(o),function Kl(s){return bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Q0(s,o,l,2,u);const v=3==(3&h);if(!m)if(v){const M=s.preOrderCheckHooks;null!==M&&Wa(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Ql(o,M,0,null),hr(o,0)}if(function uE(s){for(let o=sh(s);null!==o;o=gc(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],m=h[3];0==(1024&h[2])&&Qs(m,1),h[2]|=1024}}}(o),function cE(s){for(let o=sh(s);null!==o;o=gc(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];Cs(u)&&mh(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Ec(s,o),!m)if(v){const M=s.contentCheckHooks;null!==M&&Wa(o,M)}else{const M=s.contentHooks;null!==M&&Ql(o,M,1),hr(o,1)}!function Y0(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)to(~h);else{const m=h,v=l[++u],E=l[++u];Yl(v,m),E(2,o[m])}}}finally{to(-1)}}(s,o);const E=s.components;null!==E&&function hT(s,o){for(let l=0;l<o.length;l++)Qf(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&bl(2,C,u),!m)if(v){const M=s.viewCheckHooks;null!==M&&Wa(o,M)}else{const M=s.viewHooks;null!==M&&Ql(o,M,2),hr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Qs(o[3],-1))}finally{Ro()}}function fT(s,o,l,u){const h=o[10],m=!ql(),v=Zs(o);try{m&&!v&&h.begin&&h.begin(),v&&Mr(s,o,u),mh(s,o,l,u)}finally{m&&!v&&h.end&&h.end()}}function Q0(s,o,l,u,h){const m=zr(),v=2&u;try{to(-1),v&&o.length>20&&fh(s,o,20,ql()),l(u,h)}finally{to(m)}}function Cy(s,o,l){if(Xn(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function Dy(s,o,l){!Wl()||(function eE(s,o,l,u){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||so(l,o),Qr(u,o);const v=l.initialInputs;for(let E=h;E<m;E++){const C=s.data[E],M=qt(C);M&&aE(o,l,C);const O=as(o,s,E,l);Qr(O,o),null!==v&&lE(0,E-h,O,C,0,v),M&&(Gr(l.index,o)[8]=O)}}(s,o,l,$r(l,o)),128==(128&l.flags)&&function tE(s,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,E=function lu(){return bt.lFrame.currentDirectiveIndex}();try{to(v);for(let C=u;C<h;C++){const M=s.data[C],O=o[C];za(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&nE(M,O)}}finally{to(-1),za(E)}}(s,o,l))}function Ty(s,o,l=$r){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function J0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=lg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function lg(s,o,l,u,h,m,v,E,C,M){const O=20+u,N=O+h,K=function Cc(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Nt);return l}(O,N),oe="function"==typeof M?M():M;return K[1]={type:s,blueprint:K,template:l,queries:null,viewQuery:E,declTNode:o,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:oe,incompleteFirstPass:!1}}function Ay(s,o,l,u){const h=Fy(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&yh(s).push(u,h.length-1))}function Sy(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Oi(s,o,l,u,h,m,v,E){const C=$r(o,l);let O,M=o.inputs;!E&&null!=M&&(O=M[u])?(xr(s,l,O,u,h),_n(o)&&function My(s,o){const l=Gr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function cg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,On(m)?m.setProperty(C,u,h):gu(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function ug(s,o,l,u){let h=!1;if(Wl()){const m=function rE(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];ps(l,v.selectors,!1)&&(h||(h=[]),fr(so(l,o),s,v.type),qt(v)?(Ry(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==m){h=!0,sE(l,s.data.length,m.length);for(let O=0;O<m.length;O++){const N=m[O];N.providersResolver&&N.providersResolver(N)}let E=!1,C=!1,M=Fu(s,o,m.length,null);for(let O=0;O<m.length;O++){const N=m[O];l.mergedAttrs=no(l.mergedAttrs,N.hostAttrs),oE(s,l,o,M,N),hg(M,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const K=N.type.prototype;!E&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!C&&(K.ngOnChanges||K.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),M++}!function gh(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,v=[];let E=null,C=null;for(let M=o.directiveStart;M<u;M++){const O=h[M],N=O.inputs,K=null===m||j0(o)?null:Vu(N,m);v.push(K),E=Sy(N,M,E),C=Sy(O.outputs,M,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,l)}v&&function iE(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new xe(-301,!1);u.push(o[h],m)}}}(l,u,v)}return l.mergedAttrs=no(l.mergedAttrs,l.attrs),h}function dg(s,o,l,u,h,m){const v=m.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function Oy(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=C&&E.push(C),E.push(u,h,v)}}function nE(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ry(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function hg(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;qt(o)&&(l[""]=s)}}function sE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function oE(s,o,l,u,h){s.data[u]=h;const m=h.factory||(h.factory=vi(h.type)),v=new da(m,qt(h),null);s.blueprint[u]=v,l[u]=v,dg(s,o,0,u,Fu(s,l,h.hostVars,Nt),h)}function aE(s,o,l){const u=$r(o,s),h=J0(l),m=s[10],v=Uu(s,wc(s,h,null,l.onPush?64:16,u,o,m,m.createRenderer(u,l),null,null));s[o.index]=v}function Yi(s,o,l,u,h,m){const v=$r(s,o);!function vl(s,o,l,u,h,m,v){if(null==m)On(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?de(m):v(m,u||"",h);On(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,m,s.value,l,u,h)}function lE(s,o,l,u,h,m){const v=m[o];if(null!==v){const E=u.setInput;for(let C=0;C<v.length;){const M=v[C++],O=v[C++],N=v[C++];null!==E?u.setInput(l,N,M,O):l[O]=N}}}function Vu(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function Bu(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function Qf(s,o){const l=Gr(o,s);if(Cs(l)){const u=l[1];80&l[2]?mh(u,l,u.template,l[8]):l[5]>0&&ky(l)}}function ky(s){for(let u=sh(s);null!==u;u=gc(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const v=m[1];mh(v,m,v.template,m[8])}else m[5]>0&&ky(m)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=Gr(l[u],s);Cs(h)&&h[5]>0&&ky(h)}}function gT(s,o){const l=Gr(o,s),u=l[1];(function Ur(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Mr(u,l,l[8])}function Uu(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function _h(s){for(;s;){s[2]|=64;const o=Yn(s);if(yi(s)&&!o)return s;s=o}return null}function Py(s,o,l){const u=o[10];u.begin&&u.begin();try{mh(s,o,s.template,l)}catch(h){throw fE(o,h),h}finally{u.end&&u.end()}}function Ny(s){!function Jf(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Ea(l),h=u[1];fT(h,u,h.template,l)}}(s[8])}function bl(s,o,l){uu(0),o(s,l)}const hE=(()=>Promise.resolve(null))();function Fy(s){return s[7]||(s[7]=[])}function yh(s){return s.cleanup||(s.cleanup=[])}function fE(s,o){const l=s[9],u=l?l.get(mr,null):null;u&&u.handleError(o)}function xr(s,o,l,u,h){for(let m=0;m<l.length;){const v=l[m++],E=l[m++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,u,E):C[E]=h}}function Xt(s,o,l){const u=Mo(o,s);!function Mu(s,o,l){On(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function ep(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?m=E:1==m?h=z(h,E):2==m&&(u=z(u,E+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const vh=new In("INJECTOR",-1);class li{get(o,l=R){if(l===R){const u=new Error(`NullInjectorError: No provider for ${Q(o)}!`);throw u.name="NullInjectorError",u}return l}}const jn=new In("Set Injector scope."),bh={},Eh={};let Ly;function ks(){return void 0===Ly&&(Ly=new li),Ly}function mE(s,o=null,l=null,u){const h=pg(s,o,l,u);return h._resolveInjectorDefTypes(),h}function pg(s,o=null,l=null,u){return new tp(s,l,o||ks(),u)}class tp{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];l&&qr(l,E=>this.processProvider(E,o,l)),qr([o],E=>this.processInjectorType(E,[],m)),this.records.set(vh,El(void 0,this));const v=this.records.get(jn);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:Q(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=R,u=ht.Default){this.assertNotDestroyed();const h=Ft(this),m=sr(void 0);try{if(!(u&ht.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function vE(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&nn(o);E=C&&this.injectableDefInScope(C)?El(Vy(o),bh):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&ht.Self?ks():this.parent).get(o,l=u&ht.Optional&&l===R?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[se]=v[se]||[]).unshift(Q(o)),h)throw v;return function rc(s,o,l,u){const h=s[se];throw o[Ot]&&h.unshift(o[Ot]),s.message=function jd(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=Q(o);if(Array.isArray(o))h=o.map(Q).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):Q(E)))}h=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Ve,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[se]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{sr(m),Ft(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(Q(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(o,l,u){if(!(o=q(o)))return!1;let h=kr(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,E=-1!==u.indexOf(v);if(void 0!==m&&(h=kr(m)),null==h)return!1;if(null!=h.imports&&!E){let O;u.push(v);try{qr(h.imports,N=>{this.processInjectorType(N,l,u)&&(void 0===O&&(O=[]),O.push(N))})}finally{}if(void 0!==O)for(let N=0;N<O.length;N++){const{ngModule:K,providers:oe}=O[N];qr(oe,Me=>this.processProvider(Me,K,oe||_t))}}this.injectorDefTypes.add(v);const C=vi(v)||(()=>new v);this.records.set(v,El(C,bh));const M=h.providers;if(null!=M&&!E){const O=o;qr(M,N=>this.processProvider(N,O,M))}return void 0!==m&&void 0!==o.providers}processProvider(o,l,u){let h=ju(o=q(o))?o:q(o&&o.provide);const m=function Mn(s,o,l){return wh(s)?El(void 0,s.useValue):El(gE(s),bh)}(o);if(ju(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=El(void 0,bh,!0),v.factory=()=>uo(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,l){return l.value===bh&&(l.value=Eh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function bT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=q(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Vy(s){const o=nn(s),l=null!==o?o.factory:vi(s);if(null!==l)return l;if(s instanceof In)throw new xe(204,!1);if(s instanceof Function)return function vT(s){const o=s.length;if(o>0)throw Ci(o,"?"),new xe(204,!1);const l=function Rr(s){const o=s&&(s[mi]||s[Li]);if(o){const l=function Ii(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new xe(204,!1)}function gE(s,o,l){let u;if(ju(s)){const h=q(s);return vi(h)||Vy(h)}if(wh(s))u=()=>q(s.useValue);else if(function mg(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...uo(s.deps||[]));else if(function np(s){return!(!s||!s.useExisting)}(s))u=()=>cn(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function yE(s){return!!s.deps}(s))return vi(h)||Vy(h);u=()=>new h(...uo(s.deps))}return u}function El(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function wh(s){return null!==s&&"object"==typeof s&&St in s}function ju(s){return"function"==typeof s}let go=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return mE({name:""},u,l,"");{const m=null!==(h=l.name)&&void 0!==h?h:"";return mE({name:m},l.parent,l.providers,m)}}}return s.THROW_IF_NOT_FOUND=R,s.NULL=new li,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>cn(vh)}),s.__NG_ELEMENT_ID__=-1,s})();function AT(s,o){Ds(Ea(s)[1],Fn())}function Tc(s){let o=function Hu(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(qt(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=Gy(s.inputs),v.declaredInputs=Gy(s.declaredInputs),v.outputs=Gy(s.outputs);const E=h.hostBindings;E&&Qi(s,E);const C=h.viewQuery,M=h.contentQueries;if(C&&MT(s,C),M&&AE(s,M),W(s.inputs,h.inputs),W(s.declaredInputs,h.declaredInputs),W(s.outputs,h.outputs),qt(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(s),E===Tc&&(l=!1)}}o=Object.getPrototypeOf(o)}!function ST(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=no(h.hostAttrs,l=no(l,h.hostAttrs))}}(u)}function Gy(s){return s===yr?{}:s===_t?[]:s}function MT(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function AE(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,m)=>{o(u,h,m),l(u,h,m)}:o}function Qi(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let ip=null;function Cl(){if(!ip){const s=Zt.Symbol;if(s&&s.iterator)ip=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ip=u)}}}return ip}function sp(s){return!!zy(s)&&(Array.isArray(s)||!(s instanceof Map)&&Cl()in s)}function zy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ri(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Wy(s,o,l,u){const h=Pe();return Ri(h,Xs(),o)&&(Yt(),Yi(er(),h,s,o,l,u)),Wy}function Ah(s,o,l,u){return Ri(s,Xs(),l)?o+de(l)+u:Nt}function Sh(s,o,l,u,h,m){const E=function $u(s,o,l,u){const h=Ri(s,o,l);return Ri(s,o+1,u)||h}(s,function Si(){return bt.lFrame.bindingIndex}(),l,h);return Gi(2),E?o+de(l)+u+de(h)+m:Nt}function vg(s,o,l,u,h,m,v,E){const C=Pe(),M=Yt(),O=s+20,N=M.firstCreatePass?function RE(s,o,l,u,h,m,v,E,C){const M=o.consts,O=_l(o,s,4,v||null,bi(M,E));ug(o,l,O,bi(M,C)),Ds(o,O);const N=O.tViews=lg(2,O,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,O),N.queries=o.queries.embeddedTView(O)),O}(O,M,C,o,l,u,h,m,v):M.data[O];Ei(N,!1);const K=C[11].createComment("");uh(M,C,K,N),Qr(K,C),Uu(C,C[O]=Bu(K,C,K,N)),Ir(N)&&Dy(M,C,N),null!=v&&Ty(C,N,E)}function Jr(s){return $i(function ou(){return bt.lFrame.contextLView}(),20+s)}function Lh(s,o=ht.Default){const l=Pe();return null===l?cn(s,o):Se(Fn(),l,q(s),o)}function lp(){throw new Error("invalid")}function cp(s,o,l){const u=Pe();return Ri(u,Xs(),o)&&Oi(Yt(),er(),u,s,o,u[11],l,!1),cp}function Dg(s,o,l,u,h){const v=h?"class":"style";xr(s,l,o.inputs[v],v,u)}function Tl(s,o,l,u){const h=Pe(),m=Yt(),v=20+s,E=h[11],C=h[v]=ll(E,o,function ey(){return bt.lFrame.currentNamespace}()),M=m.firstCreatePass?function xc(s,o,l,u,h,m,v){const E=o.consts,M=_l(o,s,2,h,bi(E,m));return ug(o,l,M,bi(E,v)),null!==M.attrs&&ep(M,M.attrs,!1),null!==M.mergedAttrs&&ep(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,l,u):m.data[v];Ei(M,!0);const O=M.mergedAttrs;null!==O&&ha(E,C,O);const N=M.classes;null!==N&&Br(E,C,N);const K=M.styles;return null!==K&&Fe(E,C,K),64!=(64&M.flags)&&uh(m,h,C,M),0===function Ga(){return bt.lFrame.elementDepthCount}()&&Qr(C,h),function Gl(){bt.lFrame.elementDepthCount++}(),Ir(M)&&(Dy(m,h,M),Cy(m,M,h)),null!==u&&Ty(h,M),Tl}function up(){let s=Fn();iu()?su():(s=s.parent,Ei(s,!1));const o=s;!function zl(){bt.lFrame.elementDepthCount--}();const l=Yt();return l.firstCreatePass&&(Ds(l,s),Xn(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function yf(s){return 0!=(16&s.flags)}(o)&&Dg(l,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Dm(s){return 0!=(32&s.flags)}(o)&&Dg(l,o,Pe(),o.stylesWithoutHost,!1),up}function Il(s,o,l,u){return Tl(s,o,l,u),up(),Il}function dp(s,o,l){const u=Pe(),h=Yt(),m=s+20,v=h.firstCreatePass?function Vh(s,o,l,u,h){const m=o.consts,v=bi(m,u),E=_l(o,s,8,"ng-container",v);return null!==v&&ep(E,v,!0),ug(o,l,E,bi(m,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(m,h,u,o,l):h.data[m];Ei(v,!0);const E=u[m]=u[11].createComment("");return uh(h,u,E,v),Qr(E,u),Ir(v)&&(Dy(h,u,v),Cy(h,v,u)),null!=l&&Ty(u,v),dp}function Wo(){let s=Fn();const o=Yt();return iu()?su():(s=s.parent,Ei(s,!1)),o.firstCreatePass&&(Ds(o,s),Xn(s)&&o.queries.elementEnd(s)),Wo}function Tg(){return Pe()}function Ig(s){return!!s&&"function"==typeof s.then}function WE(s){return!!s&&"function"==typeof s.subscribe}const qE=WE;function ev(s,o,l,u){const h=Pe(),m=Yt(),v=Fn();return function tv(s,o,l,u,h,m,v,E){const C=Ir(u),O=s.firstCreatePass&&yh(s),N=o[8],K=Fy(o);let oe=!0;if(3&u.type||E){const Qe=$r(u,o),lt=E?E(Qe):Qe,Ne=K.length,It=E?dn=>E(Dn(dn[u.index])):u.index;if(On(l)){let dn=null;if(!E&&C&&(dn=function Ag(s,o,l,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===u){const E=o[7],C=h[m+2];return E.length>C?E[C]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,u.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=m,dn.__ngLastListenerFn__=m,oe=!1;else{m=nv(u,o,N,m,!1);const kn=l.listen(lt,h,m);K.push(m,kn),O&&O.push(h,It,Ne,Ne+1)}}else m=nv(u,o,N,m,!0),lt.addEventListener(h,m,v),K.push(m),O&&O.push(h,It,Ne,v)}else m=nv(u,o,N,m,!1);const Me=u.outputs;let ze;if(oe&&null!==Me&&(ze=Me[h])){const Qe=ze.length;if(Qe)for(let lt=0;lt<Qe;lt+=2){const Ls=o[ze[lt]][ze[lt+1]].subscribe(m),fd=K.length;K.push(m,Ls),O&&O.push(h,u.index,fd,-(fd+1))}}}(m,h,h[11],v,s,o,!!l,u),ev}function ZE(s,o,l,u){try{return!1!==l(u)}catch(h){return fE(s,h),!1}}function nv(s,o,l,u,h){return function m(v){if(v===Function)return u;const E=2&s.flags?Gr(s.index,o):o;0==(32&o[2])&&_h(E);let C=ZE(o,0,u,v),M=m.__ngNextListenerFn__;for(;M;)C=ZE(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function rv(s=1){return function eo(s){return(bt.lFrame.contextLView=function hu(s,o){for(;s>0;)o=o[15],s--;return o}(s,bt.lFrame.contextLView))[8]}(s)}function Ju(s,o){let l=null;const u=function iT(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?ps(s,m,!0):hh(u,m))return h}else l=h}return l}function Bh(s){const o=Pe()[16][6];if(!o.projection){const u=o.projection=Ci(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const v=s?Ju(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function iv(s,o=0,l){const u=Pe(),h=Yt(),m=_l(h,20+s,16,null,l||null);null===m.projection&&(m.projection=o),su(),64!=(64&m.flags)&&function Vt(s,o,l){B0(o[11],0,o,l,k0(s,l,o),V0(l.parent||o[6],l,o))}(h,u,m)}function lv(s,o,l,u,h){const m=s[l+1],v=null===o;let E=u?Ln(m):hl(m),C=!1;for(;0!==E&&(!1===C||v);){const O=s[E+1];cv(s[E],o)&&(C=!0,s[E+1]=u?fl(O):Sr(O)),E=u?Ln(O):hl(O)}C&&(s[l+1]=u?Sr(m):fl(m))}function cv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ms(s,o)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uv(s){return s.substring(Xr.key,Xr.keyEnd)}function XE(s,o){const l=Xr.textEnd;return l===o?-1:(o=Xr.keyEnd=function ew(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Xr.key=o,l),Al(s,o,l))}function Al(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function fp(s,o,l){return qo(s,o,l,!1),fp}function hv(s,o){return qo(s,o,null,!0),hv}function xa(s,o){for(let l=function JE(s){return function Rg(s){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=s.length}(s),XE(s,Al(s,0,Xr.textEnd))}(o);l>=0;l=XE(o,l))Kr(s,uv(o),!0)}function qo(s,o,l,u){const h=Pe(),m=Yt(),v=Gi(2);m.firstUpdatePass&&rw(m,s,v,u),o!==Nt&&Ri(h,v,o)&&Pg(m,m.data[zr()],h,h[11],s,h[v+1]=function GT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Q(Kn(s)))),s}(o,l),u,v)}function nw(s,o){return o>=s.expandoStartIndex}function rw(s,o,l,u){const h=s.data;if(null===h[l+1]){const m=h[zr()],v=nw(s,l);gv(m,u)&&null===o&&!v&&(o=!1),o=function $T(s,o,l,u){const h=function ua(s){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=Rc(l=pp(null,s,o,l,u),o.attrs,u),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=pp(h,s,o,l,u),null===m){let C=function pv(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==hl(u))return s[Ln(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=pp(null,s,o,C[1],u),C=Rc(C,o.attrs,u),function iw(s,o,l,u){s[Ln(l?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else m=function sw(s,o,l){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=Rc(u,s[m].hostAttrs,l);return Rc(u,o.attrs,l)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,u),function UT(s,o,l,u,h,m){let v=m?o.classBindings:o.styleBindings,E=Ln(v),C=hl(v);s[u]=l;let O,M=!1;if(Array.isArray(l)){const N=l;O=N[1],(null===O||Ms(N,O)>0)&&(M=!0)}else O=l;if(h)if(0!==C){const K=Ln(s[E+1]);s[u+1]=Xm(K,E),0!==K&&(s[K+1]=Ca(s[K+1],u)),s[E+1]=function sT(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=Xm(E,0),0!==E&&(s[E+1]=Ca(s[E+1],u)),E=u;else s[u+1]=Xm(C,0),0===E?E=u:s[C+1]=Ca(s[C+1],u),C=u;M&&(s[u+1]=Sr(s[u+1])),lv(s,O,u,!0),lv(s,O,u,!1),function QE(s,o,l,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Ms(m,o)>=0&&(l[u+1]=fl(l[u+1]))}(o,O,s,u,m),v=Xm(E,C),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,u)}}function pp(s,o,l,u,h){let m=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(m=o[E],u=Rc(u,m.hostAttrs,h),m!==s);)E++;return null!==s&&(l.directiveStylingLast=E),u}function Rc(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Kr(s,v,!!l||o[++m]))}return void 0===s?null:s}function Pg(s,o,l,u,h,m,v,E){if(!(3&o.type))return;const C=s.data,M=C[E+1];_p(function _r(s){return 1==(1&s)}(M)?Ng(C,o,l,h,hl(M),v):void 0)||(_p(m)||function xu(s){return 2==(2&s)}(M)&&(m=Ng(C,null,l,h,E,v)),function Ee(s,o,l,u,h){const m=On(s);if(o)h?m?s.addClass(l,u):l.classList.add(u):m?s.removeClass(l,u):l.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:_e.DashCase;if(null==h)m?s.removeStyle(l,u,v):l.style.removeProperty(u);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=_e.Important),m?s.setStyle(l,u,h,v):l.style.setProperty(u,h,E?"important":"")}}}(u,v,Mo(zr(),l),h,m))}function Ng(s,o,l,u,h,m){const v=null===o;let E;for(;h>0;){const C=s[h],M=Array.isArray(C),O=M?C[1]:C,N=null===O;let K=l[h+1];K===Nt&&(K=N?_t:void 0);let oe=N?tc(K,u):O===u?K:void 0;if(M&&!_p(oe)&&(oe=tc(C,u)),_p(oe)&&(E=oe,v))return E;const Me=s[h+1];h=v?Ln(Me):hl(Me)}if(null!==o){let C=m?o.residualClasses:o.residualStyles;null!=C&&(E=tc(C,u))}return E}function _p(s){return void 0!==s}function gv(s,o){return 0!=(s.flags&(o?16:32))}function ow(s,o=""){const l=Pe(),u=Yt(),h=s+20,m=u.firstCreatePass?_l(u,h,1,o,null):u.data[h],v=l[h]=function _c(s,o){return On(s)?s.createText(o):s.createTextNode(o)}(l[11],o);uh(u,l,v,m),Ei(m,!1)}function _v(s){return Fg("",s,""),_v}function Fg(s,o,l){const u=Pe(),h=Ah(u,s,o,l);return h!==Nt&&Xt(u,zr(),h),Fg}function Lg(s,o,l,u,h){const m=Pe(),v=Sh(m,s,o,l,u,h);return v!==Nt&&Xt(m,zr(),v),Lg}function uw(s,o,l){!function Ko(s,o,l,u){const h=Yt(),m=Gi(2);h.firstUpdatePass&&rw(h,null,m,u);const v=Pe();if(l!==Nt&&Ri(v,m,l)){const E=h.data[zr()];if(gv(E,u)&&!nw(h,m)){let C=u?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(l=z(C,l||"")),Dg(h,E,v,l,u)}else!function mv(s,o,l,u,h,m,v,E){h===Nt&&(h=_t);let C=0,M=0,O=0<h.length?h[0]:null,N=0<m.length?m[0]:null;for(;null!==O||null!==N;){const K=C<h.length?h[C+1]:void 0,oe=M<m.length?m[M+1]:void 0;let ze,Me=null;O===N?(C+=2,M+=2,K!==oe&&(Me=N,ze=oe)):null===N||null!==O&&O<N?(C+=2,Me=O):(M+=2,Me=N,ze=oe),null!==Me&&Pg(s,o,l,u,Me,ze,v,E),O=C<h.length?h[C]:null,N=M<m.length?m[M]:null}}(h,E,v,v[11],v[m+1],v[m+1]=function mp(s,o,l){if(null==l||""===l)return _t;const u=[],h=Kn(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(u,m,h[m]);else"string"==typeof h&&o(u,h);return u}(s,o,l),u,m)}}(Kr,xa,Ah(Pe(),s,o,l),!0)}function $g(s,o,l){const u=Pe();return Ri(u,Xs(),o)&&Oi(Yt(),er(),u,s,o,u[11],l,!0),$g}const td=void 0;var KT=["en",[["a","p"],["AM","PM"],td],[["AM","PM"],td,td],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],td,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],td,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",td,"{1} 'at' {0}",td],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sv(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Pc={};function wp(s){const o=function xv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Mv(o);if(l)return l;const u=o.split("-")[0];if(l=Mv(u),l)return l;if("en"===u)return KT;throw new Error(`Missing locale data for the locale "${s}".`)}function Gg(s){return wp(s)[Tt.PluralCase]}function Mv(s){return s in Pc||(Pc[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Pc[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const zh="en-US";let _w=zh;function Ap(s,o,l,u,h){if(s=q(s),Array.isArray(s))for(let m=0;m<s.length;m++)Ap(s[m],o,l,u,h);else{const m=Yt(),v=Pe();let E=ju(s)?s:q(s.provide),C=gE(s);const M=Fn(),O=1048575&M.providerIndexes,N=M.directiveStart,K=M.providerIndexes>>20;if(ju(s)||!s.multi){const oe=new da(C,h,Lh),Me=xp(E,o,h?O:O+K,N);-1===Me?(fr(so(M,v),m,E),Sp(m,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(oe),v.push(oe)):(l[Me]=oe,v[Me]=oe)}else{const oe=xp(E,o,O+K,N),Me=xp(E,o,O,O+K),ze=oe>=0&&l[oe],Qe=Me>=0&&l[Me];if(h&&!Qe||!h&&!ze){fr(so(M,v),m,E);const lt=function Xv(s,o,l,u,h){const m=new da(s,l,Lh);return m.multi=[],m.index=o,m.componentProviders=0,Mp(m,h,u&&!l),m}(h?Jv:Lw,l.length,h,u,C);!h&&Qe&&(l[Me].providerFactory=lt),Sp(m,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(lt),v.push(lt)}else Sp(m,s,oe>-1?oe:Me,Mp(l[h?Me:oe],C,!h&&u));!h&&u&&Qe&&l[Me].componentProviders++}}}function Sp(s,o,l,u){const h=ju(o),m=function _E(s){return!!s.useClass}(o);if(h||m){const C=(m?q(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=M.indexOf(l);-1===O?M.push(l,[u,C]):M[O+1].push(u,C)}else M.push(l,C)}}}function Mp(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function xp(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function Lw(s,o,l,u){return o_(this.multi,[])}function Jv(s,o,l,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=as(l,l[1],this.providerFactory.index,u);m=E.slice(0,v),o_(h,m);for(let C=v;C<E.length;C++)m.push(E[C])}else m=[],o_(h,m);return m}function o_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function rd(s,o=[]){return l=>{l.providersResolver=(u,h)=>function Qv(s,o,l){const u=Yt();if(u.firstCreatePass){const h=qt(s);Ap(l,u.data,u.blueprint,h,!0),Ap(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Vw{}class pI{resolveComponentFactory(o){throw function hI(s){const o=Error(`No component factory found for ${Q(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Op=(()=>{class s{}return s.NULL=new pI,s})();function mI(){return Zh(Fn(),Pe())}function Zh(s,o){return new Rp($r(s,o))}let Rp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=mI,s})();function gI(s){return s instanceof Rp?s.nativeElement:s}class a_{}let Uw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Hw(){const s=Pe(),l=Gr(Fn().index,s);return function jw(s){return s[11]}(He(l)?l:s)}(),s})(),l_=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class hn{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const tb=new hn("13.2.7"),c_={};function Fc(s,o,l,u,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&u.push(Dn(m)),xt(m))for(let E=10;E<m.length;E++){const C=m[E],M=C[1].firstChild;null!==M&&Fc(C[1],C,M,u)}const v=l.type;if(8&v)Fc(s,o,l.child,u);else if(32&v){const E=ot(l,o);let C;for(;C=E();)u.push(C)}else if(16&v){const E=Ge(o,l);if(Array.isArray(E))u.push(...E);else{const C=Yn(o[16]);Fc(C[1],C,E,u,!0)}}l=h?l.projectionNext:l.next}return u}class kp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Fc(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xt(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(lh(o,u),Ss(l,u))}this._attachedToViewContainer=!1}fs(this._lView[1],this._lView)}onDestroy(o){Ay(this._lView[1],this._lView,null,o)}markForCheck(){_h(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Py(this._lView[1],this._lView,this.context)}checkNoChanges(){!function dE(s,o,l){Js(!0);try{Py(s,o,l)}finally{Js(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cl(s,o){at(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=o}}class rr extends kp{constructor(o){super(o),this._view=o}detectChanges(){Ny(this._view)}checkNoChanges(){!function Xf(s){Js(!0);try{Ny(s)}finally{Js(!1)}}(this._view)}get context(){return null}}class Ti extends Op{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=an(o);return new Ns(l,this.ngModule)}}function Zo(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Ns extends Vw{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Pt(s){return s.map(Ar).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Zo(this.componentDef.inputs)}get outputs(){return Zo(this.componentDef.outputs)}create(o,l,u,h){const m=(h=h||this.ngModule)?function yI(s,o){return{get:(l,u,h)=>{const m=s.get(l,c_,h);return m!==c_||u===c_?m:o.get(l,u,h)}}}(o,h.injector):o,v=m.get(a_,aa),E=m.get(l_,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=u?function Iy(s,o,l){if(On(s))return s.selectRootElement(o,l===$t.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):ll(v.createRenderer(null,this.componentDef),M,function $w(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),N=this.componentDef.onPush?576:528,K=function $y(s,o){return{components:[],scheduler:s||hy,clean:hE,playerHandler:o||null,flags:0}}(),oe=lg(0,null,null,1,0,null,null,null,null,null),Me=wc(null,oe,K,N,null,null,v,C,E,m);let ze,Qe;xo(Me);try{const lt=function Hy(s,o,l,u,h,m){const v=l[1];l[20]=s;const C=_l(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(ep(C,M,!0),null!==s&&(ha(h,s,M),null!==C.classes&&Br(h,s,C.classes),null!==C.styles&&Fe(h,s,C.styles)));const O=u.createRenderer(s,o),N=wc(l,J0(o),null,o.onPush?64:16,l[20],C,u,O,m||null,null);return v.firstCreatePass&&(fr(so(C,l),v,o.type),Ry(v,C),sE(C,l.length,1)),Uu(l,N),l[20]=N}(O,this.componentDef,Me,v,C);if(O)if(u)ha(C,O,["ng-version",tb.full]);else{const{attrs:Ne,classes:It}=function G0(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&l.push(m);else{if(!Go(h))break;h=m}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ne&&ha(C,O,Ne),It&&It.length>0&&Br(C,O,It.join(" "))}if(Qe=$a(oe,20),void 0!==l){const Ne=Qe.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const dn=l[It];Ne.push(null!=dn?Array.from(dn):null)}}ze=function IE(s,o,l,u,h){const m=l[1],v=function Yf(s,o,l){const u=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),oE(s,u,o,Fu(s,o,1,null),l));const h=as(o,s,u.directiveStart,u);Qr(h,o);const m=$r(u,o);return m&&Qr(m,o),h}(m,l,o);if(u.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=Fn();o.contentQueries(1,v,C.directiveStart)}const E=Fn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(to(E.index),dg(l[1],E,0,E.directiveStart,E.directiveEnd,o),nE(o,v)),v}(lt,this.componentDef,Me,K,[AT]),Mr(oe,Me,null)}finally{Ro()}return new bI(this.componentType,ze,Zh(Qe,Me),Me,Qe)}}class bI extends class eb{}{constructor(o,l,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new rr(h),this.componentType=o}get injector(){return new vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Yh{}class zw{}const Rn=new Map;class rb extends Yh{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ti(this);const u=wn(o);this._bootstrapComponents=g(u.bootstrap),this._r3Injector=pg(o,l,[{provide:Yh,useValue:this},{provide:Op,useValue:this.componentFactoryResolver}],Q(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=go.THROW_IF_NOT_FOUND,u=ht.Default){return o===go||o===Yh||o===vh?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ib extends zw{constructor(o){super(),this.moduleType=o,null!==wn(o)&&function Hr(s){const o=new Set;!function l(u){const h=wn(u,!0),m=h.id;null!==m&&(function Lc(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${Q(o)} vs ${Q(o.name)}`)}(m,Rn.get(m),u),Rn.set(m,u));const v=g(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new rb(this.moduleType,o)}}function Pp(s,o,l,u,h,m){const v=o+l;return Ri(s,v,h)?function Aa(s,o,l){return s[o]=l}(s,v+1,m?u.call(m,h):u(h)):function Yo(s,o){const l=s[o];return l===Nt?void 0:l}(s,v+1)}function Np(s,o){const l=Yt();let u;const h=s+20;l.firstCreatePass?(u=function AI(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const m=u.factory||(u.factory=vi(u.type)),v=sr(Lh);try{const E=io(!1),C=m();return io(E),function kE(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,Pe(),h,C),C}finally{sr(v)}}function Vc(s,o,l){const u=s+20,h=Pe(),m=$i(h,u);return function Lp(s,o){return s[1].data[o].pure}(h,u)?Pp(h,function Fr(){const s=bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,m.transform,l,m):m.transform(l)}function lb(s){return o=>{setTimeout(s,void 0,o)}}const vo=class SI extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,m,v;let E=o,C=l||(()=>null),M=u;if(o&&"object"==typeof o){const N=o;E=null===(h=N.next)||void 0===h?void 0:h.bind(N),C=null===(m=N.error)||void 0===m?void 0:m.bind(N),M=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(C=lb(C),E&&(E=lb(E)),M&&(M=lb(M)));const O=super.subscribe({next:E,error:C,complete:M});return o instanceof $.w0&&o.add(O),O}};function cb(){return this._results[Cl()]()}class Vp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Cl(),u=Vp.prototype;u[l]||(u[l]=cb)}get changes(){return this._changes||(this._changes=new vo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=pr(o);(this._changesDetected=!function ma(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Qo=(()=>{class s{}return s.__NG_ELEMENT_ID__=ub,s})();const Qw=Qo,Jw=class extends Qw{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=wc(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(l)),Mr(l,u,o),new kp(u)}};function ub(){return Qh(Fn(),Pe())}function Qh(s,o){return 4&s.type?new Jw(o,s,Zh(s,o)):null}let d_=(()=>{class s{}return s.__NG_ELEMENT_ID__=h_,s})();function h_(){return Bp(Fn(),Pe())}const f_=d_,db=class extends f_{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Zh(this._hostTNode,this._hostLView)}get injector(){return new vt(this._hostTNode,this._hostLView)}get parentInjector(){const o=si(this._hostTNode,this._hostLView);if(ii(o)){const l=Tn(o,this._hostLView),u=kt(o);return new vt(l[1].data[u+8],l)}return new vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Jh(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,m){const v=o&&!function tr(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const N=l||{};E=N.index,u=N.injector,h=N.projectableNodes,m=N.ngModuleRef}const C=v?o:new Ns(an(o)),M=u||this.parentInjector;if(!m&&null==C.ngModule){const K=(v?M:this.parentInjector).get(Yh,null);K&&(m=K)}const O=C.create(M,h,void 0,m);return this.insert(O.hostView,E),O}insert(o,l){const u=o._lView,h=u[1];if(function Hl(s){return xt(s[3])}(u)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const N=u[3],K=new db(N,N[6],N[3]);K.detach(K.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function x0(s,o,l,u){const h=10+u,m=l.length;u>0&&(l[h-1][4]=o),u<m-10?(o[4]=l[h],Za(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function O0(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,u,v,m);const E=Er(m,v),C=u[11],M=Ym(C,v[7]);return null!==M&&function ah(s,o,l,u,h,m){u[0]=h,u[6]=o,at(s,u,l,1,h,m)}(h,v[6],C,u,M,E),o.attachToViewContainerRef(),Za(hb(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Jh(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=lh(this._lContainer,l);u&&(Ss(hb(this._lContainer),l),fs(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=lh(this._lContainer,l);return u&&null!=Ss(hb(this._lContainer),l)?new kp(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Jh(s){return s[8]}function hb(s){return s[8]||(s[8]=[])}function Bp(s,o){let l;const u=o[s.index];if(xt(u))l=u;else{let h;if(8&s.type)h=Dn(u);else{const m=o[11];h=m.createComment("");const v=$r(s,o);ul(m,Ym(m,v),h,function Qm(s,o){return On(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=l=Bu(u,o,h,s),Uu(o,l)}return new db(l,s,o)}class ka{constructor(o){this.queryList=o,this.matches=null}clone(){return new ka(this.queryList)}setDirty(){this.queryList.setDirty()}}class fb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<u;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new fb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==_b(o,l).matches&&this.queries[l].setDirty()}}class pb{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class m_{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new m_(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class sd{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new sd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,l,Bc(l,m)),this.matchTNodeWithReadOption(o,l,Ht(l,o,m,!1,!1))}else u===Qo?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ht(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Rp||h===d_||h===Qo&&4&l.type)this.addMatch(l.index,-2);else{const m=Ht(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Bc(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function xI(s,o,l,u){return-1===l?function MI(s,o){return 11&s.type?Zh(s,o):4&s.type?Qh(s,o):null}(o,s):-2===l?function OI(s,o,l){return l===Rp?Zh(o,s):l===Qo?Qh(o,s):l===d_?Bp(o,s):void 0}(s,o,u):as(s,s[1],l,o)}function Xw(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const M=v[C];E.push(M<0?null:xI(o,m[M],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function g_(s,o,l,u){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=Xw(s,o,h,l);for(let E=0;E<m.length;E+=2){const C=m[E];if(C>0)u.push(v[E/2]);else{const M=m[E+1],O=o[-C];for(let N=10;N<O.length;N++){const K=O[N];K[17]===K[3]&&g_(K[1],K,M,u)}if(null!==O[9]){const N=O[9];for(let K=0;K<N.length;K++){const oe=N[K];g_(oe[1],oe,M,u)}}}}}return u}function eC(s){const o=Pe(),l=Yt(),u=cu();uu(u+1);const h=_b(l,u);if(s.dirty&&Zs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?g_(l,o,u,[]):Xw(l,o,h,u);s.reset(m,gI),s.notifyOnChanges()}return!0}return!1}function tC(s,o,l){const u=Yt();u.firstCreatePass&&(rC(u,new pb(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),gb(u,Pe(),o)}function mb(s,o,l,u){const h=Yt();if(h.firstCreatePass){const m=Fn();rC(h,new pb(o,l,u),m.index),function kI(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}gb(h,Pe(),l)}function nC(){return function RI(s,o){return s[19].queries[o].queryList}(Pe(),cu())}function gb(s,o,l){const u=new Vp(4==(4&l));Ay(s,o,u,u.destroy),null===o[19]&&(o[19]=new fb),o[19].queries.push(new ka(u))}function rC(s,o,l){null===s.queries&&(s.queries=new m_),s.queries.track(new sd(o,l))}function _b(s,o){return s.queries.getByIndex(o)}function yb(s,o){return Qh(s,o)}function D_(...s){}const cd=new In("Application Initializer");let Rl=(()=>{class s{constructor(l){this.appInits=l,this.resolve=D_,this.reject=D_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(Ig(m))l.push(m);else if(qE(m)){const v=new Promise((E,C)=>{m.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(cn(cd,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const T_=new In("AppId",{providedIn:"root",factory:function jc(){return`${Ob()}${Ob()}${Ob()}`}});function Ob(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pC=new In("Platform Initializer"),An=new In("Platform ID"),kl=new In("appBootstrapListener");let di=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const kb=new In("LocaleId",{providedIn:"root",factory:()=>Vo(kb,ht.Optional|ht.SkipSelf)||function zI(){return"undefined"!=typeof $localize&&$localize.locale||zh}()}),mC=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gC{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let _C=(()=>{class s{compileModuleSync(l){return new ib(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=g(wn(l).declarations).reduce((v,E)=>{const C=an(E);return C&&v.push(new Ns(C)),v},[]);return new gC(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ud=(()=>Promise.resolve(0))();function Xo(s){"undefined"==typeof Zone?ud.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function yC(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function pM(s){const o=()=>{!function qI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Fb(s),s.isCheckStableRunning=!0,nf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Fb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,m,v,E)=>{try{return I_(s),l.invokeTask(h,m,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),KI(s)}},onInvoke:(l,u,h,m,v,E,C)=>{try{return I_(s),l.invoke(h,m,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),KI(s)}},onHasTask:(l,u,h,m)=>{l.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Fb(s),nf(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,vC,D_,D_);try{return m.runTask(v,l,u)}finally{m.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const vC={};function nf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Fb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function I_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function KI(s){s._nesting--,nf(s)}class mM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let bC=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),Xo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xo(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(cn(Fs))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),EC=(()=>{class s{constructor(){this._applications=new Map,wC.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return wC.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();class gM{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function _M(s){wC=s}let Pa,wC=new gM;const ZI=new In("AllowMultipleToken");class CC{constructor(o,l){this.name=o,this.token=l}}function DC(s,o,l=[]){const u=`Platform: ${o}`,h=new In(u);return(m=[])=>{let v=jp();if(!v||v.injector.get(ZI,!1))if(s)s(l.concat(m).concat({provide:h,useValue:!0}));else{const E=l.concat(m).concat({provide:h,useValue:!0},{provide:jn,useValue:"platform"});!function YI(s){if(Pa&&!Pa.destroyed&&!Pa.injector.get(ZI,!1))throw new xe(400,"");Pa=s.get(A_);const o=s.get(pC,null);o&&o.forEach(l=>l())}(go.create({providers:E,name:u}))}return function hi(s){const o=jp();if(!o)throw new xe(401,"");return o}()}}function jp(){return Pa&&!Pa.destroyed?Pa:null}let A_=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const E=function QI(s,o){let l;return l="noop"===s?new mM:("zone.js"===s?void 0:s)||new Fs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Fs,useValue:E}];return E.run(()=>{const M=go.create({providers:C,parent:this.injector,name:l.moduleType.name}),O=l.create(M),N=O.injector.get(mr,null);if(!N)throw new xe(402,"");return E.runOutsideAngular(()=>{const K=E.onError.subscribe({next:oe=>{N.handleError(oe)}});O.onDestroy(()=>{Lb(this._modules,O),K.unsubscribe()})}),function JI(s,o,l){try{const u=l();return Ig(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,E,()=>{const K=O.injector.get(Rl);return K.runInitializers(),K.donePromise.then(()=>(function Ov(s){pn(s,"Expected localeId to be defined"),"string"==typeof s&&(_w=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(kb,zh)||zh),this._moduleDoBootstrap(O),O))})})}bootstrapModule(l,u=[]){const h=TC({},u);return function yM(s,o,l){const u=new ib(l);return Promise.resolve(u)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const u=l.injector.get(S_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new xe(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(cn(go))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function TC(s,o){return Array.isArray(o)?o.reduce(TC,s):Object.assign(Object.assign({},s),o)}let S_=(()=>{class s{constructor(l,u,h,m,v){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new k.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new k.y(M=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),Xo(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{O.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ee.T)(E,C.pipe((0,U.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new xe(405,"");let h;h=l instanceof Vw?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const m=function vM(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Yh),E=h.create(go.NULL,[],u||h.selector,m),C=E.location.nativeElement,M=E.injector.get(bC,null),O=M&&E.injector.get(EC);return M&&O&&O.registerApplication(C,M),E.onDestroy(()=>{this.detachView(E.hostView),Lb(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Lb(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(kl,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(cn(Fs),cn(go),cn(mr),cn(Op),cn(Rl))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Lb(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let AC=!0,Pi=!1;function M_(){return Pi=!0,AC}function SC(){if(Pi)throw new Error("Cannot enable prod mode after platform setup.");AC=!1}let Vb=(()=>{class s{}return s.__NG_ELEMENT_ID__=Bb,s})();function Bb(s){return function eA(s,o,l){if(_n(s)&&!l){const u=Gr(s.index,o);return new kp(u,u)}return 47&s.type?new kp(o[16],o):null}(Fn(),Pe(),16==(16&s))}class k_{constructor(){}supports(o){return sp(o)}create(o){return new LC(o)}}const FC=(s,o)=>o;class LC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||FC}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,m=null;for(;l||u;){const v=!u||l&&l.currentIndex<BC(u,h,m)?l:u,E=BC(v,h,m),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const M=E-h,O=C-h;if(M!=O){for(let K=0;K<M;K++){const oe=K<m.length?m[K]:m[K]=0,Me=oe+K;O<=Me&&Me<M&&(m[K]=oe+1)}m[v.previousIndex]=O-M}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!sp(o))throw new xe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)m=o[E],v=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,m,v,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,E),u=!0),l=l._next}else h=0,function RT(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Cl()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new Ub(l,u),m,h),o}_verifyReinsertion(o,l,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new VC),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ub{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class VC{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new rA,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BC(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class zp{constructor(){}supports(o){return o instanceof Map||zy(o)}create(){return new jb}}class jb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||zy(o)))throw new xe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new Hb(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class Hb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function P_(){return new N_([new k_])}let N_=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||P_()),deps:[[s,new ur,new Xa]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new xe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:P_}),s})();function $b(){return new rf([new zp])}let rf=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||$b()),deps:[[s,new ur,new Xa]]}}find(l){const u=this.factories.find(m=>m.supports(l));if(u)return u;throw new xe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:$b}),s})();const oA=DC(null,"core",[{provide:An,useValue:"unknown"},{provide:A_,deps:[go]},{provide:EC,deps:[]},{provide:di,deps:[]}]);let aA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(cn(S_))},s.\u0275mod=ae({type:s}),s.\u0275inj=on({}),s})()},3942:(ne,G,A)=>{A.d(G,{Z:()=>xe});var c=A(2090),$=A(4859),k=A(9681),ee=A(1877);class U{constructor(de,he){this._delegate=de,this.firebase=he,(0,k._addComponent)(de,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(de,he=k._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(de);return!Le.isInitialized()&&"EXPLICIT"===(null===(je=Le.getComponent())||void 0===je?void 0:je.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:he})}_removeServiceInstance(de,he=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(he)}_addComponent(de){(0,k._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,k._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function z(){const ke=function Q(ke){const de={},he={__esModule:!0,initializeApp:function Ie(Ze,ce={}){const et=k.initializeApp(Ze,ce);if((0,c.r3)(de,et.name))return de[et.name];const le=new ke(et,he);return de[et.name]=le,le},app:Le,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Ze){const ce=Ze.name,et=ce.replace("-compat","");if(k._registerComponent(Ze)&&"PUBLIC"===Ze.type){const le=(ye=Le())=>{if("function"!=typeof ye[et])throw W.create("invalid-app-argument",{appName:ce});return ye[et]()};void 0!==Ze.serviceProps&&(0,c.ZB)(le,Ze.serviceProps),he[et]=le,ke.prototype[et]=function(...ye){return this._getService.bind(this,ce).apply(this,Ze.multipleInstances?ye:[])}}return"PUBLIC"===Ze.type?he[et]:null},removeApp:function je(Ze){delete de[Ze]},useAsService:function qe(Ze,ce){return"serverAuth"===ce?null:ce},modularAPIs:k}};function Le(Ze){if(!(0,c.r3)(de,Ze=Ze||k._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Ze});return de[Ze]}return he.default=he,Object.defineProperty(he,"apps",{get:function ve(){return Object.keys(de).map(Ze=>de[Ze])}}),Le.App=ke,he}(U);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function de(he){(0,c.ZB)(ke,he)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ke}(),L=new ee.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=F;!function be(ke){(0,k.registerVersion)("@firebase/app-compat","0.1.23",ke)}()},9681:(ne,G,A)=>{A.r(G),A.d(G,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>kr,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>ir,_addOrOverwriteComponent:()=>Pn,_apps:()=>Je,_clearComponents:()=>nn,_components:()=>tn,_getProvider:()=>ei,_registerComponent:()=>rn,_removeServiceInstance:()=>on,deleteApp:()=>ti,getApp:()=>wr,getApps:()=>Li,initializeApp:()=>mi,onLog:()=>Gn,registerVersion:()=>Pr,setLogLevel:()=>sr});var c=A(5861),$=A(4859),k=A(1877),ee=A(2090);class U{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function te(nt){const Re=nt.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(st)){const yt=st.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(st=>st).join(" ")}}const W="@firebase/app",Q="0.7.22",z=new k.Yd("@firebase/app"),en="[DEFAULT]",pn={[W]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,tn=new Map;function ir(nt,Re){try{nt.container.addComponent(Re)}catch(st){z.debug(`Component ${Re.name} failed to register with FirebaseApp ${nt.name}`,st)}}function Pn(nt,Re){nt.container.addOrOverwriteComponent(Re)}function rn(nt){const Re=nt.name;if(tn.has(Re))return z.debug(`There were multiple attempts to register component ${Re}.`),!1;tn.set(Re,nt);for(const st of Je.values())ir(st,nt);return!0}function ei(nt,Re){const st=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),nt.container.getProvider(Re)}function on(nt,Re,st=en){ei(nt,Re).clearInstance(st)}function nn(){tn.clear()}const Rr=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ii{constructor(Re,st,yt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const kr="9.7.0";function mi(nt,Re={}){"object"!=typeof Re&&(Re={name:Re});const st=Object.assign({name:en,automaticDataCollectionEnabled:!1},Re),yt=st.name;if("string"!=typeof yt||!yt)throw Rr.create("bad-app-name",{appName:String(yt)});const zt=Je.get(yt);if(zt){if((0,ee.vZ)(nt,zt.options)&&(0,ee.vZ)(st,zt.config))return zt;throw Rr.create("duplicate-app",{appName:yt})}const Wt=new $.H0(yt);for(const j of tn.values())Wt.addComponent(j);const Z=new Ii(nt,st,Wt);return Je.set(yt,Z),Z}function wr(nt=en){const Re=Je.get(nt);if(!Re)throw Rr.create("no-app",{appName:nt});return Re}function Li(){return Array.from(Je.values())}function ti(nt){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(nt){const Re=nt.name;Je.has(Re)&&(Je.delete(Re),yield Promise.all(nt.container.getProviders().map(st=>st.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Pr(nt,Re,st){var yt;let zt=null!==(yt=pn[nt])&&void 0!==yt?yt:nt;st&&(zt+=`-${st}`);const Wt=zt.match(/\s|\//),Z=Re.match(/\s|\//);if(Wt||Z){const j=[`Unable to register library "${zt}" with version "${Re}":`];return Wt&&j.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Wt&&Z&&j.push("and"),Z&&j.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void z.warn(j.join(" "))}rn(new $.wA(`${zt}-version`,()=>({library:zt,version:Re}),"VERSION"))}function Gn(nt,Re){if(null!==nt&&"function"!=typeof nt)throw Rr.create("invalid-log-argument");(0,k.Am)(nt,Re)}function sr(nt){(0,k.Ub)(nt)}const En="firebase-heartbeat-store";let or=null;function es(){return or||(or=(0,ee.X3)("firebase-heartbeat-database",1,(nt,Re)=>{0===Re&&nt.createObjectStore(En)}).catch(nt=>{throw Rr.create("storage-open",{originalErrorMessage:nt.message})})),or}function $t(){return($t=(0,c.Z)(function*(nt){try{return(yield es()).transaction(En).objectStore(En).get(ar(nt))}catch(Re){throw Rr.create("storage-get",{originalErrorMessage:Re.message})}})).apply(this,arguments)}function ct(nt,Re){return At.apply(this,arguments)}function At(){return(At=(0,c.Z)(function*(nt,Re){try{const yt=(yield es()).transaction(En,"readwrite");return yield yt.objectStore(En).put(Re,ar(nt)),yt.complete}catch(st){throw Rr.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function ar(nt){return`${nt.name}!${nt.options.appId}`}class ts{constructor(Re){this.container=Re,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new _t(st),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Re=this;return(0,c.Z)(function*(){const yt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Dr();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Re._heartbeatsCache.heartbeats.some(Wt=>Wt.date===zt))return Re._heartbeatsCache.heartbeats.push({date:zt,agent:yt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(Wt=>{const Z=new Date(Wt.date).valueOf();return Date.now()-Z<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,c.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const st=Dr(),{heartbeatsToSend:yt,unsentEntries:zt}=function yr(nt,Re=1024){const st=[];let yt=nt.slice();for(const zt of nt){const Wt=st.find(Z=>Z.agent===zt.agent);if(Wt){if(Wt.dates.push(zt.date),vr(st)>Re){Wt.dates.pop();break}}else if(st.push({agent:zt.agent,dates:[zt.date]}),vr(st)>Re){st.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:st,unsentEntries:yt}}(Re._heartbeatsCache.heartbeats),Wt=(0,ee.L)(JSON.stringify({version:2,heartbeats:yt}));return Re._heartbeatsCache.lastSentHeartbeatDate=st,zt.length>0?(Re._heartbeatsCache.heartbeats=zt,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),Wt})()}}function Dr(){return(new Date).toISOString().substring(0,10)}class _t{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,c.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function wo(nt){return $t.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var st=this;return(0,c.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const Wt=yield st.read();return ct(st.app,{lastSentHeartbeatDate:null!==(yt=Re.lastSentHeartbeatDate)&&void 0!==yt?yt:Wt.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var st=this;return(0,c.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const Wt=yield st.read();return ct(st.app,{lastSentHeartbeatDate:null!==(yt=Re.lastSentHeartbeatDate)&&void 0!==yt?yt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Re.heartbeats]})}})()}}function vr(nt){return(0,ee.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Gt(nt){rn(new $.wA("platform-logger",Re=>new U(Re),"PRIVATE")),rn(new $.wA("heartbeat",Re=>new ts(Re),"PRIVATE")),Pr(W,Q,nt),Pr(W,Q,"esm2017"),Pr("fire-js","")}("")},4859:(ne,G,A)=>{A.d(G,{wA:()=>k,H0:()=>Q});var c=A(5861),$=A(2090);class k{constructor(F,L,q){this.name=F,this.instanceFactory=L,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ee="[DEFAULT]";class U{constructor(F,L){this.name=F,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const L=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(L)){const q=new $.BH;if(this.instancesDeferred.set(L,q),this.isInitialized(L)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:L});Te&&q.resolve(Te)}catch(Te){}}return this.instancesDeferred.get(L).promise}getImmediate(F){var L;const q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Te=null!==(L=null==F?void 0:F.optional)&&void 0!==L&&L;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(be){if(Te)return null;throw be}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function W(z){return"EAGER"===z.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(L){}for(const[L,q]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(L);try{const be=this.getOrInitializeService({instanceIdentifier:Te});q.resolve(be)}catch(be){}}}}clearInstance(F=ee){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,c.Z)(function*(){const L=Array.from(F.instances.values());yield Promise.all([...L.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...L.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ee){return this.instances.has(F)}getOptions(F=ee){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:L={}}=F,q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:q,options:L});for(const[be,xe]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(be)&&xe.resolve(Te);return Te}onInit(F,L){var q;const Te=this.normalizeInstanceIdentifier(L),be=null!==(q=this.onInitCallbacks.get(Te))&&void 0!==q?q:new Set;be.add(F),this.onInitCallbacks.set(Te,be);const xe=this.instances.get(Te);return xe&&F(xe,Te),()=>{be.delete(F)}}invokeOnInitCallbacks(F,L){const q=this.onInitCallbacks.get(L);if(q)for(const Te of q)try{Te(F,L)}catch(be){}}getOrInitializeService({instanceIdentifier:F,options:L={}}){let q=this.instances.get(F);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(z=F,z===ee?void 0:z),options:L}),this.instances.set(F,q),this.instancesOptions.set(F,L),this.invokeOnInitCallbacks(q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,q)}catch(Te){}var z;return q||null}normalizeInstanceIdentifier(F=ee){return this.component?this.component.multipleInstances?F:ee:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const L=this.getProvider(F.name);if(L.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);L.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const L=new U(F,this);return this.providers.set(F,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(ne,G,A)=>{A.d(G,{in:()=>$,Yd:()=>W,Ub:()=>Q,Am:()=>z});const c=[];var $=(()=>{return(F=$||($={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",$;var F})();const k={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,U={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},te=(F,L,...q)=>{if(L<F.logLevel)return;const Te=(new Date).toISOString(),be=U[L];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[be](`[${Te}]  ${F.name}:`,...q)};class W{constructor(L){this.name=L,this._logLevel=ee,this._logHandler=te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in $))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?k[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...L),this._logHandler(this,$.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...L),this._logHandler(this,$.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,$.INFO,...L),this._logHandler(this,$.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,$.WARN,...L),this._logHandler(this,$.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...L),this._logHandler(this,$.ERROR,...L)}}function Q(F){c.forEach(L=>{L.setLogLevel(F)})}function z(F,L){for(const q of c){let Te=null;L&&L.level&&(Te=k[L.level]),q.userLogHandler=null===F?null:(be,xe,...ke)=>{const de=ke.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(je){return null}}).filter(he=>he).join(" ");xe>=(null!=Te?Te:be.logLevel)&&F({level:$[xe].toLowerCase(),message:de,args:ke,type:be.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ne){const G={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},A="function"==typeof ne?ne():ne,k=Object.assign({},G,{features:A.features||!!A.logOnly&&{pause:!0,export:!0,test:!0}||G.features},A);if(k.maxAge&&k.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${k.maxAge}`);return k}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(G,A){if(this.action=G,this.timestamp=A,this.type=PERFORM_ACTION,void 0===G.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(G){this.timestamp=G,this.type=RESET}}class Rollback{constructor(G){this.timestamp=G,this.type=ROLLBACK}}class Commit{constructor(G){this.timestamp=G,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(G){this.id=G,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(G,A,c=!0){this.start=G,this.end=A,this.active=c,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(G){this.index=G,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(G){this.actionId=G,this.type=JUMP_TO_ACTION}}class ImportState{constructor(G){this.nextLiftedState=G,this.type=IMPORT_STATE}}class LockChanges{constructor(G){this.status=G,this.type=LOCK_CHANGES}}class PauseRecording{constructor(G){this.status=G,this.type=PAUSE_RECORDING}}function difference(ne,G){return ne.filter(A=>G.indexOf(A)<0)}function unliftState(ne){const{computedStates:G,currentStateIndex:A}=ne;if(A>=G.length){const{state:$}=G[G.length-1];return $}const{state:c}=G[A];return c}function unliftAction(ne){return ne.actionsById[ne.nextActionId-1]}function liftAction(ne){return new PerformAction(ne,+Date.now())}function sanitizeActions(ne,G){return Object.keys(G).reduce((A,c)=>{const $=Number(c);return A[$]=sanitizeAction(ne,G[$],$),A},{})}function sanitizeAction(ne,G,A){return Object.assign(Object.assign({},G),{action:ne(G.action,A)})}function sanitizeStates(ne,G){return G.map((A,c)=>({state:sanitizeState(ne,A.state,c),error:A.error}))}function sanitizeState(ne,G,A){return ne(G,A)}function shouldFilterActions(ne){return ne.predicate||ne.actionsSafelist||ne.actionsBlocklist}function filterLiftedState(ne,G,A,c){const $=[],k={},ee=[];return ne.stagedActionIds.forEach((U,te)=>{const W=ne.actionsById[U];!W||te&&isActionFiltered(ne.computedStates[te],W,G,A,c)||(k[U]=W,$.push(U),ee.push(ne.computedStates[te]))}),Object.assign(Object.assign({},ne),{stagedActionIds:$,actionsById:k,computedStates:ee})}function isActionFiltered(ne,G,A,c,$){const k=A&&!A(ne,G.action),ee=c&&!G.action.type.match(c.map(te=>escapeRegExp(te)).join("|")),U=$&&G.action.type.match($.map(te=>escapeRegExp(te)).join("|"));return k||ee||U}function escapeRegExp(ne){return ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ne,G,A,c,$){if(c)return{state:A,error:"Interrupted by an error up the chain"};let ee,k=A;try{k=ne(A,G)}catch(U){ee=U.toString(),$.handleError(U)}return{state:k,error:ee}}function recomputeStates(ne,G,A,c,$,k,ee,U,te){if(G>=ne.length&&ne.length===k.length)return ne;const W=ne.slice(0,G),Q=k.length-(te?1:0);for(let z=G;z<Q;z++){const F=k[z],L=$[F].action,q=W[z-1],Te=q?q.state:c,be=q?q.error:void 0,ke=ee.indexOf(F)>-1?q:computeNextEntry(A,L,Te,be,U);W.push(ke)}return te&&W.push(ne[ne.length-1]),W}function liftInitialState(ne,G){return{monitorState:G(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ne,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ne,G,A,c,$={}){return k=>(ee,U)=>{let{monitorState:te,actionsById:W,nextActionId:Q,stagedActionIds:z,skippedActionIds:F,committedState:L,currentStateIndex:q,computedStates:Te,isLocked:be,isPaused:xe}=ee||G;function ke(je){let Le=je,Ie=z.slice(1,Le+1);for(let ve=0;ve<Ie.length;ve++){if(Te[ve+1].error){Le=ve,Ie=z.slice(1,Le+1);break}delete W[Ie[ve]]}F=F.filter(ve=>-1===Ie.indexOf(ve)),z=[0,...z.slice(Le+1)],L=Te[Le].state,Te=Te.slice(Le),q=q>Le?q-Le:0}function de(){W={0:liftAction(INIT_ACTION)},Q=1,z=[0],F=[],L=Te[q].state,q=0,Te=[]}ee||(W=Object.create(W));let he=0;switch(U.type){case LOCK_CHANGES:be=U.status,he=1/0;break;case PAUSE_RECORDING:xe=U.status,xe?(z=[...z,Q],W[Q]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Q++,he=z.length-1,Te=Te.concat(Te[Te.length-1]),q===z.length-2&&q++,he=1/0):de();break;case RESET:W={0:liftAction(INIT_ACTION)},Q=1,z=[0],F=[],L=ne,q=0,Te=[];break;case COMMIT:de();break;case ROLLBACK:W={0:liftAction(INIT_ACTION)},Q=1,z=[0],F=[],q=0,Te=[];break;case TOGGLE_ACTION:{const{id:je}=U;F=-1===F.indexOf(je)?[je,...F]:F.filter(Ie=>Ie!==je),he=z.indexOf(je);break}case SET_ACTIONS_ACTIVE:{const{start:je,end:Le,active:Ie}=U,ve=[];for(let Ae=je;Ae<Le;Ae++)ve.push(Ae);F=Ie?difference(F,ve):[...F,...ve],he=z.indexOf(je);break}case JUMP_TO_STATE:q=U.index,he=1/0;break;case JUMP_TO_ACTION:{const je=z.indexOf(U.actionId);-1!==je&&(q=je),he=1/0;break}case SWEEP:z=difference(z,F),F=[],q=Math.min(q,z.length-1);break;case PERFORM_ACTION:{if(be)return ee||G;if(xe||ee&&isActionFiltered(ee.computedStates[q],U,$.predicate,$.actionsSafelist,$.actionsBlocklist)){const Le=Te[Te.length-1];Te=[...Te.slice(0,-1),computeNextEntry(k,U.action,Le.state,Le.error,A)],he=1/0;break}$.maxAge&&z.length===$.maxAge&&ke(1),q===z.length-1&&q++;const je=Q++;W[je]=U,z=[...z,je],he=z.length-1;break}case IMPORT_STATE:({monitorState:te,actionsById:W,nextActionId:Q,stagedActionIds:z,skippedActionIds:F,committedState:L,currentStateIndex:q,computedStates:Te,isLocked:be,isPaused:xe}=U.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:he=0,$.maxAge&&z.length>$.maxAge&&(Te=recomputeStates(Te,he,k,L,W,z,F,A,xe),ke(z.length-$.maxAge),he=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Te.filter(Le=>Le.error).length>0)he=0,$.maxAge&&z.length>$.maxAge&&(Te=recomputeStates(Te,he,k,L,W,z,F,A,xe),ke(z.length-$.maxAge),he=1/0);else{if(!xe&&!be){q===z.length-1&&q++;const Le=Q++;W[Le]=new PerformAction(U,+Date.now()),z=[...z,Le],he=z.length-1,Te=recomputeStates(Te,he,k,L,W,z,F,A,xe)}Te=Te.map(Le=>Object.assign(Object.assign({},Le),{state:k(Le.state,RECOMPUTE_ACTION)})),q=z.length-1,$.maxAge&&z.length>$.maxAge&&ke(z.length-$.maxAge),he=1/0}break;default:he=1/0}return Te=recomputeStates(Te,he,k,L,W,z,F,A,xe),te=c(te,U),{monitorState:te,actionsById:W,nextActionId:Q,stagedActionIds:z,skippedActionIds:F,committedState:L,currentStateIndex:q,computedStates:Te,isLocked:be,isPaused:xe}}}let DevtoolsDispatcher=(()=>{class ne extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ne.\u0275fac=function(){let G;return function(c){return(G||(G=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ne)))(c||ne)}}(),ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ne,G,A){this.config=G,this.dispatcher=A,this.devtoolsExtension=ne,this.createActionStreams()}notify(ne,G){if(this.devtoolsExtension)if(ne.type===PERFORM_ACTION){if(G.isLocked||G.isPaused)return;const A=unliftState(G);if(shouldFilterActions(this.config)&&isActionFiltered(A,ne,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const c=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,A,G.currentStateIndex):A,$=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ne,G.nextActionId):ne;this.sendToReduxDevtools(()=>this.extensionConnection.send($,c))}else{const A=Object.assign(Object.assign({},G),{stagedActionIds:G.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,G.actionsById):G.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,G.computedStates):G.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,A,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ne=>{const G=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=G,G.init(),G.subscribe(A=>ne.next(A)),G.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ne=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),G=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.START)),A=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.STOP)),c=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U=>this.unwrapAction(U.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(U=>U.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>U),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(U)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(U))),k=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U=>this.unwrapAction(U.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(A)),ee=c.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(A));this.start$=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(A)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>k)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ne){var G;const A={name:ne.name,features:ne.features,serialize:ne.serialize,autoPause:null!==(G=ne.autoPause)&&void 0!==G&&G};return!1!==ne.maxAge&&(A.maxAge=ne.maxAge),A}sendToReduxDevtools(ne){try{ne()}catch(G){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",G)}}}return DevtoolsExtension.\u0275fac=function ne(G){return new(G||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class ne{constructor(A,c,$,k,ee,U,te,W){const Q=liftInitialState(te,W.monitor),z=liftReducerWith(te,Q,U,W.monitor,W),F=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(c.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),k.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),A,k.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),L=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(z)),q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Te=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(L),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:de},[he,je])=>{let Le=je(de,he);return he.type!==PERFORM_ACTION&&shouldFilterActions(W)&&(Le=filterLiftedState(Le,W.predicate,W.actionsSafelist,W.actionsBlocklist)),k.notify(he,Le),{state:Le,action:he}},{state:Q,action:null})).subscribe(({state:de,action:he})=>{q.next(de),he.type===PERFORM_ACTION&&ee.next(he.action)}),be=k.start$.subscribe(()=>{this.refresh()}),xe=q.asObservable(),ke=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=be,this.stateSubscription=Te,this.dispatcher=A,this.liftedState=xe,this.state=ke}dispatch(A){this.dispatcher.next(A)}next(A){this.dispatcher.next(A)}error(A){}complete(){}performAction(A){this.dispatch(new PerformAction(A,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(A){this.dispatch(new ToggleAction(A))}jumpToAction(A){this.dispatch(new JumpToAction(A))}jumpToState(A){this.dispatch(new JumpToState(A))}importState(A){this.dispatch(new ImportState(A))}lockChanges(A){this.dispatch(new LockChanges(A))}pauseRecording(A){this.dispatch(new PauseRecording(A))}}return ne.\u0275fac=function(A){return new(A||ne)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ne,G){return Boolean(ne)||G.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ne="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[ne]?window[ne]:null}function createStateObservable(ne){return ne.state}let StoreDevtoolsModule=(()=>{class ne{static instrument(A={}){return{ngModule:ne,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:A},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return ne.\u0275fac=function(A){return new(A||ne)},ne.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ne}),ne.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ne})()},5620:(ne,G,A)=>{A.d(G,{UO:()=>qe,qg:()=>Ae,Y6:()=>le,mK:()=>ht,n$:()=>ti,Y$:()=>Cr,FR:()=>En,yh:()=>$t,Aw:()=>zn,wb:()=>Pr,PH:()=>be,Lq:()=>Ui,on:()=>Nn,Ky:()=>xe});var c=A(5e3),$=A(1135),k=A(8306),ee=A(7579),U=A(233),te=A(4004),Q=A(5363),z=A(1365),F=A(5026),L=A(1884);const q={};function be(H,fe){if(q[H]=(q[H]||0)+1,"function"==typeof fe)return de(H,(...ge)=>Object.assign(Object.assign({},fe(...ge)),{type:H}));switch(fe?fe._as:"empty"){case"empty":return de(H,()=>({type:H}));case"props":return de(H,ge=>Object.assign(Object.assign({},ge),{type:H}));default:throw new Error("Unexpected config.")}}function xe(){return{_as:"props",_p:void 0}}function de(H,fe){return Object.defineProperty(fe,"type",{value:H,writable:!1})}const Ae="@ngrx/store/init";let qe=(()=>{class H extends $.X{constructor(){super({type:Ae})}next(re){if("function"==typeof re)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===re)throw new TypeError("Actions must be objects");if(void 0===re.type)throw new TypeError("Actions must have a type property");super.next(re)}complete(){}ngOnDestroy(){super.complete()}}return H.\u0275fac=function(re){return new(re||H)},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const Ze=[qe],ce=new c.OlP("@ngrx/store Internal Root Guard"),et=new c.OlP("@ngrx/store Internal Initial State"),le=new c.OlP("@ngrx/store Initial State"),ye=new c.OlP("@ngrx/store Reducer Factory"),ue=new c.OlP("@ngrx/store Internal Reducer Factory Provider"),Oe=new c.OlP("@ngrx/store Initial Reducers"),Ce=new c.OlP("@ngrx/store Internal Initial Reducers"),$e=new c.OlP("@ngrx/store Store Features"),Mt=new c.OlP("@ngrx/store Internal Store Reducers"),en=new c.OlP("@ngrx/store Internal Feature Reducers"),pn=new c.OlP("@ngrx/store Internal Feature Configs"),Je=new c.OlP("@ngrx/store Internal Store Features"),tn=new c.OlP("@ngrx/store Internal Feature Reducers Token"),ir=new c.OlP("@ngrx/store Feature Reducers"),Pn=new c.OlP("@ngrx/store User Provided Meta Reducers"),rn=new c.OlP("@ngrx/store Meta Reducers"),ei=new c.OlP("@ngrx/store Internal Resolved Meta Reducers"),on=new c.OlP("@ngrx/store User Runtime Checks Config"),nn=new c.OlP("@ngrx/store Internal User Runtime Checks Config"),$n=new c.OlP("@ngrx/store Internal Runtime Checks"),Rr=new c.OlP("@ngrx/store Check if Action types are unique");function Ii(H,fe={}){const re=Object.keys(H),ge={};for(let He=0;He<re.length;He++){const xt=re[He];"function"==typeof H[xt]&&(ge[xt]=H[xt])}const We=Object.keys(ge);return function(xt,Xn){xt=void 0===xt?fe:xt;let _n=!1;const Ir={};for(let qt=0;qt<We.length;qt++){const yi=We[qt],To=xt[yi],Wn=(0,ge[yi])(To,Xn);Ir[yi]=Wn,_n=_n||Wn!==To}return _n?Ir:xt}}function mi(...H){return function(fe){if(0===H.length)return fe;const re=H[H.length-1];return H.slice(0,-1).reduceRight((We,He)=>He(We),re(fe))}}function wr(H,fe){return Array.isArray(fe)&&fe.length>0&&(H=mi.apply(null,[...fe,H])),(re,ge)=>{const We=H(re);return(He,xt)=>We(He=void 0===He?ge:He,xt)}}class ti extends k.y{}class ht extends qe{}const Pr="@ngrx/store/update-reducers";let Gn=(()=>{class H extends $.X{constructor(re,ge,We,He){super(He(We,ge)),this.dispatcher=re,this.initialState=ge,this.reducers=We,this.reducerFactory=He}get currentReducers(){return this.reducers}addFeature(re){this.addFeatures([re])}addFeatures(re){const ge=re.reduce((We,{reducers:He,reducerFactory:xt,metaReducers:Xn,initialState:_n,key:Ir})=>{const qt="function"==typeof He?function Li(H){const fe=Array.isArray(H)&&H.length>0?mi(...H):re=>re;return(re,ge)=>(re=fe(re),(We,He)=>re(We=void 0===We?ge:We,He))}(Xn)(He,_n):wr(xt,Xn)(He,_n);return We[Ir]=qt,We},{});this.addReducers(ge)}removeFeature(re){this.removeFeatures([re])}removeFeatures(re){this.removeReducers(re.map(ge=>ge.key))}addReducer(re,ge){this.addReducers({[re]:ge})}addReducers(re){this.reducers=Object.assign(Object.assign({},this.reducers),re),this.updateReducers(Object.keys(re))}removeReducer(re){this.removeReducers([re])}removeReducers(re){re.forEach(ge=>{this.reducers=function kr(H,fe){return Object.keys(H).filter(re=>re!==fe).reduce((re,ge)=>Object.assign(re,{[ge]:H[ge]}),{})}(this.reducers,ge)}),this.updateReducers(re)}updateReducers(re){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Pr,features:re})}ngOnDestroy(){this.complete()}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(ht),c.LFG(le),c.LFG(Oe),c.LFG(ye))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const sr=[Gn,{provide:ti,useExisting:Gn},{provide:ht,useExisting:qe}];let Cr=(()=>{class H extends ee.x{ngOnDestroy(){this.complete()}}return H.\u0275fac=function(){let fe;return function(ge){return(fe||(fe=c.n5z(H)))(ge||H)}}(),H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const vs=[Cr];class En extends k.y{}let or=(()=>{class H extends $.X{constructor(re,ge,We,He){super(He);const Ir=re.pipe((0,Q.Q)(U.N)).pipe((0,z.M)(ge)).pipe((0,F.R)(es,{state:He}));this.stateSubscription=Ir.subscribe(({state:qt,action:yi})=>{this.next(qt),We.next(yi)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return H.INIT=Ae,H.\u0275fac=function(re){return new(re||H)(c.LFG(qe),c.LFG(ti),c.LFG(Cr),c.LFG(le))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();function es(H={state:void 0},[fe,re]){const{state:ge}=H;return{state:re(ge,fe),action:fe}}const wo=[or,{provide:En,useExisting:or}];let $t=(()=>{class H extends k.y{constructor(re,ge,We){super(),this.actionsObserver=ge,this.reducerManager=We,this.source=re}select(re,...ge){return At.call(null,re,...ge)(this)}lift(re){const ge=new H(this,this.actionsObserver,this.reducerManager);return ge.operator=re,ge}dispatch(re){this.actionsObserver.next(re)}next(re){this.actionsObserver.next(re)}error(re){this.actionsObserver.error(re)}complete(){this.actionsObserver.complete()}addReducer(re,ge){this.reducerManager.addReducer(re,ge)}removeReducer(re){this.reducerManager.removeReducer(re)}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(En),c.LFG(qe),c.LFG(Gn))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const ct=[$t];function At(H,fe,...re){return function(We){let He;if("string"==typeof H){const xt=[fe,...re].filter(Boolean);He=We.pipe(function W(...H){const fe=H.length;if(0===fe)throw new Error("list of properties cannot be empty.");return(0,te.U)(re=>{let ge=re;for(let We=0;We<fe;We++){const He=null==ge?void 0:ge[H[We]];if(void 0===He)return;ge=He}return ge})}(H,...xt))}else{if("function"!=typeof H)throw new TypeError(`Unexpected type '${typeof H}' in select operator, expected 'string' or 'function'`);He=We.pipe((0,te.U)(xt=>H(xt,fe)))}return He.pipe((0,L.x)())}}const ar="https://ngrx.io/guide/store/configuration/runtime-checks";function gi(H){return void 0===H}function Zt(H){return null===H}function ts(H){return Array.isArray(H)}function vr(H){return"object"==typeof H&&null!==H}function Re(H){return"function"==typeof H}function Qn(H){Object.freeze(H);const fe=Re(H);return Object.getOwnPropertyNames(H).forEach(re=>{if(!re.startsWith("\u0275")&&function yt(H,fe){return Object.prototype.hasOwnProperty.call(H,fe)}(H,re)&&(!fe||"caller"!==re&&"callee"!==re&&"arguments"!==re)){const ge=H[re];(vr(ge)||Re(ge))&&!Object.isFrozen(ge)&&Qn(ge)}}),H}function Hs(H,fe=[]){return(gi(H)||Zt(H))&&0===fe.length?{path:["root"],value:H}:Object.keys(H).reduce((ge,We)=>{if(ge)return ge;const He=H[We];return function st(H){return Re(H)&&H.hasOwnProperty("\u0275cmp")}(He)?ge:!(gi(He)||Zt(He)||function _t(H){return"number"==typeof H}(He)||function yr(H){return"boolean"==typeof H}(He)||function Dr(H){return"string"==typeof H}(He)||ts(He))&&(function nt(H){if(!function Gt(H){return vr(H)&&!ts(H)}(H))return!1;const fe=Object.getPrototypeOf(H);return fe===Object.prototype||null===fe}(He)?Hs(He,[...fe,We]):{path:[...fe,We],value:He})},!1)}function $s(H,fe){if(!1===H)return;const re=H.path.join("."),ge=new Error(`Detected unserializable ${fe} at "${re}". ${ar}#strict${fe}serializability`);throw ge.value=H.value,ge.unserializablePath=re,ge}function lr(H){return(0,c.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},H):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Co({strictActionSerializability:H,strictStateSerializability:fe}){return re=>H||fe?function bs(H,fe){return function(re,ge){fe.action(ge)&&$s(Hs(ge),"action");const We=H(re,ge);return fe.state()&&$s(Hs(We),"state"),We}}(re,{action:ge=>H&&!Be(ge),state:()=>fe}):re}function ni({strictActionImmutability:H,strictStateImmutability:fe}){return re=>H||fe?function wn(H,fe){return function(re,ge){const We=fe.action(ge)?Qn(ge):ge,He=H(re,We);return fe.state()?Qn(He):He}}(re,{action:ge=>H&&!Be(ge),state:()=>fe}):re}function Be(H){return H.type.startsWith("@ngrx")}function jt({strictActionWithinNgZone:H}){return fe=>H?function Vi(H,fe){return function(re,ge){if(fe.action(ge)&&!c.R0b.isInAngularZone())throw new Error(`Action '${ge.type}' running outside NgZone. ${ar}#strictactionwithinngzone`);return H(re,ge)}}(fe,{action:re=>H&&!Be(re)}):fe}function Cn(H){return[{provide:nn,useValue:H},{provide:on,useFactory:ns,deps:[nn]},{provide:$n,deps:[on],useFactory:lr},{provide:rn,multi:!0,deps:[$n],useFactory:ni},{provide:rn,multi:!0,deps:[$n],useFactory:Co},{provide:rn,multi:!0,deps:[$n],useFactory:jt}]}function dr(){return[{provide:Rr,multi:!0,deps:[$n],useFactory:Jn}]}function ns(H){return H}function Jn(H){if(!H.strictActionTypeUniqueness)return;const fe=Object.entries(q).filter(([,re])=>re>1).map(([re])=>re);if(fe.length)throw new Error(`Action types are registered more than once, ${fe.map(re=>`"${re}"`).join(", ")}. ${ar}#strictactiontypeuniqueness`)}let _i=(()=>{class H{constructor(re,ge,We,He,xt,Xn){}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(qe),c.LFG(ti),c.LFG(Cr),c.LFG($t),c.LFG(ce,8),c.LFG(Rr,8))},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})(),gn=(()=>{class H{constructor(re,ge,We,He,xt){this.features=re,this.featureReducers=ge,this.reducerManager=We;const Xn=re.map((_n,Ir)=>{const yi=ge.shift()[Ir];return Object.assign(Object.assign({},_n),{reducers:yi,initialState:Bi(_n.initialState)})});We.addFeatures(Xn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(Je),c.LFG(ir),c.LFG(Gn),c.LFG(_i),c.LFG(Rr,8))},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})(),zn=(()=>{class H{static forRoot(re,ge={}){return{ngModule:_i,providers:[{provide:ce,useFactory:is,deps:[[$t,new c.FiY,new c.tp0]]},{provide:et,useValue:ge.initialState},{provide:le,useFactory:Bi,deps:[et]},{provide:Ce,useValue:re},{provide:Mt,useExisting:re instanceof c.OlP?re:Ce},{provide:Oe,deps:[c.zs3,Ce,[new c.tBr(Mt)]],useFactory:rs},{provide:Pn,useValue:ge.metaReducers?ge.metaReducers:[]},{provide:ei,deps:[rn,Pn],useFactory:Do},{provide:ue,useValue:ge.reducerFactory?ge.reducerFactory:Ii},{provide:ye,deps:[ue,ei],useFactory:wr},Ze,sr,vs,wo,ct,Cn(ge.runtimeChecks),dr()]}}static forFeature(re,ge,We={}){return{ngModule:gn,providers:[{provide:pn,multi:!0,useValue:re instanceof Object?{}:We},{provide:$e,multi:!0,useValue:{key:re instanceof Object?re.name:re,reducerFactory:We instanceof c.OlP||!We.reducerFactory?Ii:We.reducerFactory,metaReducers:We instanceof c.OlP||!We.metaReducers?[]:We.metaReducers,initialState:We instanceof c.OlP||!We.initialState?void 0:We.initialState}},{provide:Je,deps:[c.zs3,pn,$e],useFactory:Lt},{provide:en,multi:!0,useValue:re instanceof Object?re.reducer:ge},{provide:tn,multi:!0,useExisting:ge instanceof c.OlP?ge:en},{provide:ir,multi:!0,deps:[c.zs3,en,[new c.tBr(tn)]],useFactory:Gs},dr()]}}}return H.\u0275fac=function(re){return new(re||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})();function rs(H,fe){return fe instanceof c.OlP?H.get(fe):fe}function Lt(H,fe,re){return re.map((ge,We)=>{if(fe[We]instanceof c.OlP){const He=H.get(fe[We]);return{key:ge.key,reducerFactory:He.reducerFactory?He.reducerFactory:Ii,metaReducers:He.metaReducers?He.metaReducers:[],initialState:He.initialState}}return ge})}function Gs(H,fe){return fe.map(ge=>ge instanceof c.OlP?H.get(ge):ge)}function Bi(H){return"function"==typeof H?H():H}function Do(H,fe){return H.concat(fe)}function is(H){if(H)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Nn(...H){return{reducer:H.pop(),types:H.map(ge=>ge.type)}}function Ui(H,...fe){const re=new Map;for(const ge of fe)for(const We of ge.types){const He=re.get(We);re.set(We,He?(Xn,_n)=>ge.reducer(He(Xn,_n),_n):ge.reducer)}return function(ge=H,We){const He=re.get(We.type);return He?He(ge,We):ge}}},5861:(ne,G,A)=>{function c(k,ee,U,te,W,Q,z){try{var F=k[Q](z),L=F.value}catch(q){return void U(q)}F.done?ee(L):Promise.resolve(L).then(te,W)}function $(k){return function(){var ee=this,U=arguments;return new Promise(function(te,W){var Q=k.apply(ee,U);function z(L){c(Q,te,W,z,F,"next",L)}function F(L){c(Q,te,W,z,F,"throw",L)}z(void 0)})}}A.d(G,{Z:()=>$})}},ne=>{ne(ne.s=75)}]);