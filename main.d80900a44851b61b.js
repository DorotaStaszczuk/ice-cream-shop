"use strict";(self.webpackChunkice_cream_shop=self.webpackChunkice_cream_shop||[]).push([[179],{2011:(ne,G,S)=>{S.d(G,{hO:()=>Te,xv:()=>z,Dh:()=>Q,GT:()=>te,cc:()=>be,on:()=>F,pX:()=>U});var c=S(5e3),$=S(127),k=S(6351);ne=S.hmd(ne);const ee=["ngOnDestroy"],U=(he,je,Le,Ie={})=>new Proxy(he,{get:(ve,Se)=>Le.runOutsideAngular(()=>{var qe;if(he[Se])return(null===(qe=null==Ie?void 0:Ie.spy)||void 0===qe?void 0:qe.get)&&Ie.spy.get(Se,he[Se]),he[Se];if(ee.indexOf(Se)>-1)return()=>{};const Ze=je.toPromise().then(ce=>{const et=ce&&ce[Se];return"function"==typeof et?et.bind(ce):et&&et.then?et.then(le=>Le.run(()=>le)):Le.run(()=>et)});return new Proxy(()=>{},{get:(ce,et)=>Ze[et],apply:(ce,et,le)=>Ze.then(ye=>{var ue;const Oe=ye&&ye(...le);return(null===(ue=null==Ie?void 0:Ie.spy)||void 0===ue?void 0:ue.apply)&&Ie.spy.apply(Se,le,Oe),Oe})})})}),te=(he,je)=>{je.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ie=>{Object.defineProperty(he.prototype,Ie,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ie))})})};class W{constructor(je){return je}}const Q=new c.OlP("angularfire2.app.options"),z=new c.OlP("angularfire2.app.name");function F(he,je,Le){const ve="object"==typeof Le&&Le||{};ve.name=ve.name||"string"==typeof Le&&Le||"[DEFAULT]";const qe=$.Z.apps.filter(Ze=>Ze&&Ze.name===ve.name)[0]||je.runOutsideAngular(()=>$.Z.initializeApp(he,ve));try{JSON.stringify(he)!==JSON.stringify(qe.options)&&L("error",`${qe.name} Firebase App already initialized with different options${ne.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return new W(qe)}const L=(he,...je)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...je)},q={provide:W,useFactory:F,deps:[Q,c.R0b,[new c.FiY,z]]};let Te=(()=>{class he{constructor(Le){$.Z.registerVersion("angularfire",k.q4.full,"core"),$.Z.registerVersion("angularfire",k.q4.full,"app-compat"),$.Z.registerVersion("angular",c.q4F.full,Le.toString())}static initializeApp(Le,Ie){return{ngModule:he,providers:[{provide:Q,useValue:Le},{provide:z,useValue:Ie}]}}}return he.\u0275fac=function(Le){return new(Le||he)(c.LFG(c.Lbi))},he.\u0275mod=c.oAB({type:he}),he.\u0275inj=c.cJS({providers:[q]}),he})();function be(he,je,Le,Ie,ve){const[,Se,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===he)||[];if(Se)return function xe(he,je){try{return he.toString()===je.toString()}catch(Le){return he===je}}(ve,qe)||(de("error",`${je} was already initialized on the ${Le} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:ve,was:qe})),Se;{const Ze=Ie();return globalThis.\u0275AngularfireInstanceCache.push([he,Ze,ve]),Ze}}const ke=!!ne.hot,de=(he,...je)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ne,G,S)=>{S.d(G,{q4:()=>tr,iC:()=>pa,HU:()=>Ms,vb:()=>Nd,JM:()=>wf});var c=S(5e3),$=S(5867),k=S(5861),ee=S(9681),U=S(2090),te=S(4859),W=S(1877);const Q="@firebase/installations",z="0.5.8",L=`w:${z}`,q="FIS_v2",he=new U.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(D){return D instanceof U.ZR&&D.code.includes("request-failed")}function Le({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:le(D.expiresIn),creationTime:Date.now()}}function ve(D,T){return Se.apply(this,arguments)}function Se(){return(Se=(0,k.Z)(function*(D,T){const B=(yield T.json()).error;return he.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function qe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ze(D,{refreshToken:T}){const R=qe(D);return R.append("Authorization",function ye(D){return`${q} ${D}`}(T)),R}function ce(D){return et.apply(this,arguments)}function et(){return(et=(0,k.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function le(D){return Number(D.replace("s","000"))}function ue(D,T){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:R}){const B=Le(D),se=qe(D),pe=T.getImmediate({optional:!0});if(pe){const At=yield pe.getHeartbeatsHeader();At&&se.append("x-firebase-client",At)}const it={method:"POST",headers:se,body:JSON.stringify({fid:R,authVersion:q,appId:D.appId,sdkVersion:L})},Ot=yield ce(()=>fetch(B,it));if(Ot.ok){const At=yield Ot.json();return{fid:At.fid||R,registrationStatus:2,refreshToken:At.refreshToken,authToken:Ie(At.authToken)}}throw yield ve("Create Installation",Ot)})).apply(this,arguments)}function Ce(D){return new Promise(T=>{setTimeout(T,D)})}const Mt=/^[cdef][\w-]{21}$/;function pn(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function Je(D){return function $e(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Mt.test(R)?R:""}catch(D){return""}}function tn(D){return`${D.appName}!${D.appId}`}const ir=new Map;function Pn(D,T){const R=tn(D);on(R,T),function nn(D,T){const R=function Rr(){return!$n&&"BroadcastChannel"in self&&($n=new BroadcastChannel("[Firebase] FID Change"),$n.onmessage=D=>{on(D.data.key,D.data.fid)}),$n}();R&&R.postMessage({key:D,fid:T}),function Ii(){0===ir.size&&$n&&($n.close(),$n=null)}()}(R,T)}function on(D,T){const R=ir.get(D);if(R)for(const B of R)B(T)}let $n=null;const wr="firebase-installations-store";let Li=null;function ti(){return Li||(Li=(0,U.X3)("firebase-installations-database",1,(D,T)=>{0===T&&D.createObjectStore(wr)})),Li}function ht(D,T){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,k.Z)(function*(D,T){const R=tn(D),se=(yield ti()).transaction(wr,"readwrite"),pe=se.objectStore(wr),Ve=yield pe.get(R);return yield pe.put(T,R),yield se.complete,(!Ve||Ve.fid!==T.fid)&&Pn(D,T.fid),T})).apply(this,arguments)}function Gn(D){return sr.apply(this,arguments)}function sr(){return(sr=(0,k.Z)(function*(D){const T=tn(D),B=(yield ti()).transaction(wr,"readwrite");yield B.objectStore(wr).delete(T),yield B.complete})).apply(this,arguments)}function Cr(D,T){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(D,T){const R=tn(D),se=(yield ti()).transaction(wr,"readwrite"),pe=se.objectStore(wr),Ve=yield pe.get(R),it=T(Ve);return void 0===it?yield pe.delete(R):yield pe.put(it,R),yield se.complete,it&&(!Ve||Ve.fid!==it.fid)&&Pn(D,it.fid),it})).apply(this,arguments)}function En(D){return or.apply(this,arguments)}function or(){return(or=(0,k.Z)(function*(D){let T;const R=yield Cr(D.appConfig,B=>{const se=es(B),pe=bo(D,se);return T=pe.registrationPromise,pe.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function es(D){return Zt(D||{fid:pn(),registrationStatus:0})}function bo(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(he.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},B=function $t(D,T){return ct.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:B}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:St(D)}:{installationEntry:T}}function ct(){return(ct=(0,k.Z)(function*(D,T){try{const R=yield ue(D,T);return ht(D.appConfig,R)}catch(R){throw je(R)&&409===R.customData.serverCode?yield Gn(D.appConfig):yield ht(D.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function St(D){return ar.apply(this,arguments)}function ar(){return(ar=(0,k.Z)(function*(D){let T=yield mi(D.appConfig);for(;1===T.registrationStatus;)yield Ce(100),T=yield mi(D.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield En(D);return B||R}return T})).apply(this,arguments)}function mi(D){return Cr(D,T=>{if(!T)throw he.create("installation-not-found");return Zt(T)})}function Zt(D){return function ts(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Dr(D,T){return yr.apply(this,arguments)}function yr(){return(yr=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:T},R){const B=_t(D,R),se=Ze(D,R),pe=T.getImmediate({optional:!0});if(pe){const At=yield pe.getHeartbeatsHeader();At&&se.append("x-firebase-client",At)}const it={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:L,appId:D.appId}})},Ot=yield ce(()=>fetch(B,it));if(Ot.ok)return Ie(yield Ot.json());throw yield ve("Generate Auth Token",Ot)})).apply(this,arguments)}function _t(D,{fid:T}){return`${Le(D)}/${T}/authTokens:generate`}function vr(D){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,k.Z)(function*(D,T=!1){let R;const B=yield Cr(D.appConfig,pe=>{if(!Wt(pe))throw he.create("not-registered");const Ve=pe.authToken;if(!T&&Z(Ve))return pe;if(1===Ve.requestStatus)return R=nt(D,T),pe;{if(!navigator.onLine)throw he.create("app-offline");const it=X(pe);return R=yt(D,it),it}});return R?yield R:B.authToken})).apply(this,arguments)}function nt(D,T){return Re.apply(this,arguments)}function Re(){return(Re=(0,k.Z)(function*(D,T){let R=yield st(D.appConfig);for(;1===R.authToken.requestStatus;)yield Ce(100),R=yield st(D.appConfig);const B=R.authToken;return 0===B.requestStatus?vr(D,T):B})).apply(this,arguments)}function st(D){return Cr(D,T=>{if(!Wt(T))throw he.create("not-registered");return function we(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function yt(D,T){return zt.apply(this,arguments)}function zt(){return(zt=(0,k.Z)(function*(D,T){try{const R=yield Dr(D,T),B=Object.assign(Object.assign({},T),{authToken:R});return yield ht(D.appConfig,B),R}catch(R){if(!je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ht(D.appConfig,B)}else yield Gn(D.appConfig);throw R}})).apply(this,arguments)}function Wt(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function j(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function X(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Ye(){return(Ye=(0,k.Z)(function*(D){const T=D,{installationEntry:R,registrationPromise:B}=yield En(T);return B?B.catch(console.error):vr(T).catch(console.error),R.fid})).apply(this,arguments)}function un(){return(un=(0,k.Z)(function*(D,T=!1){const R=D;return yield Tr(R),(yield vr(R,T)).token})).apply(this,arguments)}function Tr(D){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(D){const{registrationPromise:T}=yield En(D);T&&(yield T)})).apply(this,arguments)}function lr(D){return he.create("missing-app-config-values",{valueName:D})}const Eo="installations",Be=D=>{const T=D.getProvider("app").getImmediate(),R=function Vi(D){if(!D||!D.options)throw lr("App Configuration");if(!D.name)throw lr("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!D.options[R])throw lr(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,ee._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},jt=D=>{const T=D.getProvider("app").getImmediate(),R=(0,ee._getProvider)(T,Eo).getImmediate();return{getId:()=>function ae(D){return Ye.apply(this,arguments)}(R),getToken:se=>function Et(D){return un.apply(this,arguments)}(R,se)}};(function Cn(){(0,ee._registerComponent)(new te.wA(Eo,Be,"PUBLIC")),(0,ee._registerComponent)(new te.wA("installations-internal",jt,"PRIVATE"))})(),(0,ee.registerVersion)(Q,z),(0,ee.registerVersion)(Q,z,"esm2017");const dr="@firebase/remote-config",zn=new U.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yi{constructor(T,R,B,se){this.client=T,this.storage=R,this.storageCache=B,this.logger=se}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,se=B<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${se}.`),se}fetch(T){var R=this;return(0,k.Z)(function*(){const[B,se]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(se&&R.isCachedDataFresh(T.cacheMaxAgeMillis,B))return se;T.eTag=se&&se.eTag;const pe=yield R.client.fetch(T),Ve=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Ve.push(R.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Ve),pe})()}}function Nl(D=navigator){return D.languages&&D.languages[0]||D.language}class Co{constructor(T,R,B,se,pe,Ve){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=B,this.projectId=se,this.apiKey=pe,this.appId=Ve}fetch(T){var R=this;return(0,k.Z)(function*(){const[B,se]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ot={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:se,app_id:R.appId,language_code:Nl()},At={method:"POST",headers:it,body:JSON.stringify(Ot)},Qt=fetch(Ve,At),Ft=new Promise((Yr,ds)=>{T.signal.addEventListener(()=>{const rc=new Error("The operation was aborted.");rc.name="AbortError",ds(rc)})});let Zr;try{yield Promise.race([Qt,Ft]),Zr=yield Qt}catch(Yr){let ds="fetch-client-network";throw"AbortError"===Yr.name&&(ds="fetch-timeout"),zn.create(ds,{originalErrorMessage:Yr.message})}let cn=Zr.status;const Qa=Zr.headers.get("ETag")||void 0;let Fo,co;if(200===Zr.status){let Yr;try{Yr=yield Zr.json()}catch(ds){throw zn.create("fetch-client-parse",{originalErrorMessage:ds.message})}Fo=Yr.entries,co=Yr.state}if("INSTANCE_STATE_UNSPECIFIED"===co?cn=500:"NO_CHANGE"===co?cn=304:("NO_TEMPLATE"===co||"EMPTY_CONFIG"===co)&&(Fo={}),304!==cn&&200!==cn)throw zn.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:Qa,config:Fo}})()}}class _g{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,k.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,B)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:B}){var se=this;return(0,k.Z)(function*(){yield function Wn(D,T){return new Promise((R,B)=>{const se=Math.max(T-Date.now(),0),pe=setTimeout(R,se);D.addEventListener(()=>{clearTimeout(pe),B(zn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const pe=yield se.client.fetch(T);return yield se.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function vd(D){if(!(D instanceof U.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(pe))throw pe;const Ve={throttleEndTimeMillis:Date.now()+(0,U.$s)(B),backoffCount:B+1};return yield se.storage.setThrottleMetadata(Ve),se.attemptFetch(T,Ve)}})()}}class ji{constructor(T,R,B,se,pe){this.app=T,this._client=R,this._storageCache=B,this._storage=se,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qc(D,T){const R=D.target.error||void 0;return zn.create(T,{originalErrorMessage:R&&R.message})}const Gs="app_namespace_store";class Eg{constructor(T,R,B,se=function bg(){return new Promise((D,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{T(Qc(B,"storage-open"))},R.onsuccess=B=>{D(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(R){T(zn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=B,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((se,pe)=>{const it=B.transaction([Gs],"readonly").objectStore(Gs),Ot=R.createCompositeKey(T);try{const At=it.get(Ot);At.onerror=Qt=>{pe(Qc(Qt,"storage-get"))},At.onsuccess=Qt=>{const Ft=Qt.target.result;se(Ft?Ft.value:void 0)}}catch(At){pe(zn.create("storage-get",{originalErrorMessage:At&&At.message}))}})})()}set(T,R){var B=this;return(0,k.Z)(function*(){const se=yield B.openDbPromise;return new Promise((pe,Ve)=>{const Ot=se.transaction([Gs],"readwrite").objectStore(Gs),At=B.createCompositeKey(T);try{const Qt=Ot.put({compositeKey:At,value:R});Qt.onerror=Ft=>{Ve(Qc(Ft,"storage-set"))},Qt.onsuccess=()=>{pe()}}catch(Qt){Ve(zn.create("storage-set",{originalErrorMessage:Qt&&Qt.message}))}})})()}delete(T){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((se,pe)=>{const it=B.transaction([Gs],"readwrite").objectStore(Gs),Ot=R.createCompositeKey(T);try{const At=it.delete(Ot);At.onerror=Qt=>{pe(Qc(Qt,"storage-delete"))},At.onsuccess=()=>{se()}}catch(At){pe(zn.create("storage-delete",{originalErrorMessage:At&&At.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ed{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const R=T.storage.getLastFetchStatus(),B=T.storage.getLastSuccessfulFetchTimestampMillis(),se=T.storage.getActiveConfig(),pe=yield R;pe&&(T.lastFetchStatus=pe);const Ve=yield B;Ve&&(T.lastSuccessfulFetchTimestampMillis=Ve);const it=yield se;it&&(T.activeConfig=it)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Do(){return ff.apply(this,arguments)}function ff(){return(ff=(0,k.Z)(function*(){if(!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch(D){return!1}})).apply(this,arguments)}!function ra(){(0,ee._registerComponent)(new te.wA("remote-config",function D(T,{instanceIdentifier:R}){const B=T.getProvider("app").getImmediate(),se=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw zn.create("registration-window");if(!(0,U.hl)())throw zn.create("indexed-db-unavailable");const{projectId:pe,apiKey:Ve,appId:it}=B.options;if(!pe)throw zn.create("registration-project-id");if(!Ve)throw zn.create("registration-api-key");if(!it)throw zn.create("registration-app-id");const Ot=new Eg(it,B.name,R=R||"firebase"),At=new Ed(Ot),Qt=new W.Yd(dr);Qt.logLevel=W.in.ERROR;const Ft=new Co(se,ee.SDK_VERSION,R,pe,Ve,it),Zr=new _g(Ft,Ot),cn=new yi(Zr,Ot,At,Qt),Qa=new ji(B,cn,At,Ot,Qt);return function fe(D){const T=(0,U.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Qa),Qa},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(dr,"0.3.7"),(0,ee.registerVersion)(dr,"0.3.7","esm2017")}();const Jc="/firebase-messaging-sw.js",zs="/firebase-cloud-messaging-push-scope",vi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",To="google.c.a.c_id",Ua="google.c.a.c_l",wd="google.c.a.ts",wg="google.c.a.e";var Ws=(()=>{return(D=Ws||(Ws={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ws;var D})();function Si(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ll(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),se=new Uint8Array(B.length);for(let pe=0;pe<B.length;++pe)se[pe]=B.charCodeAt(pe);return se}const Vl="fcm_token_details_db",Nr="fcm_token_object_Store";function pf(D){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Vl))return null;let T=null;return(yield(0,U.X3)(Vl,5,function(){var B=(0,k.Z)(function*(se,pe,Ve,it){var Ot;if(pe<2||!se.objectStoreNames.contains(Nr))return;const At=it.objectStore(Nr),Qt=yield At.index("fcmSenderId").get(D);if(yield At.clear(),Qt)if(2===pe){const Ft=Qt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;T={token:Ft.fcmToken,createTime:null!==(Ot=Ft.createTime)&&void 0!==Ot?Ot:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:Si(Ft.vapidKey)}}}else if(3===pe){const Ft=Qt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Si(Ft.auth),p256dh:Si(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Si(Ft.vapidKey)}}}else if(4===pe){const Ft=Qt;T={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:Si(Ft.auth),p256dh:Si(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:Si(Ft.vapidKey)}}}});return function(se,pe,Ve,it){return B.apply(this,arguments)}}())).close(),yield(0,U.Lj)(Vl),yield(0,U.Lj)("fcm_vapid_details_db"),yield(0,U.Lj)("undefined"),Cd(T)?T:null}),Bl.apply(this,arguments)}function Cd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ws="firebase-messaging-store";let ja=null;function Xc(){return ja||(ja=(0,U.X3)("firebase-messaging-database",1,(D,T)=>{0===T&&D.createObjectStore(ws)})),ja}function On(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,k.Z)(function*(D){const T=So(D),B=yield(yield Xc()).transaction(ws).objectStore(ws).get(T);if(B)return B;{const se=yield pf(D.appConfig.senderId);if(se)return yield qs(D,se),se}})).apply(this,arguments)}function qs(D,T){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,k.Z)(function*(D,T){const R=So(D),se=(yield Xc()).transaction(ws,"readwrite");return yield se.objectStore(ws).put(T,R),yield se.complete,T})).apply(this,arguments)}function Dd(D){return Io.apply(this,arguments)}function Io(){return(Io=(0,k.Z)(function*(D){const T=So(D),B=(yield Xc()).transaction(ws,"readwrite");yield B.objectStore(ws).delete(T),yield B.complete})).apply(this,arguments)}function So({appConfig:D}){return D.appId}const cr=new U.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ha(D,T){return $i.apply(this,arguments)}function $i(){return($i=(0,k.Z)(function*(D,T){const R=yield Zs(D),B=bt(T),se={method:"POST",headers:R,body:JSON.stringify(B)};let pe;try{pe=yield(yield fetch(bi(D.appConfig),se)).json()}catch(Ve){throw cr.create("token-subscribe-failed",{errorInfo:Ve})}if(pe.error)throw cr.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw cr.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Gr(D,T){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,k.Z)(function*(D,T){const R=yield Zs(D),B=bt(T.subscriptionOptions),se={method:"PATCH",headers:R,body:JSON.stringify(B)};let pe;try{pe=yield(yield fetch(`${bi(D.appConfig)}/${T.token}`,se)).json()}catch(Ve){throw cr.create("token-update-failed",{errorInfo:Ve})}if(pe.error)throw cr.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw cr.create("token-update-no-token");return pe.token})).apply(this,arguments)}function Cs(D,T){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,k.Z)(function*(D,T){const B={method:"DELETE",headers:yield Zs(D)};try{const pe=yield(yield fetch(`${bi(D.appConfig)}/${T}`,B)).json();if(pe.error)throw cr.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(se){throw cr.create("token-unsubscribe-failed",{errorInfo:se})}})).apply(this,arguments)}function bi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Zs(D){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,k.Z)(function*({appConfig:D,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function bt({p256dh:D,auth:T,endpoint:R,vapidKey:B}){const se={web:{endpoint:R,auth:T,p256dh:D}};return B!==vi&&(se.web.applicationPubKey=B),se}const $l=6048e5;function $a(D){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,k.Z)(function*(D){const T=yield nu(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Si(T.getKey("auth")),p256dh:Si(T.getKey("p256dh"))},B=yield On(D.firebaseDependencies);if(B){if(oa(B.subscriptionOptions,R))return Date.now()>=B.createTime+$l?eu(D,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Cs(D.firebaseDependencies,B.token)}catch(se){console.warn(se)}return Pe(D.firebaseDependencies,R)}return Pe(D.firebaseDependencies,R)})).apply(this,arguments)}function zl(D){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,k.Z)(function*(D){const T=yield On(D.firebaseDependencies);T&&(yield Cs(D.firebaseDependencies,T.token),yield Dd(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function eu(D,T){return tu.apply(this,arguments)}function tu(){return(tu=(0,k.Z)(function*(D,T){try{const R=yield Gr(D.firebaseDependencies,T),B=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield qs(D.firebaseDependencies,B),R}catch(R){throw yield zl(D),R}})).apply(this,arguments)}function Pe(D,T){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,k.Z)(function*(D,T){const B={token:yield Ha(D,T),createTime:Date.now(),subscriptionOptions:T};return yield qs(D,B),B.token})).apply(this,arguments)}function nu(D,T){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,k.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ll(T)})})).apply(this,arguments)}function oa(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function aa(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ei(D,T){if(!T.notification)return;D.notification={};const R=T.notification.title;R&&(D.notification.title=R);const B=T.notification.body;B&&(D.notification.body=B);const se=T.notification.image;se&&(D.notification.image=se)}(T,D),function ru(D,T){!T.data||(D.data=T.data)}(T,D),function iu(D,T){if(!T.fcmOptions)return;D.fcmOptions={};const R=T.fcmOptions.link;R&&(D.fcmOptions.link=R);const B=T.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(T,D),T}function Td(D){return"object"==typeof D&&!!D&&To in D}function su(D,T){const R=[];for(let B=0;B<D.length;B++)R.push(D.charAt(B)),B<T.length&&R.push(T.charAt(B));return R.join("")}function Qs(D){return cr.create("missing-app-config-values",{valueName:D})}su("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),su("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fr{constructor(T,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function ql(D){if(!D||!D.options)throw Qs("App Configuration Object");if(!D.name)throw Qs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const B of T)if(!R[B])throw Qs(B);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:se,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Ai(D){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Jc,{scope:zs}),D.swRegistration.update().catch(()=>{})}catch(T){throw cr.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Js(D,T){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,k.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield Ai(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw cr.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ou(D,T){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,k.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=vi)})).apply(this,arguments)}function au(){return(au=(0,k.Z)(function*(D,T){if(!navigator)throw cr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cr.create("permission-blocked");return yield ou(D,null==T?void 0:T.vapidKey),yield Js(D,null==T?void 0:T.serviceWorkerRegistration),$a(D)})).apply(this,arguments)}function Ga(D,T,R){return la.apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(D,T,R){const B=lu(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[To],message_name:R[Ua],message_time:R[wd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lu(D){switch(D){case Ws.NOTIFICATION_CLICKED:return"notification_open";case Ws.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Id(){return(Id=(0,k.Z)(function*(D,T){const R=T.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Ws.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(aa(R)):D.onMessageHandler.next(aa(R)));const B=R.data;Td(B)&&"1"===B[wg]&&(yield Ga(D,R.messageType,B))})).apply(this,arguments)}const uu="@firebase/messaging",Sd=D=>{const T=new Fr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function cu(D,T){return Id.apply(this,arguments)}(T,R)),T},Mo=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:B=>function Yl(D,T){return au.apply(this,arguments)}(T,B)}};function Md(){return xo.apply(this,arguments)}function xo(){return(xo=(0,k.Z)(function*(){try{yield(0,U.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,U.hl)()&&(0,U.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ad(){(0,ee._registerComponent)(new te.wA("messaging",Sd,"PUBLIC")),(0,ee._registerComponent)(new te.wA("messaging-internal",Mo,"PRIVATE")),(0,ee.registerVersion)(uu,"0.9.12"),(0,ee.registerVersion)(uu,"0.9.12","esm2017")}();const hu="analytics",J_="firebase_id",za="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ql="https://www.googletagmanager.com/gtag/js",hr=new W.Yd("@firebase/analytics");function xd(D){return Promise.all(D.map(T=>T.catch(R=>R)))}function Cg(D,T){const R=document.createElement("script");R.src=`${Ql}?l=${D}&id=${T}`,R.async=!0,document.head.appendChild(R)}function ca(D,T,R,B,se,pe){return Od.apply(this,arguments)}function Od(){return(Od=(0,k.Z)(function*(D,T,R,B,se,pe){const Ve=B[se];try{if(Ve)yield T[Ve];else{const Ot=(yield xd(R)).find(At=>At.measurementId===se);Ot&&(yield T[Ot.appId])}}catch(it){hr.error(it)}D("config",se,pe)})).apply(this,arguments)}function pu(D,T,R,B,se){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,k.Z)(function*(D,T,R,B,se){try{let pe=[];if(se&&se.send_to){let Ve=se.send_to;Array.isArray(Ve)||(Ve=[Ve]);const it=yield xd(R);for(const Ot of Ve){const At=it.find(Ft=>Ft.measurementId===Ot),Qt=At&&T[At.appId];if(!Qt){pe=[];break}pe.push(Qt)}}0===pe.length&&(pe=Object.values(T)),yield Promise.all(pe),D("event",B,se||{})}catch(pe){hr.error(pe)}})).apply(this,arguments)}function Dg(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Ql))return T;return null}const bn=new U.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),to=new class gu{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function no(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function ii(D){return kt.apply(this,arguments)}function kt(){return(kt=(0,k.Z)(function*(D){var T;const{appId:R,apiKey:B}=D,se={method:"GET",headers:no(B)},pe=za.replace("{app-id}",R),Ve=yield fetch(pe,se);if(200!==Ve.status&&304!==Ve.status){let it="";try{const Ot=yield Ve.json();(null===(T=Ot.error)||void 0===T?void 0:T.message)&&(it=Ot.error.message)}catch(Ot){}throw bn.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:it})}return Ve.json()})).apply(this,arguments)}function Dt(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,k.Z)(function*(D,T=to,R){const{appId:B,apiKey:se,measurementId:pe}=D.options;if(!B)throw bn.create("no-app-id");if(!se){if(pe)return{measurementId:pe,appId:B};throw bn.create("no-api-key")}const Ve=T.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Mi;return setTimeout((0,k.Z)(function*(){it.abort()}),void 0!==R?R:6e4),Ro({appId:B,apiKey:se,measurementId:pe},Ve,it,T)})).apply(this,arguments)}function Ro(D,T,R){return ro.apply(this,arguments)}function ro(){return(ro=(0,k.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:R},B,se=to){const{appId:pe,measurementId:Ve}=D;try{yield Jl(B,T)}catch(it){if(Ve)return hr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:pe,measurementId:Ve};throw it}try{const it=yield ii(D);return se.deleteThrottleMetadata(pe),it}catch(it){if(!Xl(it)){if(se.deleteThrottleMetadata(pe),Ve)return hr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:pe,measurementId:Ve};throw it}const Ot=503===Number(it.customData.httpStatus)?(0,U.$s)(R,se.intervalMillis,30):(0,U.$s)(R,se.intervalMillis),At={throttleEndTimeMillis:Date.now()+Ot,backoffCount:R+1};return se.setThrottleMetadata(pe,At),hr.debug(`Calling attemptFetch again in ${Ot} millis`),Ro(D,At,B,se)}})).apply(this,arguments)}function Jl(D,T){return new Promise((R,B)=>{const se=Math.max(T-Date.now(),0),pe=setTimeout(R,se);D.addEventListener(()=>{clearTimeout(pe),B(bn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Xl(D){if(!(D instanceof U.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Mi{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function ss(){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(){if(!(0,U.hl)())return hr.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,U.eu)()}catch(D){return hr.warn(bn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function wt(){return(wt=(0,k.Z)(function*(D,T,R,B,se,pe,Ve){var it;const Ot=Dt(D);Ot.then(cn=>{R[cn.measurementId]=cn.appId,D.options.measurementId&&cn.measurementId!==D.options.measurementId&&hr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>hr.error(cn)),T.push(Ot);const At=ss().then(cn=>{if(cn)return B.getId()}),[Qt,Ft]=yield Promise.all([Ot,At]);Dg()||Cg(pe,Qt.measurementId),se("js",new Date);const Zr=null!==(it=null==Ve?void 0:Ve.config)&&void 0!==it?it:{};return Zr.origin="firebase",Zr.update=!0,null!=Ft&&(Zr[J_]=Ft),se("config",Qt.measurementId,Zr),Qt.measurementId})).apply(this,arguments)}class os{constructor(T){this.app=T}_delete(){return delete si[this.app.options.appId],Promise.resolve()}}let si={},fr=[];const wi={};let Ae,Wr,da="dataLayer",ha=!1;function as(D,T,R){!function Ht(){const D=[];if((0,U.ru)()&&D.push("This is a browser extension environment."),(0,U.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((B,se)=>`(${se+1}) ${B}`).join(" "),R=bn.create("invalid-analytics-context",{errorInfo:T});hr.warn(R.message)}}();const B=D.options.appId;if(!B)throw bn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw bn.create("no-api-key");hr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=si[B])throw bn.create("already-exists",{id:B});if(!ha){!function Ts(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(da);const{wrappedGtag:pe,gtagCore:Ve}=function mf(D,T,R,B,se){let pe=function(...Ve){window[B].push(arguments)};return window[se]&&"function"==typeof window[se]&&(pe=window[se]),window[se]=function Rd(D,T,R,B){function pe(){return(pe=(0,k.Z)(function*(Ve,it,Ot){try{"event"===Ve?yield pu(D,T,R,it,Ot):"config"===Ve?yield ca(D,T,R,B,it,Ot):D("set",it)}catch(At){hr.error(At)}})).apply(this,arguments)}return function se(Ve,it,Ot){return pe.apply(this,arguments)}}(pe,D,T,R),{gtagCore:pe,wrappedGtag:window[se]}}(si,fr,wi,da,"gtag");Wr=pe,Ae=Ve,ha=!0}return si[B]=function io(D,T,R,B,se,pe,Ve){return wt.apply(this,arguments)}(D,fr,wi,T,Ae,da,R),new os(D)}function rt(){return(rt=(0,k.Z)(function*(D,T,R,B,se){if(se&&se.global)D("event",R,B);else{const pe=yield T;D("event",R,Object.assign(Object.assign({},B),{send_to:pe}))}})).apply(this,arguments)}function qn(){return Po.apply(this,arguments)}function Po(){return(Po=(0,k.Z)(function*(){if((0,U.ru)()||!(0,U.zI)()||!(0,U.hl)())return!1;try{return yield(0,U.eu)()}catch(D){return!1}})).apply(this,arguments)}const yu="@firebase/analytics";!function bf(){(0,ee._registerComponent)(new te.wA(hu,(T,{options:R})=>as(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ee._registerComponent)(new te.wA("analytics-internal",function D(T){try{const R=T.getProvider(hu).getImmediate();return{logEvent:(B,se,pe)=>function yf(D,T,R,B){D=(0,U.m9)(D),function Ss(D,T,R,B,se){return rt.apply(this,arguments)}(Wr,si[D.app.options.appId],T,R,B).catch(se=>hr.error(se))}(R,B,se,pe)}}catch(R){throw bn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ee.registerVersion)(yu,"0.7.8"),(0,ee.registerVersion)(yu,"0.7.8","esm2017")}();var kd=S(233),ls=S(4986),Ef=S(8505),ln=S(9468),qa=S(5363);const tr=new c.GfV("7.3.0"),vu="__angularfire_symbol__analyticsIsSupportedValue",fa="__angularfire_symbol__analyticsIsSupported",pr="__angularfire_symbol__remoteConfigIsSupportedValue",qr="__angularfire_symbol__remoteConfigIsSupported",Ka="__angularfire_symbol__messagingIsSupportedValue",As="__angularfire_symbol__messagingIsSupported";function wf(D,T,R){if(T){if(1===T.length)return T[0];const pe=T.filter(Ve=>Ve.app===R);if(1===pe.length)return pe[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[fa]||(globalThis[fa]=qn().then(D=>globalThis[vu]=D).catch(()=>globalThis[vu]=!1)),globalThis[As]||(globalThis[As]=Md().then(D=>globalThis[Ka]=D).catch(()=>globalThis[Ka]=!1)),globalThis[qr]||(globalThis[qr]=Do().then(D=>globalThis[pr]=D).catch(()=>globalThis[pr]=!1));const Nd=(D,T)=>{const R=T?[T]:(0,$.C6)(),B=[];return R.forEach(se=>{se.container.getProvider(D).instances.forEach(Ve=>{B.includes(Ve)||B.push(Ve)})}),B};function cs(){}class Kr{constructor(T,R=kd.N){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,B){const se=this.zone;return this.delegate.schedule(function(Ve){se.runGuarded(()=>{T.apply(this,[Ve])})},R,B)}}class tc{constructor(T){this.zone=T,this.task=null}call(T,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cs,{},cs,cs)),R.pipe((0,Ef.b)({next:B,complete:B,error:B})).subscribe(T).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ms=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Kr(Zone.current)),this.insideAngular=R.run(()=>new Kr(Zone.current,ls.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function us(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function pa(D){return us(),function Ld(D){return function(R){return(R=R.lift(new tc(D.ngZone))).pipe((0,ln.R)(D.outsideAngular),(0,qa.Q)(D.insideAngular))}}(us())(D)}},2090:(ne,G,S)=>{S.d(G,{BH:()=>be,LL:()=>$e,ZR:()=>Ce,zI:()=>ye,US:()=>W,tV:()=>F,L:()=>z,$s:()=>ts,r3:()=>on,Sg:()=>xe,ne:()=>ht,vZ:()=>Ii,ZB:()=>q,Lj:()=>zt,pd:()=>Li,m9:()=>_t,z$:()=>ke,jU:()=>je,ru:()=>Le,d:()=>ve,xb:()=>$n,w1:()=>Se,hl:()=>et,uI:()=>de,UG:()=>he,b$:()=>Ie,G6:()=>ce,Mn:()=>qe,X3:()=>yt,xO:()=>gi,zd:()=>wr,eu:()=>le});var c=S(5861);const U=function(Z){const j=[];let X=0;for(let we=0;we<Z.length;we++){let ae=Z.charCodeAt(we);ae<128?j[X++]=ae:ae<2048?(j[X++]=ae>>6|192,j[X++]=63&ae|128):55296==(64512&ae)&&we+1<Z.length&&56320==(64512&Z.charCodeAt(we+1))?(ae=65536+((1023&ae)<<10)+(1023&Z.charCodeAt(++we)),j[X++]=ae>>18|240,j[X++]=ae>>12&63|128,j[X++]=ae>>6&63|128,j[X++]=63&ae|128):(j[X++]=ae>>12|224,j[X++]=ae>>6&63|128,j[X++]=63&ae|128)}return j},W={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,j){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ae=0;ae<Z.length;ae+=3){const Ye=Z[ae],Et=ae+1<Z.length,un=Et?Z[ae+1]:0,Tr=ae+2<Z.length,an=Tr?Z[ae+2]:0;let wn=(15&un)<<2|an>>6,Qn=63&an;Tr||(Qn=64,Et||(wn=64)),we.push(X[Ye>>2],X[(3&Ye)<<4|un>>4],X[wn],X[Qn])}return we.join("")},encodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(Z):this.encodeByteArray(U(Z),j)},decodeString(Z,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(Z):function(Z){const j=[];let X=0,we=0;for(;X<Z.length;){const ae=Z[X++];if(ae<128)j[we++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Ye=Z[X++];j[we++]=String.fromCharCode((31&ae)<<6|63&Ye)}else if(ae>239&&ae<365){const Tr=((7&ae)<<18|(63&Z[X++])<<12|(63&Z[X++])<<6|63&Z[X++])-65536;j[we++]=String.fromCharCode(55296+(Tr>>10)),j[we++]=String.fromCharCode(56320+(1023&Tr))}else{const Ye=Z[X++],Et=Z[X++];j[we++]=String.fromCharCode((15&ae)<<12|(63&Ye)<<6|63&Et)}}return j.join("")}(this.decodeStringToByteArray(Z,j))},decodeStringToByteArray(Z,j){this.init_();const X=j?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ae=0;ae<Z.length;){const Ye=X[Z.charAt(ae++)],un=ae<Z.length?X[Z.charAt(ae)]:0;++ae;const an=ae<Z.length?X[Z.charAt(ae)]:64;++ae;const Bt=ae<Z.length?X[Z.charAt(ae)]:64;if(++ae,null==Ye||null==un||null==an||null==Bt)throw Error();we.push(Ye<<2|un>>4),64!==an&&(we.push(un<<4&240|an>>2),64!==Bt&&we.push(an<<6&192|Bt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},z=function(Z){return function(Z){const j=U(Z);return W.encodeByteArray(j,!0)}(Z).replace(/\./g,"")},F=function(Z){try{return W.decodeString(Z,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q(Z,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return j}for(const X in j)!j.hasOwnProperty(X)||!Te(X)||(Z[X]=q(Z[X],j[X]));return Z}function Te(Z){return"__proto__"!==Z}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,X)=>{this.resolve=j,this.reject=X})}wrapCallback(j){return(X,we)=>{X?this.reject(X):this.resolve(we),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(X):j(X,we))}}}function xe(Z,j){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=j||"demo-project",ae=Z.iat||0,Ye=Z.sub||Z.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ae,exp:ae+3600,auth_time:ae,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Et)),""].join(".")}function ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function je(){return"object"==typeof self&&self.self===self}function Le(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return ke().indexOf("Electron/")>=0}function Se(){const Z=ke();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function qe(){return ke().indexOf("MSAppHost/")>=0}function ce(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){return"object"==typeof indexedDB}function le(){return new Promise((Z,j)=>{try{let X=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(we);ae.onsuccess=()=>{ae.result.close(),X||self.indexedDB.deleteDatabase(we),Z(!0)},ae.onupgradeneeded=()=>{X=!1},ae.onerror=()=>{var Ye;j((null===(Ye=ae.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(X){j(X)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ce extends Error{constructor(j,X,we){super(X),this.code=j,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(j,X,we){this.service=j,this.serviceName=X,this.errors=we}create(j,...X){const we=X[0]||{},ae=`${this.service}/${j}`,Ye=this.errors[j],Et=Ye?function Mt(Z,j){return Z.replace(en,(X,we)=>{const ae=j[we];return null!=ae?String(ae):`<${we}?>`})}(Ye,we):"Error";return new Ce(ae,`${this.serviceName}: ${Et} (${ae}).`,we)}}const en=/\{\$([^}]+)}/g;function on(Z,j){return Object.prototype.hasOwnProperty.call(Z,j)}function $n(Z){for(const j in Z)if(Object.prototype.hasOwnProperty.call(Z,j))return!1;return!0}function Ii(Z,j){if(Z===j)return!0;const X=Object.keys(Z),we=Object.keys(j);for(const ae of X){if(!we.includes(ae))return!1;const Ye=Z[ae],Et=j[ae];if(kr(Ye)&&kr(Et)){if(!Ii(Ye,Et))return!1}else if(Ye!==Et)return!1}for(const ae of we)if(!X.includes(ae))return!1;return!0}function kr(Z){return null!==Z&&"object"==typeof Z}function gi(Z){const j=[];for(const[X,we]of Object.entries(Z))Array.isArray(we)?we.forEach(ae=>{j.push(encodeURIComponent(X)+"="+encodeURIComponent(ae))}):j.push(encodeURIComponent(X)+"="+encodeURIComponent(we));return j.length?"&"+j.join("&"):""}function wr(Z){const j={};return Z.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ae,Ye]=we.split("=");j[decodeURIComponent(ae)]=decodeURIComponent(Ye)}}),j}function Li(Z){const j=Z.indexOf("?");if(!j)return"";const X=Z.indexOf("#",j);return Z.substring(j,X>0?X:void 0)}function ht(Z,j){const X=new Pr(Z,j);return X.subscribe.bind(X)}class Pr{constructor(j,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{j(this)}).catch(we=>{this.error(we)})}next(j){this.forEachObserver(X=>{X.next(j)})}error(j){this.forEachObserver(X=>{X.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,X,we){let ae;if(void 0===j&&void 0===X&&void 0===we)throw new Error("Missing Observer.");ae=function sr(Z,j){if("object"!=typeof Z||null===Z)return!1;for(const X of j)if(X in Z&&"function"==typeof Z[X])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:X,complete:we},void 0===ae.next&&(ae.next=Cr),void 0===ae.error&&(ae.error=Cr),void 0===ae.complete&&(ae.complete=Cr);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(Et){}}),this.observers.push(ae),Ye}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,j)}sendOne(j,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{X(this.observers[j])}catch(we){"undefined"!=typeof console&&console.error&&console.error(we)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cr(){}function ts(Z,j=1e3,X=2){const we=j*Math.pow(X,Z),ae=Math.round(.5*we*(Math.random()-.5)*2);return Math.min(144e5,we+ae)}function _t(Z){return Z&&Z._delegate?Z._delegate:Z}function vr(Z,j){return new Promise((X,we)=>{Z.onsuccess=ae=>{X(ae.target.result)},Z.onerror=ae=>{var Ye;we(`${j}: ${null===(Ye=ae.target.error)||void 0===Ye?void 0:Ye.message}`)}})}class Gt{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,X="readonly"){return new nt(this._db.transaction.call(this._db,j,X))}createObjectStore(j,X){return new Re(this._db.createObjectStore(j,X))}close(){this._db.close()}}class nt{constructor(j){this._transaction=j,this.complete=new Promise((X,we)=>{this._transaction.oncomplete=function(){X()},this._transaction.onerror=()=>{we(this._transaction.error)},this._transaction.onabort=()=>{we(this._transaction.error)}})}objectStore(j){return new Re(this._transaction.objectStore(j))}}class Re{constructor(j){this._store=j}index(j){return new st(this._store.index(j))}createIndex(j,X,we){return new st(this._store.createIndex(j,X,we))}get(j){return vr(this._store.get(j),"Error reading from IndexedDB")}put(j,X){return vr(this._store.put(j,X),"Error writing to IndexedDB")}delete(j){return vr(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class st{constructor(j){this._index=j}get(j){return vr(this._index.get(j),"Error reading from IndexedDB")}}function yt(Z,j,X){return new Promise((we,ae)=>{try{const Ye=indexedDB.open(Z,j);Ye.onsuccess=Et=>{we(new Gt(Et.target.result))},Ye.onerror=Et=>{var un;ae(`Error opening indexedDB: ${null===(un=Et.target.error)||void 0===un?void 0:un.message}`)},Ye.onupgradeneeded=Et=>{X(new Gt(Ye.result),Et.oldVersion,Et.newVersion,new nt(Ye.transaction))}}catch(Ye){ae(`Error opening indexedDB: ${Ye.message}`)}})}function zt(Z){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(Z){return new Promise((j,X)=>{try{const we=indexedDB.deleteDatabase(Z);we.onsuccess=()=>{j()},we.onerror=ae=>{var Ye;X(`Error deleting indexedDB database "${Z}": ${null===(Ye=ae.target.error)||void 0===Ye?void 0:Ye.message}`)}}catch(we){X(`Error deleting indexedDB database "${Z}": ${we.message}`)}})})).apply(this,arguments)}},75:(ne,G,S)=>{var c=S(5e3);let $=null;function k(){return $}const W=new c.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function z(){return(0,c.LFG)(L)}()},providedIn:"platform"}),n})();const F=new c.OlP("Location Initialized");let L=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return new L((0,c.LFG)(W))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function he(n){const e=(0,c.LFG)(W).location;return new Le((0,c.LFG)(Q),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new c.OlP("appBaseHref");let Le=(()=>{class n extends de{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return be(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ke(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+ke(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+ke(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(je,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=be(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+ke(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+ke(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q),c.LFG(je,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Ze(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ke(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ke(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=ke,n.joinWithSlash=be,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Se(){return new ve((0,c.LFG)(de),(0,c.LFG)(Q))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}let Bi=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class is{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new is(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,d),Ui(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Ui(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ui(n,e){n.context.$implicit=e.item}let fe=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new re,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){me("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){me("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class re{constructor(){this.$implicit=null,this.ngIf=null}}function me(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class We{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let He=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),xt=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new We(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(He,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Xn=(()=>{class n{constructor(t,r,i){i._addDefault(new We(t,r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(He,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class vd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class _g{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Es=new _g,yg=new vd;let ji=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Es;if((0,c.F4k)(t))return yg;throw function Wn(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Hi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ws="browser";function Nr(n){return"server"===n}let Ul=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new jl((0,c.LFG)(W),window)}),n})();class jl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ja(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ws(this.window.history)||ws(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ws(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qs extends class sa extends class te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function U(n){$||($=n)}(new qs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dd(){return Dn=Dn||document.querySelector("base"),Dn?Dn.getAttribute("href"):null}();return null==t?null:function So(n){Io=Io||document.createElement("a"),Io.setAttribute("href",n);const e=Io.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $s(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Io,Dn=null;const $r=new c.OlP("TRANSITION_ID"),Ha=[{provide:c.ip1,useFactory:function cr(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[$r,W,c.zs3],multi:!0}];class $i{static init(){(0,c.VLi)(new $i)}addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(_){d=d||_,a--,0==a&&r(d)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Gr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ks=new c.OlP("EventManagerPlugins");let Cs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ks),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Hl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Zs=(()=>{class n extends bi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ys),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ys))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ys(n){k().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$l=/%COMP%/g;function Pe(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Pe(n,i,t):(i=i.replace($l,n),t.push(i))}return t}function Yt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new oa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ru(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new iu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Pe(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cs),c.LFG(Zs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=bt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=bt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Yt(r)):this.eventManager.addEventListener(e,t,Yt(r))}}class ru extends oa{constructor(e,t,r,i){super(e),this.component=r;const a=Pe(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function eu(n){return"_ngcontent-%COMP%".replace($l,n)}(i+"-"+r.id),this.hostAttr=function tu(n){return"_nghost-%COMP%".replace($l,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class iu extends oa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Pe(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Td=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const su=["alt","control","meta","shift"],Qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ai={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kl=(()=>{class n extends Hl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(su.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),d+=_+".")}),d+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function Js(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Fr.hasOwnProperty(e)&&(e=Fr[e]))}return Qs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),su.forEach(a=>{a!=i&&Ai[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const au=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ws},{provide:c.g9A,useValue:function Gi(){qs.makeCurrent(),$i.init()},multi:!0},{provide:W,useFactory:function Zl(){return(0,c.RDi)(document),document},deps:[]}]),Ga=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ou(){return new c.qLn},deps:[]},{provide:Ks,useClass:Td,multi:!0,deps:[W,c.R0b,c.Lbi]},{provide:Ks,useClass:Kl,multi:!0,deps:[W]},{provide:Fn,useClass:Fn,deps:[Cs,Zs,c.AFp]},{provide:c.FYo,useExisting:Fn},{provide:bi,useExisting:Zs},{provide:Zs,useClass:Zs,deps:[W]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Cs,useClass:Cs,deps:[Ks,c.R0b]},{provide:class On{},useClass:Gr,deps:[]}];let la=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:$r,useExisting:c.AFp},Ha]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ga,imports:[Hi,c.hGG]}),n})();"undefined"!=typeof window&&window;var Ln=S(5620),bn=S(8505);const ua={setAuthenticated:(0,Ln.PH)("[Auth] Set Authenticated"),setNotAuthenticated:(0,Ln.PH)("[Auth] Set Not Authenticated")},gu=(0,Ln.Lq)({isAuthenticated:!1},(0,Ln.on)(ua.setAuthenticated,n=>Object.assign(Object.assign({},n),{isAuthenticated:!0})),(0,Ln.on)(ua.setNotAuthenticated,n=>Object.assign(Object.assign({},n),{isAuthenticated:!1}))),to={setUserData:(0,Ln.PH)("[User] set user data",(0,Ln.Ky)()),resetUser:(0,Ln.PH)("[User] reset user")};var no=S(4986),ii=S(8306),kt=S(8996),Dt=S(9646),Tn=S(6351),Ro=S(8189),Jl=S(3269);function Xl(...n){return function ro(){return(0,Ro.J)(1)}()((0,kt.D)(n,(0,Jl.yG)(n)))}var Mi=S(4482);function ss(...n){const e=(0,Jl.yG)(n);return(0,Mi.e)((t,r)=>{(e?Xl(n,t,e):Xl(n,t)).subscribe(r)})}var Lr=S(5403);function io(){return(0,Mi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Lr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var rt,wt=S(4004),os=S(5026),si=S(1884),fr=S(9300),wi=S(2011),mu=(S(820),S(3942)),Ae=S(5861),Wr=S(9681),ha=S(4859),ko=S(1877),Ht=S(2090),as="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ss={},ec=ec||{},vt=as||self;function Wa(){}function so(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function oo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lo="closure_uid_"+(1e9*Math.random()>>>0),zi=0;function _f(n,e,t){return n.call.apply(n.bind,arguments)}function _u(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function qn(n,e,t){return(qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_f:_u).apply(null,arguments)}function Po(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function In(){this.s=this.s,this.o=this.o}var X_={};In.prototype.s=!1,In.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ao(n){return Object.prototype.hasOwnProperty.call(n,lo)&&n[lo]||(n[lo]=++zi)}(this);delete X_[n]}},In.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},yu=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function bf(n){return Array.prototype.concat.apply([],arguments)}function kd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ls(n){return/^[\s\xa0]*$/.test(n)}var tr,Ef=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ln(n,e){return-1!=n.indexOf(e)}function qa(n,e){return n<e?-1:n>e?1:0}e:{var vu=vt.navigator;if(vu){var fa=vu.userAgent;if(fa){tr=fa;break e}}tr=""}function pr(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function qr(n){const e={};for(const t in n)e[t]=n[t];return e}var Ka="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function As(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Ka.length;a++)t=Ka[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ci(n){return Ci[" "](n),n}Ci[" "]=Wa;var Ms,n,Pd=ln(tr,"Opera"),Za=ln(tr,"Trident")||ln(tr,"MSIE"),wf=ln(tr,"Edge"),Nd=wf||Za,cs=ln(tr,"Gecko")&&!(ln(tr.toLowerCase(),"webkit")&&!ln(tr,"Edge"))&&!(ln(tr,"Trident")||ln(tr,"MSIE"))&&!ln(tr,"Edge"),Kr=ln(tr.toLowerCase(),"webkit")&&!ln(tr,"Edge");function tc(){var n=vt.document;return n?n.documentMode:void 0}e:{var us="",nc=(n=tr,cs?/rv:([^\);]+)(\)|;)/.exec(n):wf?/Edge\/([\d\.]+)/.exec(n):Za?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Kr?/WebKit\/(\S+)/.exec(n):Pd?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nc&&(us=nc?nc[1]:""),Za){var Wi=tc();if(null!=Wi&&Wi>parseFloat(us)){Ms=String(Wi);break e}}Ms=us}var Ig={};var Ya=vt.document&&Za&&(tc()||parseInt(Ms,10))||void 0,Vd=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",Wa,e),vt.removeEventListener("test",Wa,e)}catch(t){}return n}();function D(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function T(n,e){if(D.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cs){e:{try{Ci(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:R[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&T.Z.h.call(this)}}D.prototype.h=function(){this.defaultPrevented=!0},Vr(T,D);var R={2:"touch",3:"pen",4:"mouse"};T.prototype.h=function(){T.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),se=0;function pe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++se,this.ca=this.fa=!1}function Ve(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function it(n){this.src=n,this.g={},this.h=0}function Ot(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=yf(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Ve(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function At(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}it.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=At(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new pe(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var Qt="closure_lm_"+(1e6*Math.random()|0),Ft={};function Zr(n,e,t,r,i){if(r&&r.once)return Fo(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Zr(n,e[a],t,r,i);return null}return t=Ja(t),n&&n[B]?n.N(e,t,oo(r)?!!r.capture:!!r,i):cn(n,e,t,!1,r,i)}function cn(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=oo(i)?!!i.capture:!!i,f=Bd(n);if(f||(n[Qt]=f=new it(n)),(t=f.add(e,t,r,d,a)).proxy)return t;if(r=function Qa(){var e=rc;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Vd||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ds(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Fo(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Fo(n,e[a],t,r,i);return null}return t=Ja(t),n&&n[B]?n.O(e,t,oo(r)?!!r.capture:!!r,i):cn(n,e,t,!0,r,i)}function co(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)co(n,e[a],t,r,i);else r=oo(r)?!!r.capture:!!r,t=Ja(t),n&&n[B]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=At(a=n.g[e],t,r,i))&&(Ve(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Bd(n))&&(e=n.g[e.toString()],n=-1,e&&(n=At(e,t,r,i)),(t=-1<n?e[n]:null)&&Yr(t))}function Yr(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[B])Ot(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ds(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Bd(e))?(Ot(t,n),0==t.h&&(t.src=null,e[Qt]=null)):Ve(n)}}}function ds(n){return n in Ft?Ft[n]:Ft[n]="on"+n}function rc(n,e){if(n.ca)n=!0;else{e=new T(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Yr(n),n=t.call(r,e)}return n}function Bd(n){return(n=n[Qt])instanceof it?n:null}var ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(n){return"function"==typeof n?n:(n[ga]||(n[ga]=function(e){return n.handleEvent(e)}),n[ga])}function br(){In.call(this),this.i=new it(this),this.P=this,this.I=null}function ur(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new D(e,n);else if(e instanceof D)e.target=e.target||n;else{var i=e;As(e=new D(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=bu(d,r,!0,e)&&i}if(i=bu(d=e.g=n,r,!0,e)&&i,i=bu(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=bu(d=e.g=t[a],r,!1,e)&&i}function bu(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var f=d.listener,_=d.ia||d.src;d.fa&&Ot(n.i,d),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Vr(br,In),br.prototype[B]=!0,br.prototype.removeEventListener=function(n,e,t,r){co(this,n,e,t,r)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ve(t[r]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},br.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ud=vt.JSON.stringify;function jd(){var n=Tf;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Xa,Cf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ey,n=>n.reset());class ey{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ty(n){vt.setTimeout(()=>{throw n},0)}function uo(n,e){Xa||function ny(){var n=vt.Promise.resolve(void 0);Xa=function(){n.then(Hd)}}(),Df||(Xa(),Df=!0),Tf.add(n,e)}var Df=!1,Tf=new class ic{constructor(){this.h=this.g=null}add(e,t){const r=Cf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Hd(){for(var n;n=jd();){try{n.h.call(n.g)}catch(t){ty(t)}var e=Cf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Df=!1}function If(n,e){br.call(this),this.h=n||1,this.g=e||vt,this.j=qn(this.kb,this),this.l=Date.now()}function Sf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Af(n,e,t){if("function"==typeof n)t&&(n=qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function Sg(n){n.g=Af(()=>{n.g=null,n.i&&(n.i=!1,Sg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vr(If,br),(rt=If.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ur(this,"tick"),this.da&&(Sf(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){If.Z.M.call(this),Sf(this),delete this.g};class $d extends In{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sg(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function el(n){In.call(this),this.h=n,this.g={}}Vr(el,In);var tl=[];function Ag(n,e,t,r){Array.isArray(t)||(t&&(tl[0]=t.toString()),t=tl);for(var i=0;i<t.length;i++){var a=Zr(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Gd(n){pr(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yr(e)},n),n.g={}}function Mf(){this.g=!0}function nl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Of(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return Ud(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}el.prototype.M=function(){el.Z.M.call(this),Gd(this)},el.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mf.prototype.Aa=function(){this.g=!1},Mf.prototype.info=function(){};var ma={},xg=null;function Wd(){return xg=xg||new br}function Og(n){D.call(this,ma.Ma,n)}function rl(n){const e=Wd();ur(e,new Og(e,n))}function Rg(n,e){D.call(this,ma.STAT_EVENT,n),this.stat=e}function Kn(n){const e=Wd();ur(e,new Rg(e,n))}function sc(n,e){D.call(this,ma.Na,n),this.size=e}function oc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}ma.Ma="serverreachability",Vr(Og,D),ma.STAT_EVENT="statevent",Vr(Rg,D),ma.Na="timingevent",Vr(sc,D);var Rf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kg(){}function Ng(){}kg.prototype.h=null;var Fg,ac={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Pf(){D.call(this,"d")}function Nf(){D.call(this,"c")}function ho(){}function qd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new el(this),this.P=lc,this.W=new If(n=Nd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Lg}function Lg(){this.i=null,this.g="",this.h=!1}Vr(Pf,D),Vr(Nf,D),Vr(ho,kg),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},Fg=new ho;var lc=45e3,Kd={},Di={};function il(n,e,t){n.K=1,n.v=pc(hs(e)),n.s=t,n.U=!0,Ff(n,null)}function Ff(n,e){n.F=Date.now(),cc(n),n.A=hs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ya(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Lg,n.g=x0(n.l,t?e:null,!n.s),0<n.O&&(n.L=new $d(qn(n.Ia,n,n.g),n.O)),Ag(n.V,n.g,"readystatechange",n.gb),e=n.H?qr(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),rl(1),function zd(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var x=I.split("_");d=2<=x.length&&"type"==x[1]?d+(I+"=")+w+"&":d+(I+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Eu(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Lf(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=T0(n,t),i==Di){4==e&&(n.o=4,Kn(14),r=!1),nl(n.j,n.m,null,"[Incomplete Response]");break}if(i==Kd){n.o=4,Kn(15),nl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}nl(n.j,n.m,i,null),Vg(n,i)}Eu(n)&&i!=Di&&i!=Kd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Au(e),e.L=!0,Kn(11))):(nl(n.j,n.m,t,"[Invalid Chunked Response]"),Lo(n),sl(n))}function T0(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Di:(t=Number(e.substring(t,r)),isNaN(t)?Kd:(r+=1)+t>e.length?Di:(e=e.substr(r,t),n.C=r+t,e))}function cc(n){n.Y=Date.now()+n.P,ry(n,n.P)}function ry(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=oc(qn(n.eb,n),e)}function uc(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function sl(n){0==n.l.G||n.I||Kg(n.l,n)}function Lo(n){uc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Sf(n.W),Gd(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Vg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||eh(t.i,n)))if(t.I=n.N,!n.J&&eh(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=oc(qn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;al(t),ft(t)}_c(t),Kn(18)}if(1>=Xd(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else ll(t,11)}else if((n.J||t.g==n)&&al(t),!ls(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const x=w[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const J=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var a=r.i;!a.g&&(ln(J,"spdy")||ln(J,"quic")||ln(J,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(th(a,a.h),a.h=null))}if(r.D){const ge=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.sa=ge,Zn(r.F,r.D,ge))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=M0(r,r.H?r.la:null,r.W),d.J){$g(r.i,d);var f=d,_=r.K;_&&f.setTimeout(_),f.B&&(uc(f),cc(f)),r.g=d}else jo(r);0<t.l.length&&ba(t)}else"stop"!=w[0]&&"close"!=w[0]||ll(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ll(t,7):Ct(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}rl(4)}catch(w){}}function dc(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(so(n)||"string"==typeof n)yu(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(so(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function iy(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(so(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function hc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof hc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Vf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Vo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Vo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Vo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=qd.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==A(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const I=A(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||Nd||this.g&&(this.h.h||this.g.ga()||P(this.g)))){this.I||4!=I||7==e||rl(8==e||0>=x?3:2),uc(this);var t=this.g.ba();this.N=t;t:if(Eu(this)){var r=P(this.g);n="";var i=r.length,a=4==A(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Lo(this),sl(this);var d="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function xf(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ls(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Kn(12),Lo(this),sl(this);break e}nl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vg(this,t)}this.U?(Lf(this,I,d),Nd&&this.i&&3==I&&(Ag(this.V,this.W,"tick",this.fb),this.W.start())):(nl(this.j,this.m,d,null),Vg(this,d)),4==I&&Lo(this),this.i&&!this.I&&(4==I?Kg(this.l,this):(this.i=!1,cc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Kn(12)):(this.o=0,Kn(13)),Lo(this),sl(this)}}}catch(I){}},rt.fb=function(){if(this.g){var n=A(this.g),e=this.g.ga();this.C<e.length&&(uc(this),Lf(this,n,e),this.i&&4!=n&&cc(this))}},rt.cancel=function(){this.I=!0,Lo(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Mg(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(rl(3),Kn(17)),Lo(this),this.o=2,sl(this)):ry(this,this.Y-n)},(rt=hc.prototype).R=function(){Vf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Vf(this),this.g.concat()},rt.get=function(n,e){return Vo(this.h,n)?this.h[n]:e},rt.set=function(n,e){Vo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var Zd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fo(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof fo){this.g=void 0!==e?e:n.g,fc(this,n.j),this.s=n.s,Yd(this,n.i),nr(this,n.m),this.l=n.l,e=n.h;var t=new Bo;t.i=e.i,e.g&&(t.g=new hc(e.g),t.h=e.h),Bf(this,t),this.o=n.o}else n&&(t=String(n).match(Zd))?(this.g=!!e,fc(this,t[1]||"",!0),this.s=_a(t[2]||""),Yd(this,t[3]||"",!0),nr(this,t[4]),this.l=_a(t[5]||"",!0),Bf(this,t[6]||"",!0),this.o=_a(t[7]||"")):(this.g=!!e,this.h=new Bo(null,this.g))}function hs(n){return new fo(n)}function fc(n,e,t){n.j=t?_a(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yd(n,e,t){n.i=t?_a(e,!0):e}function nr(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Bf(n,e,t){e instanceof Bo?(n.h=e,function qi(n,e){e&&!n.j&&(xs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Qd(this,r),ya(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=wu(e,Cu)),n.h=new Bo(e,n.g))}function Zn(n,e,t){n.h.set(e,t)}function pc(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _a(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,jg),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function jg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fo.prototype.toString=function(){var n=[],e=this.j;e&&n.push(wu(e,Hg,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(wu(e,Hg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(wu(t,"/"==t.charAt(0)?S0:I0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",wu(t,oi)),n.join("")};var Hg=/[#\/\?@]/g,I0=/[#\?:]/g,S0=/[#\?]/g,Cu=/[#\?@]/g,oi=/#/g;function Bo(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xs(n){n.g||(n.g=new hc,n.h=0,n.i&&function Bg(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Qd(n,e){xs(n),e=va(n,e),Vo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Vo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Vf(n)))}function Qr(n,e){return xs(n),e=va(n,e),Vo(n.g.h,e)}function ya(n,e,t){Qd(n,e),0<t.length&&(n.i=null,n.g.set(va(n,e),kd(t)),n.h+=t.length)}function va(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jd(n){this.l=n||oy,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ea&&vt.g.Ea()&&vt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Bo.prototype).add=function(n,e){xs(this),this.i=null,n=va(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){xs(this),this.g.forEach(function(t,r){yu(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){xs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},rt.R=function(n){xs(this);var e=[];if("string"==typeof n)Qr(this,n)&&(e=bf(e,this.g.get(va(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=bf(e,n[t])}return e},rt.set=function(n,e){return xs(this),this.i=null,Qr(this,n=va(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var oy=10;function Tu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Xd(n){return n.h?1:n.g?n.g.size:0}function eh(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function th(n,e){n.g?n.g.add(e):n.h=e}function $g(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Os(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return kd(n.i)}function nh(){}function ay(){this.g=new nh}function Uf(n,e,t){const r=t||"";try{dc(n,function(i,a){let d=i;oo(i)&&(d=Ud(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Iu(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function gr(n){this.l=n.$b||null,this.j=n.ib||!1}function gc(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Su,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jd.prototype.cancel=function(){if(this.i=Os(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},nh.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},nh.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Vr(gr,kg),gr.prototype.g=function(){return new gc(this.l,this.j)},gr.prototype.i=function(n){return function(){return n}}({}),Vr(gc,br);var Su=0;function Gg(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ki(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uo(n)}function Uo(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=gc.prototype).open=function(n,e){if(this.readyState!=Su)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uo(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ki(this)),this.readyState=Su},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==vt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gg(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ki(this):Uo(this),3==this.readyState&&Gg(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,Ki(this))},rt.Ta=function(n){this.g&&(this.response=n,Ki(this))},rt.ha=function(){this.g&&Ki(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jf=vt.JSON.parse;function mr(n){br.call(this),this.headers=new hc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zg,this.K=this.L=!1}Vr(mr,br);var zg="",Hf=/^https?$/i,cy=["POST","PUT"];function dy(n){return"content-type"==n.toLowerCase()}function Wg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,y(n),m(n)}function y(n){n.D||(n.D=!0,ur(n,"complete"),ur(n,"error"))}function p(n){if(n.h&&void 0!==ec&&(!n.C[1]||4!=A(n)||2!=n.ba()))if(n.v&&4==A(n))Af(n.Fa,0,n);else if(ur(n,"readystatechange"),4==A(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(Zd)[1]||null;if(!i&&vt.self&&vt.self.location){var a=vt.self.location.protocol;i=a.substr(0,a.length-1)}r=!Hf.test(i?i.toLowerCase():"")}t=r}if(t)ur(n,"complete"),ur(n,"success");else{n.m=6;try{var d=2<A(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",y(n)}}finally{m(n)}}}function m(n,e){if(n.g){b(n);const t=n.g,r=n.C[0]?Wa:null;n.g=null,n.C=null,e||ur(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function b(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function A(n){return n.g?n.g.readyState:0}function P(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case zg:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _e(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ie(n){let e="";return pr(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Ke(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ot(n){this.za=0,this.l=[],this.h=new Mf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ke("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ke("baseRetryDelayMs",5e3,n),this.$a=Ke("retryDelaySeedMs",1e4,n),this.Ya=Ke("forwardChannelMaxRetries",2,n),this.ra=Ke("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Jd(n&&n.concurrentRequestLimit),this.Ca=new ay,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Ct(n){if(Yn(n),3==n.G){var e=n.V++,t=hs(n.F);Zn(t,"SID",n.J),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),ol(n,t),(e=new qd(n,n.h,e,void 0)).K=2,e.v=pc(hs(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=x0(e.l,null),e.g.ea(e.v)),e.F=Date.now(),cc(e)}A0(n)}function ft(n){n.g&&(Au(n),n.g.cancel(),n.g=null)}function Yn(n){ft(n),n.u&&(vt.clearTimeout(n.u),n.u=null),al(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function xi(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ba(n)}function ba(n){Tu(n.i)||n.m||(n.m=!0,uo(n.Ha,n),n.C=0)}function mc(n,e){var t;t=e?e.m:n.V++;const r=hs(n.F);Zn(r,"SID",n.J),Zn(r,"RID",t),Zn(r,"AID",n.U),ol(n,r),n.o&&n.s&&_e(r,n.o,n.s),t=new qd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qg(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),th(n.i,t),il(t,r,e)}function ol(n,e){n.j&&dc({},function(t,r){Zn(e,r,t)})}function qg(n,e,t){t=Math.min(n.l.length,t);var r=n.j?qn(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{Uf(I,d,"req"+w+"_")}catch(x){r&&r(I)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function jo(n){n.g||n.u||(n.Y=1,uo(n.Ga,n),n.A=0)}function _c(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=oc(qn(n.Ga,n),sh(n,n.A)),n.A++,0))}function Au(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function ih(n){n.g=new qd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=hs(n.oa);Zn(e,"RID","rpc"),Zn(e,"SID",n.J),Zn(e,"CI",n.N?"0":"1"),Zn(e,"AID",n.U),ol(n,e),Zn(e,"TYPE","xmlhttp"),n.o&&n.s&&_e(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=pc(hs(e)),t.s=null,t.U=!0,Ff(t,n)}function al(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function Kg(n,e){var t=null;if(n.g==e){al(n),Au(n),n.g=null;var r=2}else{if(!eh(n.i,e))return;t=e.D,$g(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ur(r=Wd(),new sc(r,t,e,i)),ba(n)}else jo(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function rh(n,e){return!(Xd(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=oc(qn(n.Ha,n,e),sh(n,n.C)),n.C++,0)))}(n,e)||2==r&&_c(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ll(n,5);break;case 4:ll(n,10);break;case 3:ll(n,6);break;default:ll(n,2)}}function sh(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ll(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=qn(n.jb,n);t||(t=new fo("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||fc(t,"https"),pc(t)),function ly(n,e){const t=new Mf;if(vt.Image){const r=new Image;r.onload=Po(Iu,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Po(Iu,t,r,"TestLoadImage: error",!1,e),r.onabort=Po(Iu,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Po(Iu,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kn(2);n.G=0,n.j&&n.j.va(e),A0(n),Yn(n)}function A0(n){n.G=0,n.I=-1,n.j&&((0!=Os(n.i).length||0!=n.l.length)&&(n.i.i.length=0,kd(n.l),n.l.length=0),n.j.ua())}function M0(n,e,t){let r=function Ug(n){return n instanceof fo?hs(n):new fo(n,void 0)}(t);if(""!=r.i)e&&Yd(r,e+"."+r.i),nr(r,r.m);else{const i=vt.location;r=function sy(n,e,t,r){var i=new fo(null,void 0);return n&&fc(i,n),e&&Yd(i,e),t&&nr(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&pr(n.aa,function(i,a){Zn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Zn(r,e,t),Zn(r,"VER",n.ma),ol(n,r),r}function x0(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mr(t&&n.Ba&&!n.qa?new gr({ib:!0}):n.qa)).L=n.H,e}function hy(){}function oh(){if(Za&&!(10<=Number(Ya)))throw Error("Environmental error: no available transport.")}function fs(n,e){br.call(this),this.g=new ot(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ls(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ls(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ah(this)}function Zg(n){Pf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function O0(){Nf.call(this),this.status=1}function ah(n){this.g=n}(rt=mr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fg.g(),this.C=function Pg(n){return n.h||(n.h=n.i())}(this.u?this.u:Fg),this.g.onreadystatechange=qn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Wg(this,a)}n=t||"";const i=new hc(this.headers);r&&dc(r,function(a,d){i.set(d,a)}),r=function vf(n){e:{var e=dy;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=vt.FormData&&n instanceof vt.FormData,!(0<=yf(cy,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{b(this),0<this.B&&((this.K=function uy(n){return Za&&function Fd(){return function No(n){var e=Ig;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ef(String(Ms)).split("."),t=Ef("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=qa(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||qa(0==i[2].length,0==a[2].length)||qa(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qn(this.pa,this)):this.A=Af(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Wg(this,a)}},rt.pa=function(){void 0!==ec&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ur(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ur(this,"complete"),ur(this,"abort"),m(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),m(this,!0)),mr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?p(this):this.cb())},rt.cb=function(){p(this)},rt.ba=function(){try{return 2<A(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jf(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=ot.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new qd(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=qr(a),As(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qg(this,i,e),Zn(t=hs(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),ol(this,t),this.o&&a&&_e(t,this.o,a),th(this.i,i),this.Ra&&Zn(t,"TYPE","init"),this.ja?(Zn(t,"$req",e),Zn(t,"SID","null"),i.$=!0,il(i,t,null)):il(i,t,e),this.G=2}}else 3==this.G&&(n?mc(this,n):0==this.l.length||Tu(this.i)||mc(this))},rt.Ga=function(){if(this.u=null,ih(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=oc(qn(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kn(10),ft(this),ih(this))},rt.ab=function(){null!=this.v&&(this.v=null,ft(this),_c(this),Kn(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Kn(2)):(this.h.info("Failed to ping google.com"),Kn(1))},(rt=hy.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},oh.prototype.g=function(n,e){return new fs(n,e)},Vr(fs,br),fs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),uo(qn(n.hb,n,e))),Kn(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=M0(n,null,n.W),ba(n)},fs.prototype.close=function(){Ct(this.g)},fs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,xi(this.g,e)}else this.v?((e={}).__data__=Ud(n),xi(this.g,e)):xi(this.g,n)},fs.prototype.M=function(){this.g.j=null,delete this.j,Ct(this.g),delete this.g,fs.Z.M.call(this)},Vr(Zg,Pf),Vr(O0,Nf),Vr(ah,hy),ah.prototype.xa=function(){ur(this.g,"a")},ah.prototype.wa=function(n){ur(this.g,new Zg(n))},ah.prototype.va=function(n){ur(this.g,new O0(n))},ah.prototype.ua=function(){ur(this.g,"b")},oh.prototype.createWebChannel=oh.prototype.g,fs.prototype.send=fs.prototype.u,fs.prototype.open=fs.prototype.m,fs.prototype.close=fs.prototype.close,Rf.NO_ERROR=0,Rf.TIMEOUT=8,Rf.HTTP_ERROR=6,kf.COMPLETE="complete",Ng.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",br.prototype.listen=br.prototype.N,mr.prototype.listenOnce=mr.prototype.O,mr.prototype.getLastError=mr.prototype.La,mr.prototype.getLastErrorCode=mr.prototype.Da,mr.prototype.getStatus=mr.prototype.ba,mr.prototype.getResponseJson=mr.prototype.Qa,mr.prototype.getResponseText=mr.prototype.ga,mr.prototype.send=mr.prototype.ea;var R0=Ss.createWebChannelTransport=function(){return new oh},k0=Ss.getStatEventTarget=function(){return Wd()},cl=Ss.ErrorCode=Rf,P0=Ss.EventType=kf,N0=Ss.Event=ma,F0=Ss.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Yg=Ss.FetchXmlHttpFactory=gr,Qg=Ss.WebChannel=Ng,L0=Ss.XhrIo=mr;const fy="@firebase/firestore";class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let yc="9.6.11";const ul=new ko.Yd("@firebase/firestore");function lh(){return ul.logLevel}function Ge(n,...e){if(ul.logLevel<=ko.in.DEBUG){const t=e.map($f);ul.debug(`Firestore (${yc}): ${n}`,...t)}}function Er(n,...e){if(ul.logLevel<=ko.in.ERROR){const t=e.map($f);ul.error(`Firestore (${yc}): ${n}`,...t)}}function ch(n,...e){if(ul.logLevel<=ko.in.WARN){const t=e.map($f);ul.warn(`Firestore (${yc}): ${n}`,...t)}}function $f(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function Vt(n,e){n||at()}function tt(n,e){return n}const Ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ht.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class py{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class B0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tT{constructor(e){this.t=e,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Br,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=d;e.enqueueRetryable((0,Ae.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Br)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt("string"==typeof r.accessToken),new py(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new ai(e)}}class U0{constructor(e,t,r){this.type="FirstParty",this.user=ai.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class nT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new U0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ho{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vt("string"==typeof t.token),this.p=t.token,new j0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ps{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function rT(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ps.A=-1;class H0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function uh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function gy(n){return n+"\0"}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Sr(0,0))}static max(){return new Pt(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Nt(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function my(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dh{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends dh{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const Xg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends dh{construct(e,t,r){return new Vn(e,t,r)}static isValidIdentifier(e){return Xg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Fe(Ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(Ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Fe(Ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(t)}static emptyPath(){return new Vn([])}}class Mu{constructor(e){this.fields=e,e.sort(Vn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ar(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const dl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(n){if(Vt(!!n),"string"==typeof n){let e=0;const t=dl.exec(n);if(Vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(n.seconds),nanos:_r(n.nanos)}}function _r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hl(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}function G0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _y(n){const e=n.mapValue.fields.__previous_value__;return G0(e)?_y(e):e}function em(n){const e=Ea(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}class tm{constructor(e,t,r,i,a,d,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class po{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}function fl(n){return null==n}function xu(n){return 0===n&&1/n==-1/0}function nm(n){return"number"==typeof n&&Number.isInteger(n)&&!xu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(gn.fromString(e))}static fromName(e){return new Xe(gn.fromString(e).popFirst(5))}static empty(){return new Xe(gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new gn(e.slice()))}}const z0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},W0={nullValue:"NULL_VALUE"};function Ou(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?G0(n)?4:aT(n)?9:10:at()}function wa(n,e){if(n===e)return!0;const t=Ou(n);if(t!==Ou(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return em(n).isEqual(em(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Ea(r.timestampValue),d=Ea(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,hl(n.bytesValue).isEqual(hl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return _r(r.geoPointValue.latitude)===_r(i.geoPointValue.latitude)&&_r(r.geoPointValue.longitude)===_r(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _r(r.integerValue)===_r(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=_r(r.doubleValue),d=_r(i.doubleValue);return a===d?xu(a)===xu(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return uh(n.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if($0(a)!==$0(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!wa(a[f],d[f])))return!1;return!0}(n,e);default:return at()}var i}function hh(n,e){return void 0!==(n.values||[]).find(t=>wa(t,e))}function Ru(n,e){if(n===e)return 0;const t=Ou(n),r=Ou(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=_r(i.integerValue||i.doubleValue),f=_r(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return q0(n.timestampValue,e.timestampValue);case 4:return q0(em(n),em(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=hl(i),f=hl(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let _=0;_<d.length&&_<f.length;_++){const w=Jt(d[_],f[_]);if(0!==w)return w}return Jt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=Jt(_r(i.latitude),_r(a.latitude));return 0!==d?d:Jt(_r(i.longitude),_r(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let _=0;_<d.length&&_<f.length;++_){const w=Ru(d[_],f[_]);if(w)return w}return Jt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const d=i.fields||{},f=Object.keys(d),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const x=Jt(f[I],w[I]);if(0!==x)return x;const V=Ru(d[f[I]],_[w[I]]);if(0!==V)return V}return Jt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw at()}}function q0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=Ea(n),r=Ea(e),i=Jt(t.seconds,r.seconds);return 0!==i?i:Jt(t.nanos,r.nanos)}function Gf(n){return rm(n)}function rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ea(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hl(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=rm(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${rm(r.fields[f])}`;return a+"}"}(n.mapValue):at();var e}function vc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yy(n){return!!n&&"integerValue"in n}function ku(n){return!!n&&"arrayValue"in n}function sT(n){return!!n&&"nullValue"in n}function oT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vy(n){return!!n&&"mapValue"in n}function im(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Nt(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=im(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=im(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function YA(n){return"nullValue"in n?W0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?vc(po.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function QA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?vc(po.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?z0:at()}function lT(n,e){return void 0===n?e:void 0===e||Ru(n,e)>0?n:e}function cT(n,e){return void 0===n?e:void 0===e||Ru(n,e)<0?n:e}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=im(t)}setAll(e){let t=Vn.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=im(d):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());vy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];vy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Nt(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zi(im(this.value))}}function pl(n){const e=[];return Nt(n.fields,(t,r)=>{const i=new Vn([t]);if(vy(r)){const a=pl(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new Mu(e)}class Un{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Un(e,0,Pt.min(),Pt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r){return new Un(e,1,t,Pt.min(),r,0)}static newNoDocument(e,t){return new Un(e,2,t,Pt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new Un(e,3,t,Pt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function om(n){return n.fields.find(e=>2===e.kind)}function gl(n){return n.fields.filter(e=>2!==e.kind)}sm.UNKNOWN_ID=-1;class zf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Pu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Pu(0,Ca.min())}}function K0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===r?new Sr(t+1,0):new Sr(t,r));return new Ca(i,Xe.empty(),e)}function bc(n){return new Ca(n.readTime,n.key,-1)}class Ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ca(Pt.min(),Xe.empty(),-1)}static max(){return new Ca(Pt.max(),Xe.empty(),-1)}}function uT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}class by{constructor(e,t=null,r=[],i=[],a=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.P=null}}function Z0(n,e=null,t=[],r=[],i=null,a=null,d=null){return new by(n,e,t,r,i,a,d)}function Ec(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Gf(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gf(r)).join(",")),e.P=t}return e.P}function Wf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!JA(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!wa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ty(n.startAt,e.startAt)&&Ty(n.endAt,e.endAt)}function wc(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ml(n,e){return n.filters.filter(t=>t instanceof Mr&&t.field.isEqual(e))}function am(n,e,t){let r,i=!0;for(const a of ml(n,e)){let d,f=!0;switch(a.op){case"<":case"<=":d=YA(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,f=!1;break;case"!=":case"not-in":d=W0}lT(r,d)===d&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];lT(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function Nu(n,e,t){let r,i=!0;for(const a of ml(n,e)){let d,f=!0;switch(a.op){case">=":case">":d=QA(a.value),f=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,f=!1;break;case"!=":case"not-in":d=z0}cT(r,d)===d&&(r=d,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];cT(r,d)===d&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Mr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new fh(e,t,r):"array-contains"===t?new wy(e,r):"in"===t?new Cy(e,r):"not-in"===t?new Q0(e,r):"array-contains-any"===t?new lm(e,r):new Mr(e,t,r)}static V(e,t,r){return"in"===t?new hT(e,r):new Y0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ru(t,this.value)):null!==t&&Ou(this.value)===Ou(t)&&this.v(Ru(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fh extends Mr{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.v(t)}}class hT extends Mr{constructor(e,t){super(e,"in",t),this.keys=Ey(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Y0 extends Mr{constructor(e,t){super(e,"not-in",t),this.keys=Ey(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ey(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class wy extends Mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ku(t)&&hh(t.arrayValue,this.value)}}class Cy extends Mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hh(this.value.arrayValue,t)}}class Q0 extends Mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hh(this.value.arrayValue,t)}}class lm extends Mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ku(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hh(this.value.arrayValue,r))}}class Cc{constructor(e,t){this.position=e,this.inclusive=t}}class Fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function JA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Dy(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(d.referenceValue),t.key):Ru(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ty(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wa(n.position[t],e.position[t]))return!1;return!0}class _l{constructor(e,t=null,r=[],i=[],a=null,d="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function Iy(n,e,t,r,i,a,d,f){return new _l(n,e,t,r,i,a,d,f)}function ph(n){return new _l(n)}function cm(n){return!fl(n.limit)&&"F"===n.limitType}function Oi(n){return!fl(n.limit)&&"L"===n.limitType}function Sy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ay(n){for(const e of n.filters)if(e.S())return e.field;return null}function J0(n){return null!==n.collectionGroup}function qf(n){const e=tt(n);if(null===e.D){e.D=[];const t=Ay(e),r=Sy(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Fu(t)),e.D.push(new Fu(Vn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Fu(Vn.keyField(),a))}}}return e.D}function Rs(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=Z0(e.path,e.collectionGroup,qf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of qf(e))t.push(new Fu(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Cc(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Cc(e.startAt.position,!e.startAt.inclusive):null;e.C=Z0(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function fT(n,e,t){return new _l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kf(n,e){return Wf(Rs(n),Rs(e))&&n.limitType===e.limitType}function um(n){return`${Ec(Rs(n))}|lt:${n.limitType}`}function dm(n){return`Query(target=${function dT(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Gf(r.value)}`;var r}).join(", ")}]`),fl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Gf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Gf(t)).join(",")),`Target(${e})`}(Rs(n))}; limitType=${n.limitType})`}function My(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const f=Dy(i,a,d);return i.inclusive?f<=0:f<0}(t.startAt,qf(t),r)||t.endAt&&!function(i,a,d){const f=Dy(i,a,d);return i.inclusive?f>=0:f>0}(t.endAt,qf(t),r)));var t,r}function X0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eE(n){return(e,t)=>{let r=!1;for(const i of qf(n)){const a=tE(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function tE(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,a,d){const f=a.data.field(i),_=d.data.field(i);return null!==f&&null!==_?Ru(f,_):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}function nE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function xy(n){return{integerValue:""+n}}function rE(n,e){return nm(e)?xy(e):nE(n,e)}class hm{constructor(){this._=void 0}}function iE(n,e,t){return n instanceof Yi?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof yl?aE(n,e):n instanceof Lu?pT(n,e):function(r,i){const a=oE(r,i),d=lE(a)+lE(r.k);return yy(a)&&yy(r.k)?xy(d):nE(r.M,d)}(n,e)}function sE(n,e,t){return n instanceof yl?aE(n,e):n instanceof Lu?pT(n,e):t}function oE(n,e){return n instanceof Vu?yy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yi extends hm{}class yl extends hm{constructor(e){super(),this.elements=e}}function aE(n,e){const t=cE(e);for(const r of n.elements)t.some(i=>wa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Lu extends hm{constructor(e){super(),this.elements=e}}function pT(n,e){let t=cE(e);for(const r of n.elements)t=t.filter(i=>!wa(i,r));return{arrayValue:{values:t}}}class Vu extends hm{constructor(e,t){super(),this.M=e,this.k=t}}function lE(n){return _r(n.integerValue||n.doubleValue)}function cE(n){return ku(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zf{constructor(e,t){this.field=e,this.transform=t}}class gT{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gh{}function mT(n,e,t){n instanceof Qf?function(r,i,a){const d=r.value.clone(),f=dE(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof vl?function(r,i,a){if(!Bu(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=dE(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(_T(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yf(n,e,t){var i;n instanceof Qf?function(r,i,a){if(!Bu(r.precondition,i))return;const d=r.value.clone(),f=Py(r.fieldTransforms,a,i);d.setAll(f),i.convertToFoundDocument(uE(i),d).setHasLocalMutations()}(n,e,t):n instanceof vl?function(r,i,a){if(!Bu(r.precondition,i))return;const d=Py(r.fieldTransforms,a,i),f=i.data;f.setAll(_T(r)),f.setAll(d),i.convertToFoundDocument(uE(i),f).setHasLocalMutations()}(n,e,t):Bu(n.precondition,i=e)&&i.convertToNoDocument(Pt.min())}function Ry(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=oE(r.transform,i||null);null!=a&&(null==t&&(t=Zi.empty()),t.set(r.field,a))}return t||null}function ky(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&uh(t,r,(i,a)=>function Oy(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yl&&r instanceof yl||t instanceof Lu&&r instanceof Lu?uh(t.elements,r.elements,wa):t instanceof Vu&&r instanceof Vu?wa(t.k,r.k):t instanceof Yi&&r instanceof Yi);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function uE(n){return n.isFoundDocument()?n.version:Pt.min()}class Qf extends gh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class vl extends gh{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function _T(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dE(n,e,t){const r=new Map;Vt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,f=e.data.field(a.field);r.set(a.field,sE(d,f,t[i]))}return r}function Py(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,iE(a,d,e))}return r}class mh extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class fm extends gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class hE{constructor(e){this.count=e}}var xr,Xt;function Jf(n){switch(n){default:return at();case Ee.CANCELLED:case Ee.UNKNOWN:case Ee.DEADLINE_EXCEEDED:case Ee.RESOURCE_EXHAUSTED:case Ee.INTERNAL:case Ee.UNAVAILABLE:case Ee.UNAUTHENTICATED:return!1;case Ee.INVALID_ARGUMENT:case Ee.NOT_FOUND:case Ee.ALREADY_EXISTS:case Ee.PERMISSION_DENIED:case Ee.FAILED_PRECONDITION:case Ee.ABORTED:case Ee.OUT_OF_RANGE:case Ee.UNIMPLEMENTED:case Ee.DATA_LOSS:return!0}}function fE(n){if(void 0===n)return Er("GRPC error has no .code"),Ee.UNKNOWN;switch(n){case xr.OK:return Ee.OK;case xr.CANCELLED:return Ee.CANCELLED;case xr.UNKNOWN:return Ee.UNKNOWN;case xr.DEADLINE_EXCEEDED:return Ee.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return Ee.RESOURCE_EXHAUSTED;case xr.INTERNAL:return Ee.INTERNAL;case xr.UNAVAILABLE:return Ee.UNAVAILABLE;case xr.UNAUTHENTICATED:return Ee.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return Ee.INVALID_ARGUMENT;case xr.NOT_FOUND:return Ee.NOT_FOUND;case xr.ALREADY_EXISTS:return Ee.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return Ee.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return Ee.FAILED_PRECONDITION;case xr.ABORTED:return Ee.ABORTED;case xr.OUT_OF_RANGE:return Ee.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return Ee.UNIMPLEMENTED;case xr.DATA_LOSS:return Ee.DATA_LOSS;default:return at()}}(Xt=xr||(xr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class Dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nt(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return my(this.inner)}size(){return this.innerSize}}class jr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:li.RED,this.left=null!=i?i:li.EMPTY,this.right=null!=a?a:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return li.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,i){return this}insert(n,e,t){return new li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(e){return new yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jn(this.comparator);return t.data=e,t}}class yh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vh(n){return n.hasNext()?n.getNext():void 0}const Ny=new jr(Xe.comparator);function ks(){return Ny}const pE=new jr(Xe.comparator);function pm(){return pE}function Xf(){return new Dc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fy=new jr(Xe.comparator),yT=new jn(Xe.comparator);function Mn(...n){let e=yT;for(const t of n)e=e.add(t);return e}const gE=new jn(Jt);function bl(){return gE}class bh{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ep.createSynthesizedTargetChangeForCurrentChange(e,t)),new bh(Pt.min(),r,bl(),ks(),Mn())}}class ep{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ep(Ar.EMPTY_BYTE_STRING,t,Mn(),Mn(),Mn())}}class gm{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Uu{constructor(e,t){this.targetId=e,this.$=t}}class mE{constructor(e,t,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _E{constructor(){this.B=0,this.L=go(),this.U=Ar.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Mn(),t=Mn(),r=Mn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:at()}}),new ep(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=go()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class vT{constructor(e){this.nt=e,this.st=new Map,this.it=ks(),this.rt=yE(),this.ot=new jn(Jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(wc(a))if(0===r){const d=new Xe(a.path);this.ct(t,d,Un.newNoDocument(d,Pt.min()))}else Vt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,d)=>{const f=this.wt(d);if(f){if(a.current&&wc(f.target)){const _=new Xe(f.target.path);null!==this.it.get(_)||this.It(d,_)||this.ct(d,_,Un.newNoDocument(_,e))}a.j&&(t.set(d,a.H()),a.J())}});let r=Mn();this.rt.forEach((a,d)=>{let f=!0;d.forEachWhile(_=>{const w=this.wt(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,d)=>d.setReadTime(e));const i=new bh(e,t,this.ot,this.it,r);return this.it=ks(),this.rt=yE(),this.ot=new jn(Jt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new _E,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new jn(Jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new _E),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function yE(){return new jr(Xe.comparator)}function go(){return new jr(Xe.comparator)}const Ly={asc:"ASCENDING",desc:"DESCENDING"},vE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bE{constructor(e,t){this.databaseId=e,this.N=t}}function Eh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vy(n,e){return n.N?e.toBase64():e.toUint8Array()}function bT(n,e){return Eh(n,e.toTimestamp())}function ci(n){return Vt(!!n),Pt.fromTimestamp(function(e){const t=Ea(e);return new Sr(t.seconds,t.nanos)}(n))}function By(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function EE(n){const e=gn.fromString(n);return Vt(IE(e)),e}function wh(n,e){return By(n.databaseId,e.path)}function El(n,e){const t=EE(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(Ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(ET(t))}function mm(n,e){return By(n.databaseId,e)}function wE(n){const e=EE(n);return 4===e.length?gn.emptyPath():ET(e)}function tp(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ET(n){return Vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wT(n,e,t){return{name:wh(n,e),fields:t.value.mapValue.fields}}function _m(n,e,t){const r=El(n,e.name),i=ci(e.updateTime),a=new Zi({mapValue:{fields:e.fields}}),d=Un.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Ch(n,e){let t;if(e instanceof Qf)t={update:wT(n,e.key,e.value)};else if(e instanceof mh)t={delete:wh(n,e.key)};else if(e instanceof vl)t={update:wT(n,e.key,e.data),updateMask:AT(e.fieldMask)};else{if(!(e instanceof fm))return at();t={verify:wh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof Yi)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Lu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vu)return{fieldPath:a.field.canonicalString(),increment:d.k};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bT(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:at()),t;var i}function DE(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ur.updateTime(ci(i.updateTime)):void 0!==i.exists?Ur.exists(i.exists):Ur.none():Ur.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(Vt("REQUEST_TIME"===d.setToServerValue),f=new Yi):"appendMissingElements"in d?f=new yl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Lu(d.removeAllFromArray.values||[]):"increment"in d?f=new Vu(a,d.increment):at();const _=Vn.fromServerFormat(d.fieldPath);return new Zf(_,f)}(n,i)):[];var i;if(e.update){const i=El(n,e.update.name),a=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Mu((e.updateMask.fieldPaths||[]).map(w=>Vn.fromServerFormat(w)));return new vl(i,a,d,t,r)}return new Qf(i,a,t,r)}if(e.delete){const i=El(n,e.delete);return new mh(i,t)}if(e.verify){const i=El(n,e.verify);return new fm(i,t)}return at()}function DT(n,e){return{documents:[mm(n,e.path)]}}function TT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(x){if("=="===x.op){if(oT(x.value))return{unaryFilter:{field:ju(x.field),op:"IS_NAN"}};if(sT(x.value))return{unaryFilter:{field:ju(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(oT(x.value))return{unaryFilter:{field:ju(x.field),op:"IS_NOT_NAN"}};if(sT(x.value))return{unaryFilter:{field:ju(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(x.field),op:XA(x.op),value:x.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:ju((I=w).field),direction:IT(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=e.limit,n.N||fl(w)?w:{value:w});var w,f,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Uy(n){let e=wE(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Vt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=jy(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(I=>{return new Fu(Tc((x=I).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,fl(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new Cc((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new Cc(I.values||[],!I.before)}(t.endAt)),Iy(e,i,d,a,f,"F",_,w)}function jy(n){return n?void 0!==n.unaryFilter?[Hy(n)]:void 0!==n.fieldFilter?[ST(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>jy(e)).reduce((e,t)=>e.concat(t)):at():[]}function IT(n){return Ly[n]}function XA(n){return vE[n]}function ju(n){return{fieldPath:n.canonicalString()}}function Tc(n){return Vn.fromServerFormat(n.fieldPath)}function ST(n){return Mr.create(Tc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}function Hy(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Tc(n.unaryFilter.field);return Mr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Tc(n.unaryFilter.field);return Mr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tc(n.unaryFilter.field);return Mr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tc(n.unaryFilter.field);return Mr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return at()}}function AT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Qi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SE(e)),e=MT(n.get(t),e);return SE(e)}function MT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function SE(n){return n+"\x01\x01"}function Da(n){const e=n.length;if(Vt(e>=2),2===e)return Vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&at(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:at()}a=d+2}return new gn(r)}const np=["userId","batchId"];function wl(n,e){return[n,Qi(e)]}function AE(n,e,t){return[n,Qi(e),t]}const rp={},xT=["prefixPath","collectionGroup","readTime","documentId"],OT=["prefixPath","collectionGroup","documentId"],$y=["collectionGroup","readTime","prefixPath","documentId"],Ta=["canonicalId","targetId"],ip=["targetId","path"],Ri=["path","targetId"],Hu=["collectionId","parent"],ym=["indexId","uid"],mo=["uid","sequenceNumber"],Gy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dh=["indexId","uid","orderedDocumentKey"],Th=["userId","collectionPath","documentId"],Ih=["userId","collectionPath","largestBatchId"],Sh=["userId","collectionGroup","largestBatchId"],$u=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ah=[...$u,"documentOverlays"],Gu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Mh=[...Gu,"indexConfiguration","indexState","indexEntries"],zu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,r)=>{t(e)})}static reject(e){return new De((t,r)=>{r(e)})}static waitFor(e){return new De((t,r)=>{let i=0,a=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&t()},_=>r(_))}),d=!0,a===i&&t()})}static or(e){let t=De.resolve(!1);for(const r of e)t=t.next(i=>i?De.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class sp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Br,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new xh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=vm(r.target.error);this.At.reject(new xh(e,i))}}static open(e,t,r,i){try{return new sp(t,e.transaction(i,r))}catch(a){throw new xh(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xE(t)}}class _o{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===_o.Vt((0,Ht.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Sc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ht.hl)())return!1;if(_o.St())return!0;const e=(0,Ht.z$)(),t=_o.Vt(e),r=0<t&&t<10,i=_o.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new xh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Fe(Ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Fe(Ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new xh(e,f))},a.onupgradeneeded=d=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ae.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const _=sp.open(a.db,e,d?"readonly":"readwrite",r),w=i(_).next(I=>(_.Pt(),I)).catch(I=>(_.abort(I),De.reject(I))).toPromise();return w.catch(()=>{}),yield _.Rt,w}catch(_){const w="FirebaseError"!==_.name&&f<3;if(Ge("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),a.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ME{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Sc(this.Ft.delete())}}class xh extends Fe{constructor(e,t){super(Ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ic(n){return"IndexedDbTransactionError"===n.name}class xE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Sc(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Sc(this.store.add(e))}get(e){return Sc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Sc(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Sc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(d,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new De((a,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new De((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,d,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new De((r,i)=>{t.onerror=a=>{const d=vm(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new De((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const _=new ME(f),w=t(f.primaryKey,f.value,_);if(w instanceof De){const I=w.catch(x=>(_.done(),De.reject(x)));r.push(I)}_.isDone?i():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>De.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Sc(n){return new De((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vm(r.target.error);t(i)}})}let OE=!1;function vm(n){const e=_o.Vt((0,Ht.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return OE||(OE=!0,setTimeout(()=>{throw r},0)),r}}return n}class RE extends zy{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Jr(n,e){const t=tt(n);return _o.xt(t.Ht,e)}class bm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&mT(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Yf(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Yf(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mn())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,(t,r)=>ky(t,r))&&uh(this.baseMutations,e.baseMutations,(t,r)=>ky(t,r))}}class Wy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Vt(e.mutations.length===r.length);let i=Fy;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new Wy(e,t,r,i)}}class qy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cl{constructor(e,t,r,i,a=Pt.min(),d=Pt.min(),f=Ar.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Cl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Cl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kE{constructor(e){this.Jt=e}}function NE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Em(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:wh(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Eh(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Oh(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:Oh(e.version)}}var i,a;return r}function Em(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Oh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wu(n){const e=new Sr(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function Ac(n,e){const t=(e.baseMutations||[]).map(a=>DE(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>DE(n.Jt,a)),i=Sr.fromMillis(e.localWriteTimeMs);return new bm(e.batchId,i,t,r)}function qu(n){const e=Wu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wu(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(Vt(1===(i=n.query).documents.length),r=Rs(ph(wE(i.documents[0])))):r=Rs(Uy(n.query)),new Cl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ar.fromBase64String(n.resumeToken))}function FE(n,e){const t=Oh(e.snapshotVersion),r=Oh(e.lastLimboFreeSnapshotVersion);let i;i=wc(e.target)?DT(n.Jt,e.target):TT(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ec(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LE(n){const e=Uy({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fT(e,e.limit,"L"):e}function VE(n,e){return new qy(e.largestBatchId,DE(n.Jt,e.overlayMutation))}function RT(n,e){const t=e.path.lastSegment();return[n,Qi(e.path.popLast()),t]}class kT{getBundleMetadata(e,t){return Ky(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Wu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Ky(e).put({bundleId:(r=t).id,createTime:Oh(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return PT(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:LE(i.bundledQuery),readTime:Wu(i.readTime)};var i})}saveNamedQuery(e,t){return PT(e).put({name:(r=t).name,readTime:Oh(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ky(n){return Jr(n,"bundles")}function PT(n){return Jr(n,"namedQueries")}class Zy{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Zy(e,t.uid||"")}getOverlay(e,t){return Ia(e).get(RT(this.userId,t)).next(r=>r?VE(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const f=new qy(t,d);i.push(this.Xt(e,f))}),De.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Qi(d.getCollectionPath())));const a=[];return i.forEach(d=>{const f=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(Ia(e).Qt("collectionPathOverlayIndex",f))}),De.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Xf(),a=Qi(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ia(e).qt("collectionPathOverlayIndex",d).next(f=>{for(const _ of f){const w=VE(this.M,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Xf();let d;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ia(e).Wt({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const x=VE(this.M,w);a.size()<i||x.largestBatchId===d?(a.set(x.getKey(),x),d=x.largestBatchId):I.done()}).next(()=>a)}Xt(e,t){return Ia(e).put(function(r,i,a){const[d,f,_]=RT(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ch(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Ia(n){return Jr(n,"documentOverlays")}class Ku{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_r(e.integerValue));else if("doubleValue"in e){const r=_r(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),xu(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(hl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?aT(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):at()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Xe.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function BE(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UE(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=BE(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Ku.fe=new Ku;class jE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=UE(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=UE(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class wm{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class NT{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Rh{constructor(){this.De=new jE,this.Ce=new wm(this.De),this.xe=new NT(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Mc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Mc(this.indexId,this.documentKey,this.arrayValue,r)}}function Zu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=HE(n.arrayValue,e.arrayValue),0!==t?t:(t=HE(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function HE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class FT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=om(e);if(void 0!==t&&!this.Be(t))return!1;const r=gl(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class LT{constructor(){this.qe=new Cm}addToCollectionParentIndex(e,t){return this.qe.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getFieldIndex(e,t){return De.resolve(null)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}updateCollectionGroup(e,t,r){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class Cm{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new jn(gn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jn(gn.comparator)).toArray()}}const kh=new Uint8Array(0);class $E{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Cm,this.Ge=new Dc(r=>Ec(r),(r,i)=>Wf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:Qi(i)};return Yy(e).put(a)}return De.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[gy(t),""],!1,!0);return Yy(e).qt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(Da(d.parent))}return r})}addFieldIndex(e,t){const r=Qy(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Qy(e),i=Ph(e),a=Yu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Yu(e);let i=!0;const a=new Map;return De.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(f=>{i&&(i=!!f),a.set(d,f)})).next(()=>{if(i){let d=Mn();const f=[];return De.forEach(a,(_,w)=>{var I;Ge("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(dt=>`${dt.fieldPath}:${dt.kind}`).join(",")}`} to execute ${Ec(t)}`);const x=function(dt,ut){const Kt=om(ut);if(void 0===Kt)return null;for(const sn of ml(dt,Kt.fieldPath))switch(sn.op){case"array-contains-any":return sn.value.arrayValue.values||[];case"array-contains":return[sn.value]}return null}(w,_),V=function(dt,ut){const Kt=new Map;for(const sn of gl(ut))for(const xn of ml(dt,sn.fieldPath))switch(xn.op){case"==":case"in":Kt.set(sn.fieldPath.canonicalString(),xn.value);break;case"not-in":case"!=":return Kt.set(sn.fieldPath.canonicalString(),xn.value),Array.from(Kt.values())}return null}(w,_),Y=function(dt,ut){const Kt=[];let sn=!0;for(const xn of gl(ut)){const Xi=0===xn.kind?am(dt,xn.fieldPath,dt.startAt):Nu(dt,xn.fieldPath,dt.startAt);if(!Xi.value)return null;Kt.push(Xi.value),sn&&(sn=Xi.inclusive)}return new Cc(Kt,sn)}(w,_),J=function(dt,ut){const Kt=[];let sn=!0;for(const xn of gl(ut)){const Xi=0===xn.kind?Nu(dt,xn.fieldPath,dt.endAt):am(dt,xn.fieldPath,dt.endAt);if(!Xi.value)return null;Kt.push(Xi.value),sn&&(sn=Xi.inclusive)}return new Cc(Kt,sn)}(w,_),ge=this.je(_,w,Y),Ue=this.je(_,w,J),pt=this.We(_,w,V),mt=this.ze(_.indexId,x,ge,!!Y&&Y.inclusive,Ue,!!J&&J.inclusive,pt);return De.forEach(mt,dt=>r.Gt(dt,t.limit).next(ut=>{ut.forEach(Kt=>{const sn=Xe.fromSegments(Kt.documentKey);d.has(sn)||(d=d.add(sn),f.push(sn))})}))}).next(()=>f)}return De.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,a,d,f){const _=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),w=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const V=t?this.He(t[x/w]):kh,Y=r?this.Je(e,V,r[x%w],i):this.Ye(e),J=a?this.Xe(e,V,a[x%w],d):this.Ye(e+1);I.push(...this.createRange(Y,J,f.map(ge=>this.Je(e,V,ge,!0))))}return I}Je(e,t,r,i){const a=new Mc(e,Xe.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Mc(e,Xe.empty(),t,r);return i?a.ke():a}Ye(e){return new Mc(e,Xe.empty(),kh,kh)}getFieldIndex(e,t){const r=new FT(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const d=a.filter(f=>r.$e(f));return d.sort((f,_)=>_.fields.length-f.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new Rh;for(const i of gl(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.Ne(i.kind);Ku.fe.Zt(a,d)}return r.Se()}He(e){const t=new Rh;return Ku.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Rh;return Ku.fe.Zt(vc(this.databaseId,t),r.Ne(function(i){const a=gl(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new Rh);let a=0;for(const d of gl(e)){const f=r[a++];for(const _ of i)if(this.en(t,d.fieldPath)&&ku(f))i=this.nn(i,d,f);else{const w=_.Ne(d.kind);Ku.fe.Zt(f,w)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const f of i){const _=new Rh;_.seed(f.Se()),Ku.fe.Zt(d,_.Ne(t.kind)),a.push(_)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Mr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Qy(e),i=Ph(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const d=[];return De.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{d.push(function(w,I){const x=I?new Pu(I.sequenceNumber,new Ca(Wu(I.readTime),new Xe(Da(I.documentKey)),I.largestBatchId)):Pu.empty(),V=w.fields.map(([Y,J])=>new zf(Vn.fromServerFormat(Y),J));return new sm(w.indexId,w.collectionGroup,V,x)}(f,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Qy(e),a=Ph(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>De.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Oh((V=r).readTime),documentKey:Qi(V.documentKey.path),largestBatchId:V.largestBatchId});var V})))}updateIndexEntries(e,t){const r=new Map;return De.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?De.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),De.forEach(f,_=>this.on(e,i,_).next(w=>{const I=this.un(a,_);return w.isEqual(I)?De.resolve():this.an(e,a,_,w,I)}))))})}cn(e,t,r,i){return Yu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Yu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Yu(e);let a=new jn(Zu);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,f)=>{a=a.add(new Mc(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}un(e,t){let r=new jn(Zu);const i=this.Ze(t,e);if(null==i)return r;const a=om(t);if(null!=a){const d=e.data.field(a.fieldPath);if(ku(d))for(const f of d.arrayValue.values||[])r=r.add(new Mc(t.indexId,e.key,this.He(f),i))}else r=r.add(new Mc(t.indexId,e.key,kh,i));return r}an(e,t,r,i,a){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(f,_,w,I,x){const V=f.getIterator(),Y=_.getIterator();let J=vh(V),ge=vh(Y);for(;J||ge;){let Ue=!1,pt=!1;if(J&&ge){const mt=w(J,ge);mt<0?pt=!0:mt>0&&(Ue=!0)}else null!=J?pt=!0:Ue=!0;Ue?(I(ge),ge=vh(Y)):pt?(x(J),J=vh(V)):(J=vh(V),ge=vh(Y))}}(i,a,Zu,f=>{d.push(this.cn(e,t,r,f))},f=>{d.push(this.hn(e,t,r,f))}),De.waitFor(d)}rn(e){let t=1;return Ph(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,f)=>Zu(d,f)).filter((d,f,_)=>!f||0!==Zu(d,_[f-1]));const i=[];i.push(e);for(const d of r){const f=Zu(d,e),_=Zu(d,t);if(0===f)i[0]=e.ke();else if(f>0&&_<0)i.push(d),i.push(d.ke());else if(_>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,kh,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,kh,[]]));return a}}function Yy(n){return Jr(n,"collectionParents")}function Yu(n){return Jr(n,"indexEntries")}function Qy(n){return Jr(n,"indexConfiguration")}function Ph(n){return Jr(n,"indexState")}const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ps{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Nh(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let f=0;const _=r.Wt({range:d},(I,x,V)=>(f++,V.delete()));a.push(_.next(()=>{Vt(1===f)}));const w=[];for(const I of t.mutations){const x=AE(e,I.key.path,t.batchId);a.push(i.delete(x)),w.push(I.key)}return De.waitFor(a).next(()=>w)}function op(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class ap{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Vt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new ap(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).Wt({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Dl(e),d=xc(e);return d.add({}).next(f=>{Vt("number"==typeof f);const _=new bm(f,t,r,i),w=function(V,Y,J){const ge=J.baseMutations.map(pt=>Ch(V.Jt,pt)),Ue=J.mutations.map(pt=>Ch(V.Jt,pt));return{userId:Y,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:ge,mutations:Ue}}(this.M,this.userId,_),I=[];let x=new jn((V,Y)=>Jt(V.canonicalString(),Y.canonicalString()));for(const V of i){const Y=AE(this.userId,V.key.path,f);x=x.add(V.key.path.popLast()),I.push(d.put(w)),I.push(a.put(Y,rp))}return x.forEach(V=>{I.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),De.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return xc(e).get(t).next(r=>r?(Vt(r.userId===this.userId),Ac(this.M,r)):null)}fn(e,t){return this.ln[t]?De.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xc(e).Wt({index:"userMutationsIndex",range:i},(d,f,_)=>{f.userId===this.userId&&(Vt(f.batchId>=r),a=Ac(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xc(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Ac(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wl(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Dl(e).Wt({range:i},(d,f,_)=>{const[w,I,x]=d,V=Da(I);if(w===this.userId&&t.path.isEqual(V))return xc(e).get(x).next(Y=>{if(!Y)throw at();Vt(Y.userId===this.userId),a.push(Ac(this.M,Y))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Jt);const i=[];return t.forEach(a=>{const d=wl(this.userId,a.path),f=IDBKeyRange.lowerBound(d),_=Dl(e).Wt({range:f},(w,I,x)=>{const[V,Y,J]=w,ge=Da(Y);V===this.userId&&a.path.isEqual(ge)?r=r.add(J):x.done()});i.push(_)}),De.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=wl(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new jn(Jt);return Dl(e).Wt({range:d},(_,w,I)=>{const[x,V,Y]=_,J=Da(V);x===this.userId&&r.isPrefixOf(J)?J.length===i&&(f=f.add(Y)):I.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xc(e).get(a).next(d=>{if(null===d)throw at();Vt(d.userId===this.userId),r.push(Ac(this.M,d))}))}),De.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Nh(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),De.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return De.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Dl(e).Wt({range:r},(a,d,f)=>{if(a[0]===this.userId){const _=Da(a[1]);i.push(_)}else f.done()}).next(()=>{Vt(0===i.length)})})}containsKey(e,t){return Dm(e,this.userId,t)}wn(e){return lp(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dm(n,e,t){const r=wl(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Dl(n).Wt({range:a,jt:!0},(f,_,w)=>{const[I,x,V]=f;I===e&&x===i&&(d=!0),w.done()}).next(()=>d)}function xc(n){return Jr(n,"mutations")}function Dl(n){return Jr(n,"documentMutations")}function lp(n){return Jr(n,"mutationQueues")}class Tl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Tl(0)}static yn(){return new Tl(-1)}}class eM{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Tl(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Pt.fromTimestamp(new Sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Fh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Vt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Fh(e).Wt((d,f)=>{const _=qu(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>De.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Fh(e).Wt((r,i)=>{const a=qu(i);t(a)})}pn(e){return cp(e).get("targetGlobalKey").next(t=>(Vt(null!==t),t))}In(e,t){return cp(e).put("targetGlobalKey",t)}Tn(e,t){return Fh(e).put(FE(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ec(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Fh(e).Wt({range:i,index:"queryTargetsIndex"},(d,f,_)=>{const w=qu(f);Wf(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Go(e);return t.forEach(d=>{const f=Qi(d.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,d))}),De.waitFor(i)}removeMatchingKeys(e,t,r){const i=Go(e);return De.forEach(t,a=>{const d=Qi(a.path);return De.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Go(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Go(e);let a=Mn();return i.Wt({range:r,jt:!0},(d,f,_)=>{const w=Da(d[1]),I=new Xe(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=Qi(t.path),i=IDBKeyRange.bound([r],[gy(r)],!1,!0);let a=0;return Go(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,f],_,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}Et(e,t){return Fh(e).get(t).next(r=>r?qu(r):null)}}function Fh(n){return Jr(n,"targets")}function cp(n){return Jr(n,"targetGlobal")}function Go(n){return Jr(n,"targetDocuments")}function Oc(n){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,Ae.Z)(function*(n){if(n.code!==Ee.FAILED_PRECONDITION||n.message!==zu)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),Tm.apply(this,arguments)}function Im([n,e],[t,r]){const i=Jt(n,t);return 0===i?Jt(e,r):i}class zE{constructor(e){this.An=e,this.buffer=new jn(Im),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Im(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WE{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ae.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ic(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Oc(i)}yield t.Sn(e)}))}}class Jy{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return De.resolve(ps.A);const r=new zE(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(GE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,d,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,d=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),lh()<=ko.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-I}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class qE{constructor(e,t){this.db=e,this.garbageCollector=new Jy(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Sm(e,r)}removeReference(e,t,r){return Sm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Sm(e,t)}On(e,t){return function(r,i){let a=!1;return lp(r).zt(d=>Dm(r,d,i).next(f=>(f&&(a=!0),De.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(d,f)=>{if(f<=t){const _=this.On(e,d).next(w=>{if(!w)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Pt.min()),Go(e).delete([0,Qi(d.path)])))});i.push(_)}}).next(()=>De.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Sm(e,t)}Mn(e,t){const r=Go(e);let i,a=ps.A;return r.Wt({index:"documentTargetsIndex"},([d,f],{path:_,sequenceNumber:w})=>{0===d?(a!==ps.A&&t(new Xe(Da(i)),a),a=w,i=_):a=ps.A}).next(()=>{a!==ps.A&&t(new Xe(Da(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sm(n,e){return Go(n).put((r=n.currentSequenceNumber,{targetId:0,path:Qi(e.path),sequenceNumber:r}));var r}class Xy{constructor(){this.changes=new Dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?De.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KE{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Qu(e).put(r)}removeEntry(e,t,r){return Qu(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Em(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Un.newInvalidDocument(t);return Qu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Un.newInvalidDocument(t)};return Qu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Lh(t))},(i,a)=>{r={document:this.$n(t,a),size:op(a)}}).next(()=>r)}getEntries(e,t){let r=ks();return this.Ln(e,t,(i,a)=>{const d=this.$n(i,a);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=ks(),i=new jr(Xe.comparator);return this.Ln(e,t,(a,d)=>{const f=this.$n(a,d);r=r.insert(a,f),i=i.insert(a,op(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return De.resolve();let i=new jn(rv);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(Lh(i.first()),Lh(i.last())),d=i.getIterator();let f=d.getNext();return Qu(e).Wt({index:"documentKeyIndex",range:a},(_,w,I)=>{const x=Xe.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&rv(f,x)<0;)r(f,null),f=d.getNext();f&&f.isEqual(x)&&(r(f,w),f=d.hasNext()?d.getNext():null),f?I.Ut(Lh(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),Em(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qu(e).qt(IDBKeyRange.bound(i,a,!0)).next(d=>{let f=ks();for(const _ of d){const w=this.$n(Xe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=ks();const d=nv(t,r),f=nv(t,Ca.max());return Qu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,f,!0)},(_,w,I)=>{const x=this.$n(Xe.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new ev(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return tv(e).get("remoteDocumentGlobalKey").next(t=>(Vt(!!t),t))}Fn(e,t){return tv(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function PE(n,e){let t;if(e.document)t=_m(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=Wu(e.noDocument.readTime);t=Un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=Xe.fromSegments(e.unknownDocument.path),i=Wu(e.unknownDocument.version);t=Un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Sr(r[0],r[1]);return Pt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return Un.newInvalidDocument(e)}}class ev extends Xy{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Dc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new jn((a,d)=>Jt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,f.readTime)),d.isValidDocument()){const _=NE(this.Kn.M,d);i=i.add(a.path.popLast()),r+=op(_)-f.size,t.push(this.Kn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=NE(this.Kn.M,d.convertToNoDocument(Pt.min()));t.push(this.Kn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),De.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,d)=>{this.Gn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function tv(n){return Jr(n,"remoteDocumentGlobal")}function Qu(n){return Jr(n,"remoteDocumentsV14")}function Lh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nv(n,e){const t=e.documentKey.path.toArray();return[n,Em(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function rv(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Jt(t[a],r[a]),i)return i;return i=Jt(t.length,r.length),i||(i=Jt(t[t.length-2],r[r.length-2]),i||Jt(t[t.length-1],r[r.length-1]))}class iv{constructor(e){this.M=e}kt(e,t,r,i){const a=new sp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",np,{unique:!0}),f.createObjectStore("documentMutations"),sv(e),function(f){f.createObjectStore("remoteDocuments")}(e));let d=De.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),sv(e)),d=d.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,_){return _.store("mutations").qt().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",np,{unique:!0});const I=_.store("mutations"),x=w.map(V=>I.put(V));return De.waitFor(x)})}(e,a))),d=d.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(a))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:Th});_.createIndex("collectionPathOverlayIndex",Ih,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Sh,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:xT});_.createIndex("documentKeyIndex",OT),_.createIndex("collectionGroupIndex",$y)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:ym}).createIndex("sequenceNumberIndex",mo,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Gy}).createIndex("documentKeyIndex",Dh,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=op(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>De.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(f=>De.forEach(f,_=>{Vt(_.userId===a.userId);const w=Ac(this.M,_);return Nh(e,a.userId,w).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((d,f)=>{const _=new gn(d),w=[0,Qi(_)];a.push(t.get(w).next(I=>I?De.resolve():t.put({targetId:0,path:Qi(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>De.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Hu});const r=t.store("collectionParents"),i=new Cm,a=d=>{if(i.add(d)){const f=d.lastSegment(),_=d.popLast();return r.put({collectionId:f,parent:Qi(_)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,f)=>{const _=new gn(d);return a(_.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,f,_],w)=>{const I=Da(f);return a(I.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=qu(i),d=FE(this.M,a);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,d)=>{const f=t.store("remoteDocumentsV14"),_=(w=d,w.document?new Xe(gn.fromString(w.document.name).popFirst(5)):w.noDocument?Xe.fromSegments(w.noDocument.path):w.unknownDocument?Xe.fromSegments(w.unknownDocument.path):at()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(f.put(I))}).next(()=>De.waitFor(i))}}function sv(n){n.createObjectStore("targetDocuments",{keyPath:ip}).createIndex("documentTargetsIndex",Ri,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ta,{unique:!0}),n.createObjectStore("targetGlobal")}const Am="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mm{constructor(e,t,r,i,a,d,f,_,w,I,x=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=d,this.document=f,this.Xn=w,this.Zn=I,this.ts=x,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=V=>Promise.resolve(),!Mm.vt())throw new Fe(Ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qE(this,i),this.hs=t+"main",this.M=new kE(_),this.ls=new _o(this.hs,this.ts,new iv(this.M)),this.fs=new eM(this.referenceDelegate,this.M),this.ds=new KE(this.M),this._s=new kT,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===I&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Ee.FAILED_PRECONDITION,Am);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ps(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ae.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Ic(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Vh(e).get("owner").next(t=>De.resolve(this.bs(t)))}Vs(e){return up(e).delete(this.clientId)}vs(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Jr(r,"clientMetadata");return i.qt().next(a=>{const d=e.Ds(a,18e5),f=a.filter(_=>-1===d.indexOf(_));return De.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?De.resolve(!0):Vh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Fe(Ee.FAILED_PRECONDITION,Am);return!1}}return!(!this.networkEnabled||!this.inForeground)||up(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new RE(t,ps.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>up(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ap.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new $E(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Zy.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(d=this.ts)?Mh:13===d?Gu:12===d?Ah:11===d?$u:void at();var d;let f;return this.ls.runTransaction(e,i,a,_=>(f=new RE(_,this.es?this.es.next():ps.A),"readwrite-primary"===t?this.Es(f).next(w=>!!w||this.As(f)).next(w=>{if(!w)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Fe(Ee.FAILED_PRECONDITION,zu);return r(f)}).next(w=>this.Ps(f).next(()=>w)):this.$s(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(e){return Vh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(Ee.FAILED_PRECONDITION,Am)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vh(e).put("owner",t)}static vt(){return _o.vt()}Rs(e){const t=Vh(e);return t.get("owner").next(r=>this.bs(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):De.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ht.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vh(n){return Jr(n,"owner")}function up(n){return Jr(n,"clientMetadata")}function xm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ZE{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):J0(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Xe(t)).next(r=>{let i=pm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=pm();return this.indexManager.getCollectionParents(e,i).next(d=>De.forEach(d,f=>{const _=(w=t,I=f.child(i),new _l(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.zs(e,_,r).next(w=>{w.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const d of a)for(const f of d.mutations){const _=f.key;let w=i.get(_);null==w&&(w=Un.newInvalidDocument(_),i=i.insert(_,w)),Yf(f,w,d.localWriteTime),w.isFoundDocument()||(i=i.remove(_))}}).next(()=>(i.forEach((a,d)=>{My(t,d)||(i=i.remove(a))}),i))}}class Om{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Mn(),i=Mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Om(e,t.fromCache,r,i)}}class VT{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.ti(e,t):this.Zs.Ks(e,i).next(a=>{const d=this.ei(t,a);return(cm(t)||Oi(t))&&this.ni(t.limitType,d,i,r)?this.ti(e,t):(lh()<=ko.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dm(t)),this.Zs.Qs(e,t,K0(r,-1)).next(f=>(d.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ei(e,t){let r=new jn(eE(e));return t.forEach((i,a)=>{My(e,a)&&(r=r.add(a))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ti(e,t){return lh()<=ko.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",dm(t)),this.Zs.Qs(e,t,Ca.min())}}class BT{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new jr(Jt),this.ri=new Dc(a=>Ec(a),Wf),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new ZE(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function YE(n,e,t,r){return new BT(n,e,t,r)}function ov(n,e){return av.apply(this,arguments)}function av(){return av=(0,Ae.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.ai(e),t.Bs.getAllMutationBatches(r))).next(a=>{const d=[],f=[];let _=Mn();for(const w of i){d.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.ci.Ks(r,_).next(w=>({hi:w,removedBatchIds:d,addedBatchIds:f}))})})}),av.apply(this,arguments)}function Xr(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,f,_,w){const I=_.batch,x=I.keys();let V=De.resolve();return x.forEach(Y=>{V=V.next(()=>w.getEntry(f,Y)).next(J=>{const ge=_.docVersions.get(Y);Vt(null!==ge),J.version.compareTo(ge)<0&&(I.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),w.addEntry(J)))})}),V.next(()=>d.Bs.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function lv(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function UT(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((w,I)=>{const x=i.get(I);if(!x)return;f.push(t.fs.removeMatchingKeys(a,w.removedDocuments,I).next(()=>t.fs.addMatchingKeys(a,w.addedDocuments,I)));let V=x.withSequenceNumber(a.currentSequenceNumber);var Y,J,ge;e.targetMismatches.has(I)?V=V.withResumeToken(Ar.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,r)),i=i.insert(I,V),J=V,ge=w,(0===(Y=x).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(a,V))});let _=ks();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),f.push(QE(a,d,e.documentUpdates).next(w=>{_=w})),!r.isEqual(Pt.min())){const w=t.fs.getLastRemoteSnapshotVersion(a).next(I=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(w)}return De.waitFor(f).next(()=>d.apply(a)).next(()=>t.ci.Gs(a,_)).next(()=>_)}).then(a=>(t.ii=i,a))}function QE(n,e,t){let r=Mn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=ks();return t.forEach((d,f)=>{const _=i.get(d);f.isNoDocument()&&f.version.isEqual(Pt.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):Ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",f.version)}),a})}function JE(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Bh(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,De.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new Cl(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Ju(n,e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ae.Z)(function*(n,e,t){const r=tt(n),i=r.ii.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ic(d))throw d;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),Rm.apply(this,arguments)}function Il(n,e,t){const r=tt(n);let i=Pt.min(),a=Mn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,_,w){const I=tt(f),x=I.ri.get(w);return void 0!==x?De.resolve(I.ii.get(x)):I.fs.getTargetData(_,w)}(r,d,Rs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,f.targetId).next(_=>{a=_})}).next(()=>r.si.Qs(d,e,t?i:Pt.min(),t?a:Mn())).next(f=>(cv(r,X0(e),f),{documents:f,li:a})))}function XE(n,e){const t=tt(n),r=tt(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function ew(n,e){const t=tt(n),r=t.oi.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,K0(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(cv(t,e,i),i))}function cv(n,e,t){let r=Pt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.oi.set(e,r)}function km(){return km=(0,Ae.Z)(function*(n,e,t,r){const i=tt(n);let a=Mn(),d=ks();for(const w of t){const I=e.fi(w.metadata.name);w.document&&(a=a.add(I));const x=e.di(w);x.setReadTime(e._i(w.metadata.readTime)),d=d.insert(I,x)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),_=yield Bh(i,(w=r,Rs(ph(gn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>QE(w,f,d).next(I=>(f.apply(w),I)).next(I=>i.fs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.fs.addMatchingKeys(w,a,_.targetId)).next(()=>i.ci.Gs(w,I)).next(()=>I)))}),km.apply(this,arguments)}function tM(n,e){return dp.apply(this,arguments)}function dp(){return dp=(0,Ae.Z)(function*(n,e,t=Mn()){const r=yield Bh(n,Rs(LE(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=ci(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(a,e);const f=r.withResumeToken(Ar.EMPTY_BYTE_STRING,d);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(a,f).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),dp.apply(this,arguments)}class uv{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return De.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:LE(r.bundledQuery),readTime:ci(r.readTime)}),De.resolve();var r}}class Sa{constructor(){this.overlays=new jr(Xe.comparator),this.gi=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),De.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(r)),De.resolve()}getOverlaysForCollection(e,t,r){const i=Xf(),a=t.length+1,d=new Xe(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return De.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new jr((w,I)=>w-I);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=Xf(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=Xf(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return De.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qy(t,r));let a=this.gi.get(t);void 0===a&&(a=Mn(),this.gi.set(t,a)),this.gi.set(t,a.add(r.key))}}class dv{constructor(){this.yi=new jn(ui.pi),this.Ii=new jn(ui.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new ui(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new ui(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new Xe(new gn([])),r=new ui(t,e),i=new ui(t,e+1),a=[];return this.Ii.forEachInRange([r,i],d=>{this.Ai(d),a.push(d.key)}),a}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Xe(new gn([])),r=new ui(t,e),i=new ui(t,e+1);let a=Mn();return this.Ii.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new ui(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ui{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Xe.comparator(e.key,t.key)||Jt(e.vi,t.vi)}static Ti(e,t){return Jt(e.vi,t.vi)||Xe.comparator(e.key,t.key)}}class Aa{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new jn(ui.pi)}checkEmpty(e){return De.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.Si;this.Si++;const d=new bm(a,t,r,i);this.Bs.push(d);for(const f of i)this.Di=this.Di.add(new ui(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return De.resolve(d)}lookupMutationBatch(e,t){return De.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),a=i<0?0:i;return De.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return De.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ui(t,0),i=new ui(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],d=>{const f=this.Ci(d.vi);a.push(f)}),De.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jn(Jt);return t.forEach(i=>{const a=new ui(i,0),d=new ui(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,d],f=>{r=r.add(f.vi)})}),De.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const d=new ui(new Xe(a),0);let f=new jn(Jt);return this.Di.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.vi)),!0)},d),De.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Vt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return De.forEach(t.mutations,i=>{const a=new ui(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new ui(t,0),i=this.Di.firstAfterOrEqual(r);return De.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return De.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class zo{constructor(e){this.Mi=e,this.docs=new jr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return De.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=ks();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Un.newInvalidDocument(i))}),De.resolve(r)}getAllFromCollection(e,t,r){let i=ks();const a=new Xe(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:_}}=d.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||uT(bc(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return De.resolve(i)}getAllFromCollectionGroup(e,t,r,i){at()}Oi(e,t){return De.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wo(this)}getSize(e){return De.resolve(this.size)}}class Wo extends Xy{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),De.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class tw{constructor(e){this.persistence=e,this.Fi=new Dc(t=>Ec(t),Wf),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new dv,this.targetCount=0,this.Li=Tl.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),De.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Tn(t),De.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Fi.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(d),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),De.waitFor(a).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return De.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),De.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),De.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),De.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return De.resolve(r)}containsKey(e,t){return De.resolve(this.Bi.containsKey(t))}}class nw{constructor(e,t){this.Ui={},this.overlays={},this.es=new ps(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new tw(this),this.indexManager=new LT,this.ds=new zo(r=>this.referenceDelegate.qi(r)),this.M=new kE(t),this._s=new uv(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sa,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new Aa(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new HT(this.es.next());return this.referenceDelegate.Ki(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Qi(e,t){return De.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class HT extends zy{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.ji=new dv,this.Wi=null}static zi(e){return new hv(e)}get Hi(){if(this.Wi)return this.Wi;throw at()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),De.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),De.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Hi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Hi,r=>{const i=Xe.fromPath(r);return this.Ji(e,i).next(a=>{a||t.removeEntry(i,Pt.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return De.or([()=>De.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function rw(n,e){return`firestore_clients_${n}_${e}`}function iw(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function hp(n,e){return`firestore_targets_${n}_${e}`}class Rc{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Fe(i.error.code,i.error.message))),d?new Rc(e,t,i.state,a):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Fe(r.error.code,r.error.message))),a?new fp(e,r.state,i):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bl();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=nm(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new pp(e,a):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class fv{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new fv(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Pm{constructor(){this.activeTargetIds=bl()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nm{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new jr(Jt),this.started=!1,this.rr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=rw(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Pm),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const a=e.getItem(rw(e.persistenceKey,i));if(a){const d=pp.Yi(i,a);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(hp(this.persistenceKey,e));if(r){const i=fp.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hp(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(a){let d=ps.A;if(null!=a)try{const f=JSON.parse(a);Vt("number"==typeof f),d=f}catch(f){Er("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==ps.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.kr(a)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new Rc(this.currentUser,e,t,r),a=iw(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Xi())}Ir(e){const t=iw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=hp(this.persistenceKey,e),a=new fp(e,t,r);this.setItem(i,a.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return pp.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Rc.Yi(new ai(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return fp.Yi(i,t)}mr(e){return fv.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),d=[],f=[];return a.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(d,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=bl();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class gp{constructor(){this.$r=new Pm,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Pm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $T{Lr(e){}shutdown(){}}class pv{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const sw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class gv{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Fm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,a){const d=this.uo(e,t);Ge("RestConnection","Sending: ",d,r);const f={};return this.ao(f,i,a),this.co(e,d,f,r).then(_=>(Ge("RestConnection","Received: ",_),_),_=>{throw ch("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}ho(e,t,r,i,a){return this.oo(e,t,r,i,a)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}uo(e,t){return`${this.io}/v1/${t}:${sw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,d)=>{const f=new L0;f.listenOnce(P0.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case cl.NO_ERROR:const w=f.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(w)),a(w);break;case cl.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),d(new Fe(Ee.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:const I=f.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const V=function(Y){const J=Y.toLowerCase().replace(/_/g,"-");return Object.values(Ee).indexOf(J)>=0?J:Ee.UNKNOWN}(x.status);d(new Fe(V,x.message))}else d(new Fe(Ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Fe(Ee.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=R0(),d=k0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Yg({})),this.ao(f.initMessageHeaders,t,r),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Ge("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,x=!1;const V=new gv({Wr:J=>{x?Ge("Connection","Not sending because WebChannel is closed:",J):(I||(Ge("Connection","Opening WebChannel transport."),w.open(),I=!0),Ge("Connection","WebChannel sending:",J),w.send(J))},zr:()=>w.close()}),Y=(J,ge,Ue)=>{J.listen(ge,pt=>{try{Ue(pt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return Y(w,Qg.EventType.OPEN,()=>{x||Ge("Connection","WebChannel transport opened.")}),Y(w,Qg.EventType.CLOSE,()=>{x||(x=!0,Ge("Connection","WebChannel transport closed"),V.no())}),Y(w,Qg.EventType.ERROR,J=>{x||(x=!0,ch("Connection","WebChannel transport errored:",J),V.no(new Fe(Ee.UNAVAILABLE,"The operation could not be completed")))}),Y(w,Qg.EventType.MESSAGE,J=>{var ge;if(!x){const Ue=J.data[0];Vt(!!Ue);const pt=Ue,mt=pt.error||(null===(ge=pt[0])||void 0===ge?void 0:ge.error);if(mt){Ge("Connection","WebChannel received error:",mt);const dt=mt.status;let ut=function(sn){const xn=xr[sn];if(void 0!==xn)return fE(xn)}(dt),Kt=mt.message;void 0===ut&&(ut=Ee.INTERNAL,Kt="Unknown error status: "+dt+" with message "+mt.message),x=!0,V.no(new Fe(ut,Kt)),w.close()}else Ge("Connection","WebChannel received:",Ue),V.so(Ue)}}),Y(d,N0.STAT_EVENT,J=>{J.stat===F0.PROXY?Ge("Connection","Detected buffering proxy"):J.stat===F0.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.eo()},0),V}}function mv(){return"undefined"!=typeof window?window:null}function mp(){return"undefined"!=typeof document?document:null}function Uh(n){return new bE(n,!0)}class Lm{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class _v{constructor(e,t,r,i,a,d,f,_){this.Yn=e,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Lm(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ae.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ae.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===Ee.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===Ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Fe(Ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,Ae.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ow extends _v{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=a}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function CE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),i=e.targetChange.targetIds||[],a=function(_,w){return _.N?(Vt(void 0===w||"string"==typeof w),Ar.fromBase64String(w||"")):(Vt(void 0===w||w instanceof Uint8Array),Ar.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(_){const w=void 0===_.code?Ee.UNKNOWN:fE(_.code);return new Fe(w,_.message||"")}(d);t=new mE(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=El(n,r.document.name),a=ci(r.document.updateTime),d=new Zi({mapValue:{fields:r.document.fields}}),f=Un.newFoundDocument(i,a,d);t=new gm(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=El(n,r.document),a=r.readTime?ci(r.readTime):Pt.min(),d=Un.newNoDocument(i,a);t=new gm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=El(n,r.document);t=new gm([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return at();{const r=e.filter,a=new hE(r.count||0);t=new Uu(r.targetId,a)}}var _;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Pt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?ci(a.readTime):Pt.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=tp(this.M),t.addTarget=function(i,a){let d;const f=a.target;return d=wc(f)?{documents:DT(i,f)}:{query:TT(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=Vy(i,a.resumeToken):a.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=Eh(i,a.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function TE(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=tp(this.M),t.removeTarget=e,this.Fo(t)}}class aw extends _v{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function $o(n,e){return n&&n.length>0?(Vt(void 0!==e),n.map(t=>function(r,i){let a=ci(r.updateTime?r.updateTime:i);return a.isEqual(Pt.min())&&(a=ci(i)),new gT(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.Yo(r,t)}return Vt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=tp(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ch(this.M,r))};this.Fo(t)}}class lw extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.oo(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(Ee.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ho(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(Ee.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class cw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Er(t),this.iu=!1):Ge("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class GT{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{r.enqueueAndForget((0,Ae.Z)(function*(){var _;kc(d)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ae.Z)(function*(w){const I=tt(w);I.fu.add(4),yield jh(I),I.wu.set("Unknown"),I.fu.delete(4),yield _p(I)}),function(w){return _.apply(this,arguments)})(d))}))}),this.wu=new cw(r,i)}}function _p(n){return yv.apply(this,arguments)}function yv(){return yv=(0,Ae.Z)(function*(n){if(kc(n))for(const e of n.du)yield e(!0)}),yv.apply(this,arguments)}function jh(n){return vv.apply(this,arguments)}function vv(){return vv=(0,Ae.Z)(function*(n){for(const e of n.du)yield e(!1)}),vv.apply(this,arguments)}function Vm(n,e){const t=tt(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),wv(t)?Ev(t):Hh(t).xo()&&bv(t,e))}function yp(n,e){const t=tt(n),r=Hh(t);t.lu.delete(e),r.xo()&&uw(t,e),0===t.lu.size&&(r.xo()?r.Mo():kc(t)&&t.wu.set("Unknown"))}function bv(n,e){n.mu.Z(e.targetId),Hh(n).jo(e)}function uw(n,e){n.mu.Z(e),Hh(n).Wo(e)}function Ev(n){n.mu=new vT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Hh(n).start(),n.wu.ru()}function wv(n){return kc(n)&&!Hh(n).Co()&&n.lu.size>0}function kc(n){return 0===tt(n).fu.size}function dw(n){n.mu=void 0}function zT(n){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,Ae.Z)(function*(n){n.lu.forEach((e,t)=>{bv(n,e)})}),Cv.apply(this,arguments)}function WT(n,e){return Dv.apply(this,arguments)}function Dv(){return Dv=(0,Ae.Z)(function*(n,e){dw(n),wv(n)?(n.wu.au(e),Ev(n)):n.wu.set("Unknown")}),Dv.apply(this,arguments)}function hw(n,e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Ae.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof mE&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vp(n,r)}else if(e instanceof gm?n.mu.ut(e):e instanceof Uu?n.mu._t(e):n.mu.ht(e),!t.isEqual(Pt.min()))try{const r=yield lv(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.mu.yt(a);return d.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.lu.get(_);w&&i.lu.set(_,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const _=i.lu.get(f);if(!_)return;i.lu.set(f,_.withResumeToken(Ar.EMPTY_BYTE_STRING,_.snapshotVersion)),uw(i,f);const w=new Cl(_.target,f,1,_.sequenceNumber);bv(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield vp(n,r)}var r}),Bm.apply(this,arguments)}function vp(n,e,t){return Um.apply(this,arguments)}function Um(){return Um=(0,Ae.Z)(function*(n,e,t){if(!Ic(e))throw e;n.fu.add(1),yield jh(n),n.wu.set("Offline"),t||(t=()=>lv(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield _p(n)}))}),Um.apply(this,arguments)}function Tv(n,e){return e().catch(t=>vp(n,t,e))}function Xu(n){return jm.apply(this,arguments)}function jm(){return jm=(0,Ae.Z)(function*(n){const e=tt(n),t=Nc(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;fw(e);)try{const i=yield JE(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,pw(e,i)}catch(i){yield vp(e,i)}Hm(e)&&Iv(e)}),jm.apply(this,arguments)}function fw(n){return kc(n)&&n.hu.length<10}function pw(n,e){n.hu.push(e);const t=Nc(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Hm(n){return kc(n)&&!Nc(n).Co()&&n.hu.length>0}function Iv(n){Nc(n).start()}function ed(n){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,Ae.Z)(function*(n){Nc(n).Zo()}),Sv.apply(this,arguments)}function qT(n){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,Ae.Z)(function*(n){const e=Nc(n);for(const t of n.hu)e.Jo(t.mutations)}),Pc.apply(this,arguments)}function nM(n,e,t){return bp.apply(this,arguments)}function bp(){return bp=(0,Ae.Z)(function*(n,e,t){const r=n.hu.shift(),i=Wy.from(r,e,t);yield Tv(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Xu(n)}),bp.apply(this,arguments)}function rM(n,e){return $m.apply(this,arguments)}function $m(){return $m=(0,Ae.Z)(function*(n,e){var t;e&&Nc(n).Ho&&(yield(t=(0,Ae.Z)(function*(r,i){if(Jf(a=i.code)&&a!==Ee.ABORTED){const d=r.hu.shift();Nc(r).ko(),yield Tv(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Xu(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),Hm(n)&&Iv(n)}),$m.apply(this,arguments)}function Av(n,e){return gw.apply(this,arguments)}function gw(){return gw=(0,Ae.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=kc(t);t.fu.add(3),yield jh(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield _p(t)}),gw.apply(this,arguments)}function Tt(n,e){return Mv.apply(this,arguments)}function Mv(){return Mv=(0,Ae.Z)(function*(n,e){const t=tt(n);e?(t.fu.delete(2),yield _p(t)):e||(t.fu.add(2),yield jh(t),t.wu.set("Unknown"))}),Mv.apply(this,arguments)}function Hh(n){return n.gu||(n.gu=function(e,t,r){const i=tt(e);return i.eu(),new ow(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:zT.bind(null,n),Yr:WT.bind(null,n),Qo:hw.bind(null,n)}),n.du.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.gu.ko(),wv(n)?Ev(n):n.wu.set("Unknown")):(yield n.gu.stop(),dw(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function Nc(n){return n.yu||(n.yu=function(e,t,r){const i=tt(e);return i.eu(),new aw(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:ed.bind(null,n),Yr:rM.bind(null,n),Xo:qT.bind(null,n),Yo:nM.bind(null,n)}),n.du.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.yu.ko(),yield Xu(n)):(yield n.yu.stop(),n.hu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class $h{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,f=new $h(e,t,d,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(n,e){if(Er("AsyncQueue",`${e}: ${n}`),Ic(n))return new Fe(Ee.UNAVAILABLE,`${e}: ${n}`);throw n}class Sl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=pm(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new Sl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ep{constructor(){this.pu=new jr(Xe.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):at():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Hn{constructor(e,t,r,i,a,d,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new Hn(e,t,Sl.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class iM{constructor(){this.Tu=void 0,this.listeners=[]}}class mw{constructor(){this.queries=new Dc(e=>um(e),Kf),this.onlineState="Unknown",this.Eu=new Set}}function xv(n,e){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,Ae.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new iM),i)try{a.Tu=yield t.onListen(r)}catch(d){const f=Gh(d,`Initialization of query '${dm(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Au(t.onlineState),a.Tu&&e.Ru(a.Tu)&&Rv(t)}),Ov.apply(this,arguments)}function Gm(n,e){return zm.apply(this,arguments)}function zm(){return zm=(0,Ae.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),zm.apply(this,arguments)}function _w(n,e){const t=tt(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.Ru(i)&&(r=!0);d.Tu=i}}r&&Rv(t)}function yw(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Rv(n){n.Eu.forEach(e=>{e.next()})}class kv{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Hn(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=Hn.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class KT{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class zh{constructor(e){this.M=e}fi(e){return El(this.M,e)}di(e){return e.metadata.exists?_m(this.M,e.document,!1):Un.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return ci(e)}}class ZT{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vw(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=gn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new zh(this.M);for(const i of e)if(i.metadata.queries){const a=r.fi(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||Mn()).add(a);t.set(d,f)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function jT(n,e,t,r){return km.apply(this,arguments)}(e.localStore,new zh(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield tM(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function vw(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bw{constructor(e){this.key=e}}class wp{constructor(e){this.key=e}}class Pv{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Mn(),this.mutatedKeys=Mn(),this.Uu=eE(e),this.qu=new Sl(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new Ep,i=t?t.qu:this.qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const _=cm(this.query)&&i.size===this.query.limit?i.last():null,w=Oi(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,x)=>{const V=i.get(I),Y=My(this.query,x)?x:null,J=!!V&&this.mutatedKeys.has(V.key),ge=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Ue=!1;V&&Y?V.data.isEqual(Y.data)?J!==ge&&(r.track({type:3,doc:Y}),Ue=!0):this.ju(V,Y)||(r.track({type:2,doc:Y}),Ue=!0,(_&&this.Uu(Y,_)>0||w&&this.Uu(Y,w)<0)&&(f=!0)):!V&&Y?(r.track({type:0,doc:Y}),Ue=!0):V&&!Y&&(r.track({type:1,doc:V}),Ue=!0,(_||w)&&(f=!0)),Ue&&(Y?(d=d.add(Y),a=ge?a.add(I):a.delete(I)):(d=d.delete(I),a=a.delete(I)))}),cm(this.query)||Oi(this.query))for(;d.size>this.query.limit;){const I=cm(this.query)?d.last():d.first();d=d.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{qu:d,Qu:r,ni:f,mutatedKeys:a}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const a=e.Qu.Iu();a.sort((w,I)=>function(x,V){const Y=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return Y(x)-Y(V)}(w.type,I.type)||this.Uu(w.doc,I.doc)),this.Wu(r);const d=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==a.length||_?{snapshot:new Hn(this.query,e.qu,i,a,e.mutatedKeys,0===f,_,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Ep,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Mn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new wp(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new bw(r))}),t}Yu(e){this.$u=e.li,this.Lu=Mn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return Hn.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Ew{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ww{constructor(e){this.key=e,this.Zu=!1}}class YT{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new Dc(f=>um(f),Kf),this.na=new Map,this.sa=new Set,this.ia=new jr(Xe.comparator),this.ra=new Map,this.oa=new dv,this.ua={},this.aa=new Map,this.ca=Tl.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Cp(n,e){return td.apply(this,arguments)}function td(){return td=(0,Ae.Z)(function*(n,e){const t=r_(n);let r,i;const a=t.ea.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Xu();else{const d=yield Bh(t.localStore,Rs(e));t.isPrimaryClient&&Vm(t.remoteStore,d);const f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield Nv(t,e,r,"current"===f)}return i}),td.apply(this,arguments)}function Nv(n,e,t,r){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,Ae.Z)(function*(n,e,t,r){n.la=(I,x,V)=>{return(Y=(0,Ae.Z)(function*(J,ge,Ue,pt){let mt=ge.view.Gu(Ue);mt.ni&&(mt=yield Il(J.localStore,ge.query,!1).then(({documents:Kt})=>ge.view.Gu(Kt,mt)));const dt=pt&&pt.targetChanges.get(ge.targetId),ut=ge.view.applyChanges(mt,J.isPrimaryClient,dt);return Bv(J,ge.targetId,ut.Hu),ut.snapshot}),function(J,ge,Ue,pt){return Y.apply(this,arguments)})(n,I,x,V);var Y};const i=yield Il(n.localStore,e,!0),a=new Pv(e,i.li),d=a.Gu(i.documents),f=ep.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,f);Bv(n,t,_.Hu);const w=new Ew(e,t,a);return n.ea.set(e,w),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),_.snapshot}),Fv.apply(this,arguments)}function QT(n,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Ae.Z)(function*(n,e){const t=tt(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(a=>!Kf(a,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ju(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),yp(t.remoteStore,r.targetId),Ma(t,r.targetId)}).catch(Oc))):(Ma(t,r.targetId),yield Ju(t.localStore,r.targetId,!0))}),Wm.apply(this,arguments)}function qm(){return qm=(0,Ae.Z)(function*(n,e,t){const r=Wv(n);try{const i=yield function(a,d){const f=tt(a),_=Sr.now(),w=d.reduce((x,V)=>x.add(V.key),Mn());let I;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>f.ci.Ks(x,w).next(V=>{I=V;const Y=[];for(const J of d){const ge=Ry(J,I.get(J.key));null!=ge&&Y.push(new vl(J.key,ge,pl(ge.value.mapValue),Ur.exists(!0)))}return f.Bs.addMutationBatch(x,_,Y,d)})).then(x=>(x.applyToLocalDocumentSet(I),{batchId:x.batchId,changes:I}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let _=a.ua[a.currentUser.toKey()];_||(_=new jr(Jt)),_=_.insert(d,f),a.ua[a.currentUser.toKey()]=_}(r,i.batchId,t),yield Al(r,i.changes),yield Xu(r.remoteStore)}catch(i){const a=Gh(i,"Failed to persist write");t.reject(a)}}),qm.apply(this,arguments)}function Dw(n,e){return Km.apply(this,arguments)}function Km(){return Km=(0,Ae.Z)(function*(n,e){const t=tt(n);try{const r=yield UT(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.ra.get(a);d&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.Zu=!0:i.modifiedDocuments.size>0?Vt(d.Zu):i.removedDocuments.size>0&&(Vt(d.Zu),d.Zu=!1))}),yield Al(t,r,e)}catch(r){yield Oc(r)}}),Km.apply(this,arguments)}function Tw(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((a,d)=>{const f=d.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=tt(a);f.onlineState=d;let _=!1;f.queries.forEach((w,I)=>{for(const x of I.listeners)x.Au(d)&&(_=!0)}),_&&Rv(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function JT(n,e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,Ae.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),a=i&&i.key;if(a){let d=new jr(Xe.comparator);d=d.insert(a,Un.newNoDocument(a,Pt.min()));const f=Mn().add(a),_=new bh(Pt.min(),new Map,new jn(Jt),d,f);yield Dw(r,_),r.ia=r.ia.remove(a),r.ra.delete(e),Uv(r)}else yield Ju(r.localStore,e,!1).then(()=>Ma(r,e,t)).catch(Oc)}),Iw.apply(this,arguments)}function sM(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,Ae.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield Xr(t.localStore,e);Qm(t,r,null),Vv(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Al(t,i)}catch(i){yield Oc(i)}}),Sw.apply(this,arguments)}function oM(n,e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Ae.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,d){const f=tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.Bs.lookupMutationBatch(_,d).next(I=>(Vt(null!==I),w=I.keys(),f.Bs.removeMutationBatch(_,I))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,w))})}(r.localStore,e);Qm(r,e,t),Vv(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Al(r,i)}catch(i){yield Oc(i)}}),Zm.apply(this,arguments)}function Lv(){return Lv=(0,Ae.Z)(function*(n,e){const t=tt(n);kc(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=tt(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Gh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Lv.apply(this,arguments)}function Vv(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function Qm(n,e,t){const r=tt(n);let i=r.ua[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function Ma(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||Aw(n,r)})}function Aw(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(yp(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),Uv(n))}function Bv(n,e,t){for(const r of t)r instanceof bw?(n.oa.addReference(r.key,e),XT(n,r)):r instanceof wp?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||Aw(n,r.key)):at()}function XT(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.sa.add(r),Uv(n))}function Uv(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new Xe(gn.fromString(e)),r=n.ca.next();n.ra.set(r,new ww(t)),n.ia=n.ia.insert(t,r),Vm(n.remoteStore,new Cl(Rs(ph(t.path)),r,2,ps.A))}}function Al(n,e,t){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Ae.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],d=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,_)=>{d.push(r.la(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=Om.Ys(_.targetId,w);a.push(I)}}))}),yield Promise.all(d),r.ta.Qo(i),yield(f=(0,Ae.Z)(function*(_,w){const I=tt(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>De.forEach(w,V=>De.forEach(V.Hs,Y=>I.persistence.referenceDelegate.addReference(x,V.targetId,Y)).next(()=>De.forEach(V.Js,Y=>I.persistence.referenceDelegate.removeReference(x,V.targetId,Y)))))}catch(x){if(!Ic(x))throw x;Ge("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const V=x.targetId;if(!x.fromCache){const Y=I.ii.get(V),ge=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);I.ii=I.ii.insert(V,ge)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),Jm.apply(this,arguments)}function eI(n,e){return jv.apply(this,arguments)}function jv(){return jv=(0,Ae.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield ov(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(d=>{d.forEach(f=>{f.reject(new Fe(Ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Al(t,r.hi)}var i}),jv.apply(this,arguments)}function Wh(n,e){const t=tt(n),r=t.ra.get(e);if(r&&r.Zu)return Mn().add(r.key);{let i=Mn();const a=t.na.get(e);if(!a)return i;for(const d of a){const f=t.ea.get(d);i=i.unionWith(f.view.Ku)}return i}}function tI(n,e){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,Ae.Z)(function*(n,e){const t=tt(n),r=yield Il(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&Bv(t,e.targetId,i.Hu),i}),Xm.apply(this,arguments)}function nI(n,e){return e_.apply(this,arguments)}function e_(){return e_=(0,Ae.Z)(function*(n,e){const t=tt(n);return ew(t.localStore,e).then(r=>Al(t,r))}),e_.apply(this,arguments)}function rI(n,e,t,r){return t_.apply(this,arguments)}function t_(){return t_=(0,Ae.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(d,f){const _=tt(d),w=tt(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.fn(I,f).next(x=>x?_.ci.Ks(I,x):De.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Xu(i.remoteStore):"acknowledged"===t||"rejected"===t?(Qm(i,e,r||null),Vv(i,e),f=e,tt(tt(i.localStore).Bs)._n(f)):at(),yield Al(i,a)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),t_.apply(this,arguments)}function Dp(){return Dp=(0,Ae.Z)(function*(n,e){const t=tt(n);if(r_(t),Wv(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Mw(t,r.toArray());t.ha=!0,yield Tt(t.remoteStore,!0);for(const a of i)Vm(t.remoteStore,a)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Ma(t,d),Ju(t.localStore,d,!0))),yp(t.remoteStore,d)}),yield i,yield Mw(t,r),function(a){const d=tt(a);d.ra.forEach((f,_)=>{yp(d.remoteStore,_)}),d.oa.bi(),d.ra=new Map,d.ia=new jr(Xe.comparator)}(t),t.ha=!1,yield Tt(t.remoteStore,!1)}}),Dp.apply(this,arguments)}function Mw(n,e,t){return n_.apply(this,arguments)}function n_(){return n_=(0,Ae.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const d of e){let f;const _=r.na.get(d);if(_&&0!==_.length){f=yield Bh(r.localStore,Rs(_[0]));for(const w of _){const I=r.ea.get(w),x=yield tI(r,I);x.snapshot&&a.push(x.snapshot)}}else{const w=yield XE(r.localStore,d);f=yield Bh(r.localStore,w),yield Nv(r,Hv(w),d,!1)}i.push(f)}return r.ta.Qo(a),i}),n_.apply(this,arguments)}function Hv(n){return Iy(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sI(n){const e=tt(n);return tt(tt(e.localStore).persistence).Fs()}function oI(n,e,t,r){return $v.apply(this,arguments)}function $v(){return $v=(0,Ae.Z)(function*(n,e,t,r){const i=tt(n);if(i.ha)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const a=i.na.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield ew(i.localStore,X0(a[0])),f=bh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Al(i,d,f);break}case"rejected":yield Ju(i.localStore,e,!0),Ma(i,e,r);break;default:at()}}),$v.apply(this,arguments)}function Gv(n,e,t){return zv.apply(this,arguments)}function zv(){return zv=(0,Ae.Z)(function*(n,e,t){const r=r_(n);if(r.ha){for(const i of e){if(r.na.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const a=yield XE(r.localStore,i),d=yield Bh(r.localStore,a);yield Nv(r,Hv(a),d.targetId,!1),Vm(r.remoteStore,d)}for(const i of t)r.na.has(i)&&(yield Ju(r.localStore,i,!1).then(()=>{yp(r.remoteStore,i),Ma(r,i)}).catch(Oc))}}),zv.apply(this,arguments)}function r_(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JT.bind(null,e),e.ta.Qo=_w.bind(null,e.eventManager),e.ta.fa=yw.bind(null,e.eventManager),e}function Wv(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class xw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.M=Uh(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return YE(this.persistence,new VT,e.initialUser,this.M)}wa(e){return new nw(hv.zi,this.M)}_a(e){return new gp}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ow extends xw{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield Wv(r.ya.syncEngine),yield Xu(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return YE(this.persistence,new VT,e.initialUser,this.M)}ma(e){return new WE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new Mm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mv(),mp(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new gp}}class lI extends Ow{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof Nm&&(r.sharedClientState.syncEngine={Mr:rI.bind(null,i),Or:oI.bind(null,i),Fr:Gv.bind(null,i),Fs:sI.bind(null,i),kr:nI.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,Ae.Z)(function*(d){yield function iI(n,e){return Dp.apply(this,arguments)}(r.ya.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}_a(e){const t=mv();if(!Nm.vt(t))throw new Fe(Ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qv{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Tw(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,r.syncEngine),yield Tt(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mw}createDatastore(e){const t=Uh(e.databaseInfo.databaseId),r=new Fm(e.databaseInfo);return new lw(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>Tw(this.syncEngine,f,0),d=pv.vt()?new pv:new $T,new GT(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,f,_,w){const I=new YT(r,i,a,d,f,_);return w&&(I.ha=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=tt(t);Ge("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield jh(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rw(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class i_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class kw{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Br,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new KT(JSON.parse(a),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ae.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Pw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(Ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ae.Z)(function*(a,d){const f=tt(a),_=tp(f.M)+"/documents",w={documents:d.map(Y=>wh(f.M,Y))},I=yield f.ho("BatchGetDocuments",_,w),x=new Map;I.forEach(Y=>{const J=function CT(n,e){return"found"in e?function(t,r){Vt(!!r.found);const i=El(t,r.found.name),a=ci(r.found.updateTime),d=new Zi({mapValue:{fields:r.found.fields}});return Un.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){Vt(!!r.missing),Vt(!!r.readTime);const i=El(t,r.missing),a=ci(r.readTime);return Un.newNoDocument(i,a)}(n,e):at()}(f.M,Y);x.set(J.key.toString(),J)});const V=[];return d.forEach(Y=>{const J=x.get(Y.toString());Vt(!!J),V.push(J)}),V}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Xe.fromPath(i);e.mutations.push(new fm(a,e.precondition(a)))}),yield(r=(0,Ae.Z)(function*(i,a){const d=tt(i),f=tp(d.M)+"/documents",_={writes:a.map(w=>Ch(d.M,w))};yield d.oo("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(Ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ur.updateTime(t):Ur.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Fe(Ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ur.updateTime(t)}return Ur.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cI{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Lm(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ae.Z)(function*(){const t=new Pw(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.xa(a)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!fl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Jf(t)}return!1}}class uI{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ai.UNAUTHENTICATED,this.clientId=H0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ae.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ge("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Gh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Kv(n,e){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(a){r.isEqual(a)||(yield ov(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Zv.apply(this,arguments)}function Nw(n,e){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Tp(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Av(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Av(e.remoteStore,a)),n.onlineComponents=e}),Yv.apply(this,arguments)}function Tp(n){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,Ae.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield Kv(n,new xw)),n.offlineComponents}),Ip.apply(this,arguments)}function Sp(n){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,Ae.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield Nw(n,new qv)),n.onlineComponents}),Ap.apply(this,arguments)}function Fw(n){return Tp(n).then(e=>e.persistence)}function Qv(n){return Tp(n).then(e=>e.localStore)}function s_(n){return Sp(n).then(e=>e.remoteStore)}function Jv(n){return Sp(n).then(e=>e.syncEngine)}function nd(n){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,Ae.Z)(function*(n){const e=yield Sp(n),t=e.eventManager;return t.onListen=Cp.bind(null,e.syncEngine),t.onUnlisten=QT.bind(null,e.syncEngine),t}),Xv.apply(this,arguments)}function hI(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,a,d,f,_){const w=new i_({next:x=>{a.enqueueAndForget(()=>Gm(i,I));const V=x.docs.has(d);!V&&x.fromCache?_.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&f&&"server"===f.source?_.reject(new Fe(Ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new kv(ph(d.path),w,{includeMetadataChanges:!0,Cu:!0});return xv(i,I)}(yield nd(n),n.asyncQueue,e,t,r)})),r.promise}function Mp(n,e,t={}){const r=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,a,d,f,_){const w=new i_({next:x=>{a.enqueueAndForget(()=>Gm(i,I)),x.fromCache&&"server"===f.source?_.reject(new Fe(Ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new kv(d,w,{includeMetadataChanges:!0,Cu:!0});return xv(i,I)}(yield nd(n),n.asyncQueue,e,t,r)})),r.promise}const mI=new Map;function o_(n,e,t){if(!t)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Bw(n,e,t,r){if(!0===e&&!0===r)throw new Fe(Ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uw(n){if(!Xe.isDocumentKey(n))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jw(n){if(Xe.isDocumentKey(n))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function a_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(Ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=a_(n);throw new Fe(Ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function eb(n,e){if(e<=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class l_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(Ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(Ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,e instanceof po?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Fe(Ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(i.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new KA;switch(t.type){case"gapi":const r=t.client;return Vt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new nT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(Ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mI.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),mI.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class Ti{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ti(this.firestore,e,this._query)}}class qo extends Ti{constructor(e,t,r){super(e,t,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Xe(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function Hw(n,e,...t){if(n=(0,Ht.m9)(n),o_("collection","path",e),n instanceof Fc){const r=gn.fromString(e,...t);return jw(r),new qo(n,null,r)}{if(!(n instanceof rr||n instanceof qo))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return jw(r),new qo(n.firestore,null,r)}}function xa(n,e,...t){if(n=(0,Ht.m9)(n),1===arguments.length&&(e=H0.R()),o_("doc","path",e),n instanceof Fc){const r=gn.fromString(e,...t);return Uw(r),new rr(n,null,new Xe(r))}{if(!(n instanceof rr||n instanceof qo))throw new Fe(Ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return Uw(r),new rr(n.firestore,n instanceof qo?n.converter:null,new Xe(r))}}function $w(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),(n instanceof rr||n instanceof qo)&&(e instanceof rr||e instanceof qo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yI(n,e){return n=(0,Ht.m9)(n),e=(0,Ht.m9)(e),n instanceof Ti&&e instanceof Ti&&n.firestore===e.firestore&&Kf(n._query,e._query)&&n.converter===e.converter}class vI{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Lm(this,"async_queue_retry"),this.qa=()=>{const t=mp();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=mp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=mp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Br;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Ic(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Er("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=$h.createAndSchedule(this,e,t,r,a=>this.ja(a));return this.Fa.push(i),i}Ka(){this.$a&&at()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function tb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Kh{constructor(){this._progressObserver={},this._taskCompletionResolver=new Br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Rn extends Fc{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new vI,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bI(this),this._firestoreClient.terminate()}}function Rp(n=(0,Wr.getApp)()){return(0,Wr._getProvider)(n,"firestore").getImmediate()}function Hr(n){return n._firestoreClient||bI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bI(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tm(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new uI(n._authCredentials,n._appCheckCredentials,n._queue,r)}function nb(n,e,t){const r=new Br;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield Kv(n,t),yield Nw(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===Ee.FAILED_PRECONDITION||a.code===Ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function Ww(n){if(n._initialized||n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Ar.fromBase64String(e))}catch(t){throw new Fe(Ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ko{constructor(e){this._methodName=e}}class kp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(Ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(Ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const qw=/^__.*__$/;class Kw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qf(e,this.data,t,this.fieldTransforms)}}class ib{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Pp{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new Pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return h_(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(sb(this.Xa)&&qw.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class II{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Uh(e)}ac(e,t,r,i=!1){return new Pp({Xa:e,methodName:t,uc:r,path:Vn.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Lc(n){const e=n._freezeSettings(),t=Uh(n._databaseId);return new II(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c_(n,e,t,r,i,a={}){const d=n.ac(a.merge||a.mergeFields?2:0,e,t,i);cb("Data must be an object, but it was:",d,r);const f=Yw(r,d);let _,w;if(a.merge)_=new Mu(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const V=Zh(e,x,t);if(!d.contains(V))throw new Fe(Ee.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);ub(I,V)||I.push(V)}_=new Mu(I),w=d.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=d.fieldTransforms;return new Kw(new Zi(f),_,w)}class Np extends Ko{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Np}}function Zw(n,e,t){return new Pp({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ob extends Ko{_toFieldTransform(e){return new Zf(e.path,new Yi)}isEqual(e){return e instanceof ob}}class Fp extends Ko{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Zw(this,e,!0),r=this.cc.map(a=>Zo(a,t)),i=new yl(r);return new Zf(e.path,i)}isEqual(e){return this===e}}class SI extends Ko{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Zw(this,e,!0),r=this.cc.map(a=>Zo(a,t)),i=new Lu(r);return new Zf(e.path,i)}isEqual(e){return this===e}}class ab extends Ko{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Vu(e.M,rE(e.M,this.hc));return new Zf(e.path,t)}isEqual(e){return this===e}}function yo(n,e,t,r){const i=n.ac(1,e,t);cb("Data must be an object, but it was:",i,r);const a=[],d=Zi.empty();Nt(r,(_,w)=>{const I=d_(e,_,t);w=(0,Ht.m9)(w);const x=i.sc(I);if(w instanceof Np)a.push(I);else{const V=Zo(w,x);null!=V&&(a.push(I),d.set(I,V))}});const f=new Mu(a);return new ib(d,f,i.fieldTransforms)}function lb(n,e,t,r,i,a){const d=n.ac(1,e,t),f=[Zh(e,r,t)],_=[i];if(a.length%2!=0)throw new Fe(Ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)f.push(Zh(e,a[V])),_.push(a[V+1]);const w=[],I=Zi.empty();for(let V=f.length-1;V>=0;--V)if(!ub(w,f[V])){const Y=f[V];let J=_[V];J=(0,Ht.m9)(J);const ge=d.sc(Y);if(J instanceof Np)w.push(Y);else{const Ue=Zo(J,ge);null!=Ue&&(w.push(Y),I.set(Y,Ue))}}const x=new Mu(w);return new ib(I,x,d.fieldTransforms)}function Lp(n,e,t,r=!1){return Zo(t,n.ac(r?4:3,e))}function Zo(n,e){if(Qw(n=(0,Ht.m9)(n)))return cb("Unsupported field value:",e,n),Yw(n,e);if(n instanceof Ko)return function(t,r){if(!sb(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let f=Zo(d,r.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ht.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return rE(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Sr.fromDate(t);return{timestampValue:Eh(r.M,i)}}if(t instanceof Sr){const i=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Eh(r.M,i)}}if(t instanceof kp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oa)return{bytesValue:Vy(r.M,t._byteString)};if(t instanceof rr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:By(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${a_(t)}`)}(n,e)}function Yw(n,e){const t={};return my(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nt(n,(r,i)=>{const a=Zo(i,e.tc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function Qw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof kp||n instanceof Oa||n instanceof rr||n instanceof Ko)}function cb(n,e,t){if(!Qw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=a_(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function Zh(n,e,t){if((e=(0,Ht.m9)(e))instanceof Ml)return e._internalPath;if("string"==typeof e)return d_(n,e);throw h_("Field path arguments must be of type string or ",n,!1,void 0,t)}const u_=new RegExp("[~\\*/\\[\\]]");function d_(n,e,t){if(e.search(u_)>=0)throw h_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ml(...e.split("."))._internalPath}catch(r){throw h_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function h_(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Fe(Ee.INVALID_ARGUMENT,f+n+_)}function ub(n,e){return n.some(t=>t.isEqual(e))}class Yh{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class db extends Yh{data(){return super.data()}}function Vp(n,e){return"string"==typeof e?d_(n,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}class rd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends Yh{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new f_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class f_ extends xl{data(e={}){return super.data(e)}}class Ra{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new f_(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(Ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new f_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new rd(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new f_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new rd(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:hb(d.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function fb(n,e){return n instanceof xl&&e instanceof xl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ra&&e instanceof Ra&&n._firestore===e._firestore&&yI(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function p_(n){if(Oi(n)&&0===n.explicitOrderBy.length)throw new Fe(Ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class id{}function Vc(n,...e){for(const t of e)n=t._apply(n);return n}class AI extends id{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Lc(e.firestore),r=function(i,a,d,f,_,w,I){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){ki(I,w);const Y=[];for(const J of I)Y.push(_b(f,i,J));x={arrayValue:{values:Y}}}else x=_b(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||ki(I,w),x=Lp(d,"where",I,"in"===w||"not-in"===w);const V=Mr.create(_,w,x);return function(Y,J){if(J.S()){const Ue=Ay(Y);if(null!==Ue&&!Ue.isEqual(J.field))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${J.field.toString()}'`);const pt=Sy(Y);null!==pt&&sd(0,J.field,pt)}const ge=function(Ue,pt){for(const mt of Ue.filters)if(pt.indexOf(mt.op)>=0)return mt.op;return null}(Y,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==ge)throw new Fe(Ee.INVALID_ARGUMENT,ge===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${ge.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ti(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class xI extends id{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Fu(i,a);return function(f,_){if(null===Sy(f)){const w=Ay(f);null!==w&&sd(0,w,_.field)}}(r,d),d}(e._query,this.lc,this._c);return new Ti(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new _l(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class g_ extends id{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Ti(e.firestore,e.converter,fT(e._query,this.wc,this.mc))}}class pb extends id{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=mb(e,this.type,this.gc,this.yc);return new Ti(e.firestore,e.converter,(i=t,new _l((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class gb extends id{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=mb(e,this.type,this.gc,this.yc);return new Ti(e.firestore,e.converter,(i=t,new _l((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function mb(n,e,t,r){if(t[0]=(0,Ht.m9)(t[0]),t[0]instanceof Yh)return function(i,a,d,f,_){if(!f)throw new Fe(Ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const I of qf(i))if(I.field.isKeyField())w.push(vc(a,f.key));else{const x=f.data.field(I.field);if(G0(x))throw new Fe(Ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=I.field.canonicalString();throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(x)}return new Cc(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Lc(n.firestore);return function(a,d,f,_,w,I){const x=a.explicitOrderBy;if(w.length>x.length)throw new Fe(Ee.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let Y=0;Y<w.length;Y++){const J=w[Y];if(x[Y].field.isKeyField()){if("string"!=typeof J)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof J}`);if(!J0(a)&&-1!==J.indexOf("/"))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${J}' contains a slash.`);const ge=a.path.child(gn.fromString(J));if(!Xe.isDocumentKey(ge))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ge}' is not because it contains an odd number of segments.`);const Ue=new Xe(ge);V.push(vc(d,Ue))}else{const ge=Lp(f,_,J);V.push(ge)}}return new Cc(V,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function _b(n,e,t){if("string"==typeof(t=(0,Ht.m9)(t))){if(""===t)throw new Fe(Ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J0(e)&&-1!==t.indexOf("/"))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!Xe.isDocumentKey(r))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vc(n,new Xe(r))}if(t instanceof rr)return vc(n,t._key);throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a_(t)}.`)}function ki(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sd(n,e,t){if(!t.isEqual(e))throw new Fe(Ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class yb{convertValue(e,t="none"){switch(Ou(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return Nt(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new kp(_r(e.latitude),_r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_y(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(em(e));default:return null}}convertTimestamp(e){const t=Ea(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);Vt(IE(r));const i=new po(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(t)||Er(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function m_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class uM extends yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}class Qh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lc(e)}set(e,t,r){this._verifyNotCommitted();const i=Bc(e,this._firestore),a=m_(i.converter,t,r),d=c_(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Ur.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Bc(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Ml?lb(this._dataReader,"WriteBatch.update",a._key,t,r,i):yo(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bc(e,this._firestore);return this._mutations=this._mutations.concat(new mh(t._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bc(n,e){if((n=(0,Ht.m9)(n)).firestore!==e)throw new Fe(Ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class od extends yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function Eb(n,e,t){n=hn(n,rr);const r=hn(n.firestore,Rn),i=m_(n.converter,e,t);return ad(r,[c_(Lc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ur.none())])}function Ol(n,e,t,...r){n=hn(n,rr);const i=hn(n.firestore,Rn),a=Lc(i);let d;return d="string"==typeof(e=(0,Ht.m9)(e))||e instanceof Ml?lb(a,"updateDoc",n._key,e,t,r):yo(a,"updateDoc",n._key,e),ad(i,[d.toMutation(n._key,Ur.exists(!0))])}function Cb(n,...e){var t,r,i;n=(0,Ht.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||tb(e[d])||(a=e[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(tb(e[d])){const x=e[d];e[d]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[d+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[d+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,I;if(n instanceof rr)w=hn(n.firestore,Rn),I=ph(n._key.path),_={next:x=>{e[d]&&e[d](Jh(w,n,x))},error:e[d+1],complete:e[d+2]};else{const x=hn(n,Ti);w=hn(x.firestore,Rn),I=x._query;const V=new od(w);_={next:Y=>{e[d]&&e[d](new Ra(w,V,x,Y))},error:e[d+1],complete:e[d+2]},p_(n._query)}return function(x,V,Y,J){const ge=new i_(J),Ue=new kv(V,ge,Y);return x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return xv(yield nd(x),Ue)})),()=>{ge.Ia(),x.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return Gm(yield nd(x),Ue)}))}}(Hr(w),I,f,_)}function ad(n,e){return function(t,r){const i=new Br;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Cw(n,e,t){return qm.apply(this,arguments)}(yield Jv(t),r,i)})),i.promise}(Hr(n),e)}function Jh(n,e,t){const r=t.docs.get(e._key),i=new od(n);return new xl(n,i,e._key,r,new rd(t.hasPendingWrites,t.fromCache),e.converter)}class sC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lc(e)}get(e){const t=Bc(e,this._firestore),r=new uM(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return at();const a=i[0];if(a.isFoundDocument())return new Yh(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Yh(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const i=Bc(e,this._firestore),a=m_(i.converter,t,r),d=c_(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=Bc(e,this._firestore);let d;return d="string"==typeof(t=(0,Ht.m9)(t))||t instanceof Ml?lb(this._dataReader,"Transaction.update",a._key,t,r,i):yo(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Bc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bc(e,this._firestore),r=new od(this._firestore);return super.get(e).then(i=>new xl(this._firestore,r,t._key,i._document,new rd(!1,!1),t.converter))}}function __(...n){return new Fp("arrayUnion",n)}function Ib(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cC(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Sb(){if(!function iT(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){yc=Wr.SDK_VERSION,(0,Wr._registerComponent)(new ha.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new Rn(i,new tT(t.getProvider("auth-internal")),new Ho(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Wr.registerVersion)(fy,"3.4.8",n),(0,Wr.registerVersion)(fy,"3.4.8","esm2017")}();class Bp{constructor(e){this._delegate=e}static fromBase64String(e){return Sb(),new Bp(Oa.fromBase64String(e))}static fromUint8Array(e){return cC(),new Bp(Oa.fromUint8Array(e))}toBase64(){return Sb(),this._delegate.toBase64()}toUint8Array(){return cC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function y_(n){return function uC(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class dC{enableIndexedDbPersistence(e,t){return function zw(n,e){Ww(n=hn(n,Rn));const t=Hr(n),r=n._freezeSettings(),i=new qv;return nb(t,i,new Ow(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function aM(n){Ww(n=hn(n,Rn));const e=Hr(n),t=n._freezeSettings(),r=new qv;return nb(e,r,new lI(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rb(n){if(n._initialized&&!n._terminated)throw new Fe(Ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!_o.vt())return Promise.resolve();const i=r+"main";yield _o.delete(i)}),function(r){return t.apply(this,arguments)})(xm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ab{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof po||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ch("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Op(n,e,t,r={}){var i;const a=(n=hn(n,Fc))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&ch("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=ai.MOCK_USER;else{d=(0,Ht.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(Ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ai(_)}n._authCredentials=new B0(new py(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function wI(n){return function Lw(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Fw(n),t=yield s_(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.fu.delete(0),_p(i)}(t)}))}(Hr(n=hn(n,Rn)))}(this._delegate)}disableNetwork(){return function CI(n){return function dI(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield Fw(n),t=yield s_(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(i){const a=tt(i);a.fu.add(0),yield jh(a),a.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Hr(n=hn(n,Rn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Bw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function EI(n){return function(e){const t=new Br;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Ym(n,e){return Lv.apply(this,arguments)}(yield Jv(e),t)})),t.promise}(Hr(n=hn(n,Rn)))}(this._delegate)}onSnapshotsInSync(e){return function NI(n,e){return function pI(n,e){const t=new i_(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield nd(n),i=t,tt(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield nd(n),i=t,void tt(r).Eu.delete(i);var r,i}))}}(Hr(n=hn(n,Rn)),tb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ld(this,Hw(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yo(this,xa(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ms(this,function _I(n,e){if(n=hn(n,Fc),o_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(Ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ti(n,null,(t=e,new _l(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function FI(n,e){return function qh(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const r=yield(i=n,Sp(i).then(a=>a.datastore));var i;new cI(n.asyncQueue,r,e,t).run()})),t.promise}(Hr(n=hn(n,Rn)),t=>e(new sC(n,t)))}(this._delegate,t=>e(new HI(this,t)))}batch(){return Hr(this._delegate),new Mb(new Qh(this._delegate,e=>ad(this._delegate,e)))}loadBundle(e){return function DI(n,e){const t=Hr(n=hn(n,Rn)),r=new Kh;return function xp(n,e,t,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return Rw(_,w);if(_ instanceof ArrayBuffer)return Rw(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new kw(_,d);var _}(t,Uh(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function aI(n,e,t){const r=tt(n);var i;(i=(0,Ae.Z)(function*(a,d,f){try{const _=yield d.getMetadata();if(yield function(V,Y){const J=tt(V),ge=ci(Y.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Ue=>J._s.getBundleMetadata(Ue,Y.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(ge)>=0)}(a.localStore,_))return yield d.close(),f._completeWith({taskState:"Success",documentsLoaded:(V=_).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);f._updateProgress(vw(_));const w=new ZT(_,a.localStore,d.M);let I=yield d.da();for(;I;){const V=yield w.ku(I);V&&f._updateProgress(V),I=yield d.da()}const x=yield w.complete();return yield Al(a,x.Fu,void 0),yield function(V,Y){const J=tt(V);return J.persistence.runTransaction("Save bundle","readwrite",ge=>J._s.saveBundleMetadata(ge,Y))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Ou)}catch(_){return ch("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var V}),function(a,d,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Jv(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function TI(n,e){return function gI(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Qv(n),e)}))}(Hr(n=hn(n,Rn)),e).then(t=>t?new Ti(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ms(this,t):null)}}class v_ extends yb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bp(new Oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yo.forKey(t,this.firestore,null)}}class HI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new v_(e)}get(e){const t=Rl(e);return this._delegate.get(t).then(r=>new b_(this._firestore,new xl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Rl(e);return r?(Ib("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Rl(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}}class Mb{constructor(e){this._delegate=e}set(e,t,r){const i=Rl(e);return r?(Ib("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Rl(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Rl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new f_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E_(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Xh.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Xh(e,new v_(e),t),i.set(t,a)),a}}Xh.INSTANCES=new WeakMap;class Yo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v_(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yo(t,new rr(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new Yo(t,new rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ld(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ld(this.firestore,Hw(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ht.m9)(e))instanceof rr&&$w(this._delegate,e)}set(e,t){t=Ib("DocumentReference.set",t);try{return t?Eb(this._delegate,e,t):Eb(this._delegate,e)}catch(r){throw gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Ol(this._delegate,e):Ol(this._delegate,e,t,...r)}catch(i){throw gs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function wb(n){return ad(hn(n.firestore,Rn),[new mh(n._key,Ur.none())])}(this._delegate)}onSnapshot(...e){const t=$I(e),r=GI(e,i=>new b_(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Cb(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rC(n){n=hn(n,rr);const e=hn(n.firestore,Rn),t=Hr(e),r=new od(e);return function Vw(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,a,d){try{const f=yield function(_,w){const I=tt(_);return I.persistence.runTransaction("read document","readonly",x=>I.ci.Ls(x,w))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Fe(Ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Gh(f,`Failed to get document '${a} from cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield Qv(n),e,t);var r})),t.promise}(t,n._key).then(i=>new xl(e,r,n._key,i,new rd(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function kI(n){n=hn(n,rr);const e=hn(n.firestore,Rn);return hI(Hr(e),n._key,{source:"server"}).then(t=>Jh(e,n,t))}(this._delegate):function vb(n){n=hn(n,rr);const e=hn(n.firestore,Rn);return hI(Hr(e),n._key).then(t=>Jh(e,n,t))}(this._delegate),t.then(r=>new b_(this.firestore,new xl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yo(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}function gs(n,e,t){return n.message=n.message.replace(e,t),n}function $I(n){for(const e of n)if("object"==typeof e&&!y_(e))return e;return{}}function GI(n,e){var t,r;let i;return i=y_(n[0])?n[0]:y_(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class b_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fb(this._delegate,e._delegate)}}class E_ extends b_{data(e){const t=this._delegate.data(e);return function V0(n,e){n||at()}(void 0!==t),t}}class ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v_(e)}where(e,t,r){try{return new ms(this.firestore,Vc(this._delegate,function MI(n,e,t){const r=e,i=Vp("where",n);return new AI(i,r,t)}(e,t,r)))}catch(i){throw gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ms(this.firestore,Vc(this._delegate,function Jw(n,e="asc"){const t=e,r=Vp("orderBy",n);return new xI(r,t)}(e,t)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ms(this.firestore,Vc(this._delegate,function Xw(n){return eb("limit",n),new g_("limit",n,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ms(this.firestore,Vc(this._delegate,function eC(n){return eb("limitToLast",n),new g_("limitToLast",n,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ms(this.firestore,Vc(this._delegate,function tC(...n){return new pb("startAt",n,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ms(this.firestore,Vc(this._delegate,function OI(...n){return new pb("startAfter",n,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ms(this.firestore,Vc(this._delegate,function nC(...n){return new gb("endBefore",n,!1)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ms(this.firestore,Vc(this._delegate,function RI(...n){return new gb("endAt",n,!0)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return yI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function bb(n){n=hn(n,Ti);const e=hn(n.firestore,Rn),t=Hr(e),r=new od(e);return function fI(n,e){const t=new Br;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,a,d){try{const f=yield Il(i,a,!0),_=new Pv(a,f.li),w=_.Gu(f.documents),I=_.applyChanges(w,!1);d.resolve(I.snapshot)}catch(f){const _=Gh(f,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(i,a,d){return r.apply(this,arguments)})(yield Qv(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ra(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function iC(n){n=hn(n,Ti);const e=hn(n.firestore,Rn),t=Hr(e),r=new od(e);return Mp(t,n._query,{source:"server"}).then(i=>new Ra(e,r,n,i))}(this._delegate):function PI(n){n=hn(n,Ti);const e=hn(n.firestore,Rn),t=Hr(e),r=new od(e);return p_(n._query),Mp(t,n._query).then(i=>new Ra(e,r,n,i))}(this._delegate),t.then(r=>new hC(this.firestore,new Ra(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=$I(e),r=GI(e,i=>new hC(this.firestore,new Ra(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Cb(this._delegate,t,r)}withConverter(e){return new ms(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}class w_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new E_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new E_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new w_(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new E_(this._firestore,r))})}isEqual(e){return fb(this._delegate,e._delegate)}}class ld extends ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yo(this.firestore,e):null}doc(e){try{return new Yo(this.firestore,void 0===e?xa(this._delegate):xa(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function dM(n,e){const t=hn(n.firestore,Rn),r=xa(n),i=m_(n.converter,e);return ad(t,[c_(Lc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Yo(this.firestore,t))}isEqual(e){return $w(this._delegate,e._delegate)}withConverter(e){return new ld(this.firestore,this._delegate.withConverter(e?Xh.getInstance(this.firestore,e):null))}}function Rl(n){return hn(n,rr)}class C_{constructor(...e){this._delegate=new Ml(...e)}static documentId(){return new C_(Vn.keyField().canonicalString())}isEqual(e){return(e=(0,Ht.m9)(e))instanceof Ml&&this._delegate._internalPath.isEqual(e._internalPath)}}class Uc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Tb(){return new ob("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Uc(e)}static delete(){const e=function Db(){return new Np("deleteField")}();return e._methodName="FieldValue.delete",new Uc(e)}static arrayUnion(...e){const t=__(...e);return t._methodName="FieldValue.arrayUnion",new Uc(t)}static arrayRemove(...e){const t=function LI(...n){return new SI("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Uc(t)}static increment(e){const t=function VI(n){return new ab("increment",n)}(e);return t._methodName="FieldValue.increment",new Uc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hM={Firestore:Ab,GeoPoint:kp,Timestamp:Sr,Blob:Bp,Transaction:HI,WriteBatch:Mb,DocumentReference:Yo,DocumentSnapshot:b_,Query:ms,QueryDocumentSnapshot:E_,QuerySnapshot:hC,CollectionReference:ld,FieldPath:C_,FieldValue:Uc,setLogLevel:function jI(n){!function Jg(n){ul.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function fC(n){(function xb(n,e){n.INTERNAL.registerComponent(new ha.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},hM)))})(n,(e,t)=>new Ab(e,t,new dC)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(mu.Z);var Sn=S(7579),kl=S(6451),Ob=S(5363),di=S(3900),zI=S(4707),Rb=S(3099);function pC(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,Rb.B)({connector:()=>new zI.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const kb=(0,S(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Pl=S(5698);function gC(n){return(0,Mi.e)((e,t)=>{let r=!1;e.subscribe((0,Lr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function mC(n=WI){return(0,Mi.e)((e,t)=>{let r=!1;e.subscribe((0,Lr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function WI(){return new kb}var Pb=S(4671);function cd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,fr.h)((i,a)=>n(i,a,r)):Pb.y,(0,Pl.q)(1),t?gC(e):mC(()=>new kb))}var Qo=S(576);function _C(n,e){return(0,Qo.m)(e)?(0,di.w)(()=>n,e):(0,di.w)(()=>n)}var Ns=S(9468);S(5867);const wC=new Map,YI={activated:!1,tokenObservers:[]},CC={initialized:!1,enabled:!1};function hi(n){return wC.get(n)||YI}function Pa(n,e){wC.set(n,e)}function Up(){return CC}class TC{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new Ht.BH,yield function XI(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ht.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Pi=new Ht.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SC(n){if(!hi(n).activated)throw Pi.create("use-before-activation",{appName:n.name})}function Lb(n,e){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,Ae.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,a)}catch(x){throw Pi.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==d.status)throw Pi.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(x){throw Pi.create("fetch-parse-error",{originalErrorMessage:x.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const w=1e3*Number(_[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+w,issuedAtTimeMillis:I}}),Vb.apply(this,arguments)}function wM(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const A_="firebase-app-check-store";let ud=null;function xC(){return ud||(ud=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Pi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(A_,{keyPath:"compositeKey"})}}catch(t){e(Pi.create("storage-open",{originalErrorMessage:t.message}))}}),ud)}function Hp(){return Hp=(0,Ae.Z)(function*(n,e){const r=(yield xC()).transaction(A_,"readwrite"),a=r.objectStore(A_).put({compositeKey:n,value:e});return new Promise((d,f)=>{a.onsuccess=_=>{d()},r.onerror=_=>{var w;f(Pi.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),Hp.apply(this,arguments)}const jc=new ko.Yd("@firebase/app-check");function nS(n,e){return(0,Ht.hl)()?function OC(n,e){return function M_(n,e){return Hp.apply(this,arguments)}(function x_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{jc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function NC(){return Up().enabled}function FC(){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Ae.Z)(function*(){const n=Up();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Bb.apply(this,arguments)}const LC={error:"UNKNOWN_ERROR"};function VC(n){return Ht.US.encodeString(JSON.stringify(n),!1)}function Gp(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,Ae.Z)(function*(n,e=!1){const t=n.app;SC(t);const r=hi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&tf(_)&&(i=_)}if(!e&&i&&tf(i))return{token:i.token};let f,d=!1;if(NC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Lb(wM(t,yield FC()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0);const _=yield r.exchangeTokenPromise;return yield nS(t,_),Pa(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?jc.warn(_.message):jc.error(_),a=_}return i?(f={token:i.token},Pa(t,Object.assign(Object.assign({},r),{token:i})),yield nS(t,i)):f=iS(a),d&&Hb(t,f),f}),Ub.apply(this,arguments)}function R_(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Pa(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function k_(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function SM(n){const{app:e}=n;return new TC((0,Ae.Z)(function*(){let r;if(r=hi(e).token?yield Gp(n,!0):yield Gp(n),r.error)throw r.error}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Pa(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Hb(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function tf(n){return n.expireTimeMillis-Date.now()>0}function iS(n){return{token:VC(LC),error:n}}class sS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)R_(this.app,t.next);return Promise.resolve()}}const K="app-check-internal";!function oe(){(0,Wr._registerComponent)(new ha.wA("app-check",n=>function AM(n,e){return new sS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(K).initialize()})),(0,Wr._registerComponent)(new ha.wA(K,n=>function MM(n){return{getToken:e=>Gp(n,e),addTokenListener:e=>function jb(n,e,t,r){const{app:i}=n,a=hi(i),d={next:t,error:r,type:e};if(Pa(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&tf(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),k_(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>k_(n))}(n,"INTERNAL",e),removeTokenListener:e=>R_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wr.registerVersion)("@firebase/app-check","0.5.7")}();class Qe{constructor(){return(0,Tn.vb)("app-check")}}"undefined"!=typeof window&&window;var P_=S(127);const LM=new c.OlP("angularfire2.auth.use-emulator"),VM=new c.OlP("angularfire2.auth.settings"),BM=new c.OlP("angularfire2.auth.tenant-id"),UM=new c.OlP("angularfire2.auth.langugage-code"),jM=new c.OlP("angularfire2.auth.use-device-language"),HM=new c.OlP("angularfire.auth.persistence"),$M=(n,e,t,r,i,a,d,f)=>(0,wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),d)for(const[w,I]of Object.entries(d))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,d,f]);let KC=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,x,V,Y){const J=new Sn.x,ge=(0,Dt.of)(void 0).pipe((0,Ob.Q)(d.outsideAngular),(0,di.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,820)))),(0,wt.U)(()=>(0,wi.on)(t,a,r)),(0,wt.U)(Ue=>$M(Ue,a,f,w,I,x,_,V)),pC({bufferSize:1,refCount:!1}));if(Nr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{ge.pipe(cd()).subscribe();const pt=ge.pipe((0,di.w)(ut=>ut.getRedirectResult().then(Kt=>Kt,()=>null)),Tn.iC,pC({bufferSize:1,refCount:!1})),mt=ge.pipe((0,di.w)(ut=>new ii.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>ut.onAuthStateChanged(sn=>Kt.next(sn),sn=>Kt.error(sn),()=>Kt.complete()))})))),dt=ge.pipe((0,di.w)(ut=>new ii.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>ut.onIdTokenChanged(sn=>Kt.next(sn),sn=>Kt.error(sn),()=>Kt.complete()))}))));this.authState=pt.pipe(_C(mt),(0,Ns.R)(d.outsideAngular),(0,Ob.Q)(d.insideAngular)),this.user=pt.pipe(_C(dt),(0,Ns.R)(d.outsideAngular),(0,Ob.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,di.w)(ut=>ut?(0,kt.D)(ut.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe((0,di.w)(ut=>ut?(0,kt.D)(ut.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,kl.T)(pt,J,this.authState.pipe((0,fr.h)(ut=>!ut))).pipe((0,wt.U)(ut=>(null==ut?void 0:ut.user)?ut:null),(0,Ns.R)(d.outsideAngular),(0,Ob.Q)(d.insideAngular))}return(0,wi.pX)(this,ge,a,{spy:{apply:(Ue,pt,mt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&mt.then(dt=>J.next(dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi.Dh),c.LFG(wi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tn.HU),c.LFG(LM,8),c.LFG(VM,8),c.LFG(BM,8),c.LFG(UM,8),c.LFG(jM,8),c.LFG(HM,8),c.LFG(Qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bP=(()=>{class n{constructor(){P_.Z.registerVersion("angularfire",Tn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[KC]}),n})();function GM(n,e){return function EP(n,e=no.z){return new ii.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function cS(n,e){return GM(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function ZC(n,e){return cS(n,e).pipe(ss(void 0),io(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const _=i.find(I=>I.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function zM(n,e,t){return ZC(n,t).pipe((0,os.R)((r,i)=>function CP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function DP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return uS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),(0,si.x)(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function uS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function WM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ZC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ss(void 0),io(),(0,fr.h)(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),Tn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,os.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WM(e);return zM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return cS(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tn.iC)}get(e){return(0,kt.D)(this.query.get(e)).pipe(Tn.iC)}add(e){return this.ref.add(e)}doc(e){return new KM(this.ref.doc(e),this.afs)}}class KM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=QM(r,t);return new qM(i,a,this.afs)}snapshotChanges(){return function wP(n,e){return GM(n,e).pipe(ss(void 0),io(),(0,wt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,kt.D)(this.ref.get(e)).pipe(Tn.iC)}}class TP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ZC(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,fr.h)(t=>t.length>0),Tn.iC):ZC(this.query,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,os.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=WM(e);return zM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tn.iC)}valueChanges(e={}){return cS(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Tn.iC)}get(e){return(0,kt.D)(this.query.get(e)).pipe(Tn.iC)}}const ZM=new c.OlP("angularfire2.enableFirestorePersistence"),YM=new c.OlP("angularfire2.firestore.persistenceSettings"),IP=new c.OlP("angularfire2.firestore.settings"),SP=new c.OlP("angularfire2.firestore.use-emulator");function QM(n,e=(t=>t)){return{query:e(n),ref:n}}let dS=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,x,V,Y,J,ge,Ue,pt,mt){this.schedulers=_;const dt=(0,wi.on)(t,f,r),ut=I;x&&$M(dt,f,V,J,ge,Ue,Y,pt),[this.firestore,this.persistenceEnabled$]=(0,wi.cc)(`${dt.name}.firestore`,"AngularFirestore",dt.name,()=>{const Kt=f.runOutsideAngular(()=>dt.firestore());if(a&&Kt.settings(a),ut&&Kt.useEmulator(...ut),i&&!Nr(d)){const sn=()=>{try{return(0,kt.D)(Kt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(xn){return"undefined"!=typeof console&&console.warn(xn),(0,Dt.of)(!1)}};return[Kt,f.runOutsideAngular(sn)]}return[Kt,(0,Dt.of)(!1)]},[a,ut,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=QM(i,r),f=this.schedulers.ngZone.run(()=>a);return new qM(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new TP(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new KM(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wi.Dh),c.LFG(wi.xv,8),c.LFG(ZM,8),c.LFG(IP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Tn.HU),c.LFG(YM,8),c.LFG(SP,8),c.LFG(KC,8),c.LFG(LM,8),c.LFG(VM,8),c.LFG(BM,8),c.LFG(UM,8),c.LFG(jM,8),c.LFG(HM,8),c.LFG(Qe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AP=(()=>{class n{constructor(){P_.Z.registerVersion("angularfire",Tn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ZM,useValue:!0},{provide:YM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dS]}),n})();var Na=S(1135);const{isArray:MP}=Array,{getPrototypeOf:xP,prototype:OP,keys:RP}=Object;function JM(n){if(1===n.length){const e=n[0];if(MP(e))return{args:e,keys:null};if(function kP(n){return n&&"object"==typeof n&&xP(n)===OP}(e)){const t=RP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:PP}=Array;function hS(n){return(0,wt.U)(e=>function NP(n,e){return PP(e)?n(...e):n(e)}(n,e))}function XM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var FP=S(9672);function ex(n,e,t){n?(0,FP.f)(t,n,e):e()}function YC(n,e){const t=(0,Qo.m)(n)?n:()=>n,r=i=>i.error(t());return new ii.y(e?i=>e.schedule(r,0,i):r)}var QC=S(8421);function fS(n){return new ii.y(e=>{(0,QC.Xf)(n()).subscribe(e)})}var zp=S(515),Hc=S(727);function tx(){return(0,Mi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class BP extends ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hc.w0.EMPTY)}return e}refCount(){return tx()(this)}}var Wp=S(262),zb=S(4351);function pS(n){return n<=0?()=>zp.E:(0,Mi.e)((e,t)=>{let r=[];e.subscribe((0,Lr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Ls=S(5577);class fd{constructor(e,t){this.id=e,this.url=t}}class gS extends fd{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wb extends fd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nx extends fd{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class HP extends fd{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $P extends fd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GP extends fd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zP extends fd{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WP extends fd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qP extends fd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ix{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KP{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZP{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YP{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QP{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sx{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fn="primary";class JP{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function N_(n){return new JP(n)}const ox="ngNavigationCancelingError";function mS(n){const e=Error("NavigationCancelingError: "+n);return e[ox]=!0,e}function e1(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $c(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!ax(n[i],e[i]))return!1;return!0}function ax(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function lx(n){return Array.prototype.concat.apply([],n)}function cx(n){return n.length>0?n[n.length-1]:null}function Ji(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Gc(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,kt.D)(Promise.resolve(n)):(0,Dt.of)(n)}const r1={exact:function hx(n,e,t){if(!Kp(n.segments,e.segments)||!JC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!hx(n.children[r],e.children[r],t))return!1;return!0},subset:fx},ux={exact:function s1(n,e){return $c(n,e)},subset:function o1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ax(n[t],e[t]))},ignored:()=>!0};function dx(n,e,t){return r1[t.paths](n.root,e.root,t.matrixParams)&&ux[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fx(n,e,t){return px(n,e,e.segments,t)}function px(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Kp(i,t)||e.hasChildren()||!JC(i,t,r))}if(n.segments.length===t.length){if(!Kp(n.segments,t)||!JC(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!fx(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Kp(n.segments,i)&&JC(n.segments,i,r)&&n.children[fn])&&px(n.children[fn],e,a,r)}}function JC(n,e,t){return e.every((r,i)=>ux[t](n[i].parameters,r.parameters))}class qp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=N_(this.queryParams)),this._queryParamMap}toString(){return c1.serialize(this)}}class yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ji(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return XC(this)}}class qb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=N_(this.parameters)),this._parameterMap}toString(){return vx(this)}}function Kp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class gx{}class mx{parse(e){const t=new y1(e);return new qp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Kb(e.root,!0)}`,r=function h1(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${eD(t)}=${eD(i)}`).join("&"):`${eD(t)}=${eD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function u1(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const c1=new mx;function XC(n){return n.segments.map(e=>vx(e)).join("/")}function Kb(n,e){if(!n.hasChildren())return XC(n);if(e){const t=n.children[fn]?Kb(n.children[fn],!1):"",r=[];return Ji(n.children,(i,a)=>{a!==fn&&r.push(`${a}:${Kb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function l1(n,e){let t=[];return Ji(n.children,(r,i)=>{i===fn&&(t=t.concat(e(r,i)))}),Ji(n.children,(r,i)=>{i!==fn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===fn?[Kb(n.children[fn],!1)]:[`${i}:${Kb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fn]?`${XC(n)}/${t[0]}`:`${XC(n)}/(${t.join("//")})`}}function _x(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eD(n){return _x(n).replace(/%3B/gi,";")}function _S(n){return _x(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tD(n){return decodeURIComponent(n)}function yx(n){return tD(n.replace(/\+/g,"%20"))}function vx(n){return`${_S(n.path)}${function d1(n){return Object.keys(n).map(e=>`;${_S(e)}=${_S(n[e])}`).join("")}(n.parameters)}`}const f1=/^[^\/()?;=#]+/;function nD(n){const e=n.match(f1);return e?e[0]:""}const p1=/^[^=?&#]+/,m1=/^[^&#]+/;class y1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fn]=new yn(e,t)),r}parseSegment(){const e=nD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new qb(tD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=nD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=nD(this.remaining);i&&(r=i,this.capture(r))}e[tD(t)]=tD(r)}parseQueryParam(e){const t=function g1(n){const e=n.match(p1);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function _1(n){const e=n.match(m1);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=yx(t),a=yx(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=nD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=fn);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[fn]:new yn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=yS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vS(e,this._root).map(t=>t.value)}}function yS(n,e){if(n===e.value)return e;for(const t of e.children){const r=yS(n,t);if(r)return r}return null}function vS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=vS(n,t);if(r.length)return r.unshift(e),r}return[]}class pd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function F_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ex extends bx{constructor(e,t){super(e),this.snapshot=t,bS(this,e)}toString(){return this.snapshot.toString()}}function wx(n,e){const t=function v1(n,e){const d=new rD([],{},{},"",{},fn,e,null,n.root,-1,{});return new Dx("",new pd(d,[]))}(n,e),r=new Na.X([new qb("",{})]),i=new Na.X({}),a=new Na.X({}),d=new Na.X({}),f=new Na.X(""),_=new L_(r,i,d,f,a,fn,e,t.root);return _.snapshot=t.root,new Ex(new pd(_,[]),t)}class L_{constructor(e,t,r,i,a,d,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>N_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>N_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function b1(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class rD{constructor(e,t,r,i,a,d,f,_,w,I,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=N_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=N_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dx extends bx{constructor(e,t){super(t),this.url=e,bS(this,t)}toString(){return Tx(this._root)}}function bS(n,e){e.value._routerState=n,e.children.forEach(t=>bS(n,t))}function Tx(n){const e=n.children.length>0?` { ${n.children.map(Tx).join(", ")} } `:"";return`${n.value}${e}`}function ES(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$c(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$c(e.params,t.params)||n.params.next(t.params),function t1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$c(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$c(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wS(n,e){const t=$c(n.params,e.params)&&function a1(n,e){return Kp(n,e)&&n.every((t,r)=>$c(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wS(n.parent,e.parent))}function Zb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function w1(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zb(n,r,i);return Zb(n,r)})}(n,e,t);return new pd(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>Zb(n,f)),d}}const r=function C1(n){return new L_(new Na.X(n.url),new Na.X(n.params),new Na.X(n.queryParams),new Na.X(n.fragment),new Na.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Zb(n,a));return new pd(r,i)}}function iD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yb(n){return"object"==typeof n&&null!=n&&n.outlets}function CS(n,e,t,r,i){let a={};if(r&&Ji(r,(f,_)=>{a[_]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),n===e)return new qp(t,a,i);const d=Ix(n,e,t);return new qp(d,a,i)}function Ix(n,e,t){const r={};return Ji(n.children,(i,a)=>{r[a]=i===e?t:Ix(i,e,t)}),new yn(n.segments,r)}class Sx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&iD(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Yb);if(i&&i!==cx(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class DS{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ax(n,e,t){if(n||(n=new yn([],{})),0===n.segments.length&&n.hasChildren())return sD(n,e,t);const r=function M1(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],f=t[r];if(Yb(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!xx(_,w,d))return a;r+=2}else{if(!xx(_,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new yn(n.segments.slice(0,r.pathIndex),{});return a.children[fn]=new yn(n.segments.slice(r.pathIndex),n.children),sD(a,0,i)}return r.match&&0===i.length?new yn(n.segments,{}):r.match&&!n.hasChildren()?TS(n,e,t):r.match?sD(n,0,i):TS(n,e,t)}function sD(n,e,t){if(0===t.length)return new yn(n.segments,{});{const r=function A1(n){return Yb(n[0])?n[0].outlets:{[fn]:n}}(t),i={};return Ji(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Ax(n.children[d],e,a))}),Ji(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new yn(n.segments,i)}}function TS(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Yb(a)){const _=x1(a.outlets);return new yn(r,_)}if(0===i&&iD(t[0])){r.push(new qb(n.segments[e].path,Mx(t[0]))),i++;continue}const d=Yb(a)?a.outlets[fn]:`${a}`,f=i<t.length-1?t[i+1]:null;d&&f&&iD(f)?(r.push(new qb(d,Mx(f))),i+=2):(r.push(new qb(d,{})),i++)}return new yn(r,{})}function x1(n){const e={};return Ji(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=TS(new yn([],{}),0,t))}),e}function Mx(n){const e={};return Ji(n,(t,r)=>e[r]=`${t}`),e}function xx(n,e,t){return n==t.path&&$c(e,t.parameters)}class R1{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ES(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=F_(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),Ji(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=F_(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=F_(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=F_(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new QP(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ZP(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ES(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),ES(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function k1(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=_,d.outlet&&d.outlet.activateWith(i,_),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class IS{constructor(e,t){this.routes=e,this.module=t}}function nf(n){return"function"==typeof n}function Zp(n){return n instanceof qp}const Qb=Symbol("INITIAL_VALUE");function Jb(){return(0,di.w)(n=>function LP(...n){const e=(0,Jl.yG)(n),t=(0,Jl.jO)(n),{args:r,keys:i}=JM(n);if(0===r.length)return(0,kt.D)([],e);const a=new ii.y(function VP(n,e,t=Pb.y){return r=>{ex(e,()=>{const{length:i}=n,a=new Array(i);let d=i,f=i;for(let _=0;_<i;_++)ex(e,()=>{const w=(0,kt.D)(n[_],e);let I=!1;w.subscribe((0,Lr.x)(r,x=>{a[_]=x,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>XM(i,d):Pb.y));return t?a.pipe(hS(t)):a}(n.map(e=>e.pipe((0,Pl.q)(1),ss(Qb)))).pipe((0,os.R)((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==Qb?i:(a===Qb&&(r=!0),r||!1!==a&&d!==t.length-1&&!Zp(a)?i:a),e)},Qb),(0,fr.h)(e=>e!==Qb),(0,wt.U)(e=>Zp(e)?e:!0===e),(0,Pl.q)(1)))}class B1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xb,this.attachRef=null}}class Xb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new B1,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let SS=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=a||fn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new U1(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xb),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class U1{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===L_?this.route:e===Xb?this.childContexts:this.parent.get(e,t)}}let Ox=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[SS],encapsulation:2}),n})();function Rx(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];j1(r,H1(e,r))}}function j1(n,e){n.children&&Rx(n.children,e)}function H1(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function AS(n){const e=n.children&&n.children.map(AS),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fn&&(t.component=Ox),t}function Fa(n){return n.outlet||fn}function kx(n,e){const t=n.filter(r=>Fa(r)===e);return t.push(...n.filter(r=>Fa(r)!==e)),t}const Px={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oD(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Px):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||e1)(t,n,e);if(!a)return Object.assign({},Px);const d={};Ji(a.posParams,(_,w)=>{d[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function aD(n,e,t,r,i="corrected"){if(t.length>0&&function z1(n,e,t){return t.some(r=>lD(n,e,r)&&Fa(r)!==fn)}(n,t,r)){const d=new yn(e,function G1(n,e,t,r){const i={};i[fn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Fa(a)!==fn){const d=new yn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Fa(a)]=d}return i}(n,e,r,new yn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function W1(n,e,t){return t.some(r=>lD(n,e,r))}(n,t,r)){const d=new yn(n.segments,function $1(n,e,t,r,i,a){const d={};for(const f of r)if(lD(n,t,f)&&!i[Fa(f)]){const _=new yn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[Fa(f)]=_}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new yn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function lD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Nx(n,e,t,r){return!!(Fa(n)===r||r!==fn&&lD(e,t,n))&&("**"===n.path||oD(e,n,t).matched)}function Fx(n,e,t){return 0===e.length&&!n.children[t]}class cD{constructor(e){this.segmentGroup=e||null}}class Lx{constructor(e){this.urlTree=e}}function e0(n){return YC(new cD(n))}function Vx(n){return YC(new Lx(n))}function q1(n){return YC(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class Y1{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=aD(this.urlTree.root,[],[],this.config).segmentGroup,t=new yn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,fn).pipe((0,wt.U)(a=>this.createUrlTree(MS(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Wp.K)(a=>{if(a instanceof Lx)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof cD?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,fn).pipe((0,wt.U)(i=>this.createUrlTree(MS(i),e.queryParams,e.fragment))).pipe((0,Wp.K)(i=>{throw i instanceof cD?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new yn([],{[fn]:e}):e;return new qp(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new yn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,kt.D)(i).pipe((0,zb.b)(a=>{const d=r.children[a],f=kx(t,a);return this.expandSegmentGroup(e,f,d,a).pipe((0,wt.U)(_=>({segment:_,outlet:a})))}),(0,os.R)((a,d)=>(a[d.outlet]=d.segment,a),{}),function UP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,fr.h)((i,a)=>n(i,a,r)):Pb.y,pS(1),t?gC(e):mC(()=>new kb))}())}expandSegment(e,t,r,i,a,d){return(0,kt.D)(r).pipe((0,zb.b)(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,d).pipe((0,Wp.K)(w=>{if(w instanceof cD)return(0,Dt.of)(null);throw w}))),cd(f=>!!f),(0,Wp.K)((f,_)=>{if(f instanceof kb||"EmptyError"===f.name)return Fx(t,i,a)?(0,Dt.of)(new yn([],{})):e0(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,d,f){return Nx(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):e0(t):e0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Vx(a):this.lineralizeSegments(r,a).pipe((0,Ls.z)(d=>{const f=new yn(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=oD(t,i,a);if(!f)return e0(t);const x=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?Vx(x):this.lineralizeSegments(i,x).pipe((0,Ls.z)(V=>this.expandSegment(e,t,r,V.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Dt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,wt.U)(x=>(r._loadedConfig=x,new yn(i,{})))):(0,Dt.of)(new yn(i,{}));const{matched:d,consumedSegments:f,remainingSegments:_}=oD(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Ls.z)(I=>{const x=I.module,V=I.routes,{segmentGroup:Y,slicedSegments:J}=aD(t,f,_,V),ge=new yn(Y.segments,Y.children);if(0===J.length&&ge.hasChildren())return this.expandChildren(x,V,ge).pipe((0,wt.U)(dt=>new yn(f,dt)));if(0===V.length&&0===J.length)return(0,Dt.of)(new yn(f,{}));const Ue=Fa(r)===a;return this.expandSegment(x,ge,V,J,Ue?fn:a,!0).pipe((0,wt.U)(mt=>new yn(f.concat(mt.segments),mt.children)))})):e0(t)}getChildConfig(e,t,r){return t.children?(0,Dt.of)(new IS(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Dt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ls.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,wt.U)(a=>(t._loadedConfig=a,a))):function K1(n){return YC(mS(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,Dt.of)(new IS([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,Dt.of)(!0);const a=i.map(d=>{const f=e.get(d);let _;if(function N1(n){return n&&nf(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!nf(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return Gc(_)});return(0,Dt.of)(a).pipe(Jb(),(0,bn.b)(d=>{if(!Zp(d))return;const f=mS(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,wt.U)(d=>!0===d))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Dt.of)(r);if(i.numberOfChildren>1||!i.children[fn])return q1(e.redirectTo);i=i.children[fn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new qp(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ji(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return Ji(t.children,(f,_)=>{d[_]=this.createSegmentGroup(e,f,r,i)}),new yn(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function MS(n){const e={};for(const r of Object.keys(n.children)){const a=MS(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Q1(n){if(1===n.numberOfChildren&&n.children[fn]){const e=n.children[fn];return new yn(n.segments.concat(e.segments),e.children)}return n}(new yn(n.segments,e))}class Bx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uD{constructor(e,t){this.component=e,this.route=t}}function X1(n,e,t){const r=n._root;return t0(r,e?e._root:null,t,[r.value])}function dD(n,e,t){const r=function tN(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function t0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=F_(e);return n.children.forEach(d=>{(function nN(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const _=function rN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kp(n.url,e.url)||!$c(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wS(n,e)||!$c(n.queryParams,e.queryParams);default:return!wS(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Bx(r)):(a.data=d.data,a._resolvedData=d._resolvedData),t0(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new uD(f.outlet.component,d))}else d&&n0(e,f,i),i.canActivateChecks.push(new Bx(r)),t0(n,null,a.component?f?f.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),Ji(a,(d,f)=>n0(d,t.getContext(f),i)),i}function n0(n,e,t){const r=F_(n),i=n.value;Ji(r,(a,d)=>{n0(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new uD(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class hN{}function Ux(n){return new ii.y(e=>e.error(n))}class pN{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=aD(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,fn);if(null===t)return null;const r=new rD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pd(r,t),a=new Dx(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Cx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],f=kx(e,a),_=this.processSegmentGroup(f,d,a);if(null===_)return null;r.push(..._)}const i=jx(r);return function gN(n){n.sort((e,t)=>e.value.outlet===fn?-1:t.value.outlet===fn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return Fx(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Nx(e,t,r,i))return null;let a,d=[],f=[];if("**"===e.path){const Y=r.length>0?cx(r).parameters:{};a=new rD(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gx(e),Fa(e),e.component,e,Hx(t),$x(t)+r.length,zx(e))}else{const Y=oD(t,e,r);if(!Y.matched)return null;d=Y.consumedSegments,f=Y.remainingSegments,a=new rD(d,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gx(e),Fa(e),e.component,e,Hx(t),$x(t)+d.length,zx(e))}const _=function mN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=aD(t,d,f,_.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const Y=this.processChildren(_,w);return null===Y?null:[new pd(a,Y)]}if(0===_.length&&0===I.length)return[new pd(a,[])];const x=Fa(e)===i,V=this.processSegment(_,w,I,x?fn:i);return null===V?null:[new pd(a,V)]}}function _N(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jx(n){const e=[],t=new Set;for(const r of n){if(!_N(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jx(r.children);e.push(new pd(r.value,i))}return e.filter(r=>!t.has(r))}function Hx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $x(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Gx(n){return n.data||{}}function zx(n){return n.resolve||{}}function Wx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xS(n){return(0,di.w)(e=>{const t=n(e);return t?(0,kt.D)(t).pipe((0,wt.U)(()=>e)):(0,Dt.of)(e)})}class TN extends class DN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const OS=new c.OlP("ROUTES");class qx{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,wt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new IS(lx(d.injector.get(OS,void 0,c.XFs.Self|c.XFs.Optional)).map(AS),d)}),(0,Wp.K)(a=>{throw t._loader$=void 0,a}));return t._loader$=new BP(i,()=>new Sn.x).pipe(tx()),t._loader$}loadModuleFactory(e){return Gc(e()).pipe((0,Ls.z)(t=>t instanceof c.YKP?(0,Dt.of)(t):(0,kt.D)(this.compiler.compileModuleAsync(t))))}}class SN{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function AN(n){throw n}function MN(n,e,t){return e.parse("/")}function Kx(n,e){return(0,Dt.of)(null)}const xN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ON={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vs=(()=>{class n{constructor(t,r,i,a,d,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sn.x,this.errorHandler=AN,this.malformedUriErrorHandler=MN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kx,afterPreactivation:Kx},this.urlHandlingStrategy=new SN,this.routeReuseStrategy=new TN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const x=d.get(c.R0b);this.isNgZoneEnabled=x instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function n1(){return new qp(new yn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qx(d,f,V=>this.triggerEvent(new rx(V)),V=>this.triggerEvent(new ix(V))),this.routerState=wx(this.currentUrlTree,this.rootComponentType),this.transitions=new Na.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,fr.h)(i=>0!==i.id),(0,wt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,di.w)(i=>{let a=!1,d=!1;return(0,Dt.of)(i).pipe((0,bn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,di.w)(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Zx(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Dt.of)(f).pipe((0,di.w)(x=>{const V=this.transitions.getValue();return r.next(new gS(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?zp.E:Promise.resolve(x)}),function J1(n,e,t,r){return(0,di.w)(i=>function Z1(n,e,t,r,i){return new Y1(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function yN(n,e,t,r,i){return(0,Ls.z)(a=>function fN(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new pN(n,e,t,r,i,a).recognize();return null===d?Ux(new hN):(0,Dt.of)(d)}catch(d){return Ux(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,wt.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(Y,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new $P(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:Y,source:J,restoredState:ge,extras:Ue}=f,pt=new gS(V,this.serializeUrl(Y),J,ge);r.next(pt);const mt=wx(Y,this.rootComponentType).snapshot;return(0,Dt.of)(Object.assign(Object.assign({},f),{targetSnapshot:mt,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),zp.E}),xS(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:Y}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!Y})}),(0,bn.b)(f=>{const _=new GP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:X1(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function iN(n,e){return(0,Ls.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?(0,Dt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function sN(n,e,t,r){return(0,kt.D)(n).pipe((0,Ls.z)(i=>function dN(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Dt.of)(!0);const d=a.map(f=>{const _=dD(f,e,i);let w;if(function V1(n){return n&&nf(n.canDeactivate)}(_))w=Gc(_.canDeactivate(n,e,t,r));else{if(!nf(_))throw new Error("Invalid CanDeactivate guard");w=Gc(_(n,e,t,r))}return w.pipe(cd())});return(0,Dt.of)(d).pipe(Jb())}(i.component,i.route,t,e,r)),cd(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ls.z)(f=>f&&function P1(n){return"boolean"==typeof n}(f)?function oN(n,e,t,r){return(0,kt.D)(e).pipe((0,zb.b)(i=>Xl(function lN(n,e){return null!==n&&e&&e(new KP(n)),(0,Dt.of)(!0)}(i.route.parent,r),function aN(n,e){return null!==n&&e&&e(new YP(n)),(0,Dt.of)(!0)}(i.route,r),function uN(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function eN(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>fS(()=>{const f=d.guards.map(_=>{const w=dD(_,d.node,t);let I;if(function L1(n){return n&&nf(n.canActivateChild)}(w))I=Gc(w.canActivateChild(r,n));else{if(!nf(w))throw new Error("Invalid CanActivateChild guard");I=Gc(w(r,n))}return I.pipe(cd())});return(0,Dt.of)(f).pipe(Jb())}));return(0,Dt.of)(a).pipe(Jb())}(n,i.path,t),function cN(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const i=r.map(a=>fS(()=>{const d=dD(a,e,t);let f;if(function F1(n){return n&&nf(n.canActivate)}(d))f=Gc(d.canActivate(e,n));else{if(!nf(d))throw new Error("Invalid CanActivate guard");f=Gc(d(e,n))}return f.pipe(cd())}));return(0,Dt.of)(i).pipe(Jb())}(n,i.route,t))),cd(i=>!0!==i,!0))}(r,a,n,e):(0,Dt.of)(f)),(0,wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,bn.b)(f=>{if(Zp(f.guardsResult)){const w=mS(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new zP(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),(0,fr.h)(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),xS(f=>{if(f.guards.canActivateChecks.length)return(0,Dt.of)(f).pipe((0,bn.b)(_=>{const w=new WP(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),(0,di.w)(_=>{let w=!1;return(0,Dt.of)(_).pipe(function vN(n,e){return(0,Ls.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Dt.of)(t);let a=0;return(0,kt.D)(i).pipe((0,zb.b)(d=>function bN(n,e,t,r){return function EN(n,e,t,r){const i=Wx(n);if(0===i.length)return(0,Dt.of)({});const a={};return(0,kt.D)(i).pipe((0,Ls.z)(d=>function wN(n,e,t,r){const i=dD(n,e,r);return Gc(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,bn.b)(f=>{a[d]=f}))),pS(1),(0,Ls.z)(()=>Wx(a).length===i.length?(0,Dt.of)(a):zp.E))}(n._resolve,n,e,r).pipe((0,wt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Cx(n,t).resolve),null)))}(d.route,r,n,e)),(0,bn.b)(()=>a++),pS(1),(0,Ls.z)(d=>a===i.length?(0,Dt.of)(t):zp.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(_=>{const w=new qP(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),xS(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:V,replaceUrl:Y}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!V,replaceUrl:!!Y})}),(0,wt.U)(f=>{const _=function E1(n,e,t){const r=Zb(n,e._root,t?t._root:void 0);return new Ex(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,bn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new R1(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,bn.b)({next(){a=!0},complete(){a=!0}}),function jP(n){return(0,Mi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),(0,Wp.K)(f=>{if(d=!0,function XP(n){return n&&n[ox]}(f)){const _=Zp(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new nx(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zx(i.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new HP(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return zp.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const _=Object.assign({},d);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Rx(t),this.config=t.map(AS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:d;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function D1(n,e,t,r,i){if(0===t.length)return CS(e.root,e.root,e.root,r,i);const a=function T1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sx(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ji(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Sx(t,e,r)}(t);if(a.toRoot())return CS(e.root,e.root,new yn([],{}),r,i);const d=function I1(n,e,t){if(n.isAbsolute)return new DS(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new DS(a,a===e.root,0)}const r=iD(n.commands[0])?0:1;return function S1(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new DS(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=d.processChildren?sD(d.segmentGroup,d.index,a.commands):Ax(d.segmentGroup,d.index,a.commands);return CS(e.root,d.segmentGroup,f,r,i)}(w,this.currentUrlTree,t,x,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zp(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function RN(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},xN):!1===r?Object.assign({},ON):r,Zp(t))return dx(this.currentUrlTree,t,i);const a=this.parseUrl(t);return dx(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Wb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var f,_;if(this.disposed)return Promise.resolve(!1);let w,I,x;d?(w=d.resolve,I=d.reject,x=d.promise):x=new Promise((J,ge)=>{w=J,I=ge});const V=++this.navigationId;let Y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Y=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):Y=0,this.setTransition({id:V,targetPageId:Y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:w,reject:I,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(J=>Promise.reject(J))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new nx(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zx(n){return"imperative"!==n}let hD=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Sn.x,this.subscription=t.events.subscribe(a=>{a instanceof Wb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,d){if(0!==t||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:V_(this.skipLocationChange),replaceUrl:V_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:V_(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vs),c.Y36(L_),c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function V_(n){return""===n||!!n}class Yx{}class Qx{preload(e,t){return(0,Dt.of)(null)}}let Jx=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new qx(i,r,_=>t.triggerEvent(new rx(_)),_=>t.triggerEvent(new ix(_)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,fr.h)(t=>t instanceof Wb),(0,zb.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,kt.D)(i).pipe((0,Ro.J)(),(0,wt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Dt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ls.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Yx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kS=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new sx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Yp=new c.OlP("ROUTER_CONFIGURATION"),Xx=new c.OlP("ROUTER_FORROOT_GUARD"),FN=[ve,{provide:gx,useClass:mx},{provide:Vs,useFactory:function jN(n,e,t,r,i,a,d={},f,_){const w=new Vs(null,n,e,t,r,i,lx(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function HN(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,w),d.enableTracing&&w.events.subscribe(I=>{var x,V;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(V=console.groupEnd)||void 0===V||V.call(console)}),w},deps:[gx,Xb,ve,c.zs3,c.Sil,OS,Yp,[class IN{},new c.FiY],[class CN{},new c.FiY]]},Xb,{provide:L_,useFactory:function $N(n){return n.routerState.root},deps:[Vs]},Jx,Qx,class NN{preload(e,t){return t().pipe((0,Wp.K)(()=>(0,Dt.of)(null)))}},{provide:Yp,useValue:{enableTracing:!1}}];function LN(){return new c.PXZ("Router",Vs)}let eO=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[FN,tO(t),{provide:Xx,useFactory:UN,deps:[[Vs,new c.FiY,new c.tp0]]},{provide:Yp,useValue:r||{}},{provide:de,useFactory:BN,deps:[Q,[new c.tBr(je),new c.FiY],Yp]},{provide:kS,useFactory:VN,deps:[Vs,Ul,Yp]},{provide:Yx,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Qx},{provide:c.PXZ,multi:!0,useFactory:LN},[PS,{provide:c.ip1,multi:!0,useFactory:GN,deps:[PS]},{provide:nO,useFactory:zN,deps:[PS]},{provide:c.tb,multi:!0,useExisting:nO}]]}}static forChild(t){return{ngModule:n,providers:[tO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xx,8),c.LFG(Vs,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function VN(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new kS(n,e,t)}function BN(n,e,t={}){return t.useHash?new Ie(n,e):new Le(n,e)}function UN(n){return"guarded"}function tO(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:OS,multi:!0,useValue:n}]}let PS=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sn.x}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Vs),d=this.injector.get(Yp);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,Dt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Yp),i=this.injector.get(Jx),a=this.injector.get(kS),d=this.injector.get(Vs),f=this.injector.get(c.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function GN(n){return n.appInitializer.bind(n)}function zN(n){return n.bootstrapListener.bind(n)}const nO=new c.OlP("Router Initializer");let zc=(()=>{class n{constructor(t,r,i,a){this.db=t,this.angularFireAuth=r,this.router=i,this.store=a,this.uid="",this.email="",this.angularFireAuth.authState.subscribe(d=>{d?(this.userState=d,localStorage.setItem("user",JSON.stringify(this.userState)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}onLogin(t,r){return this.email=t,this.angularFireAuth.signInWithEmailAndPassword(t,r).then(i=>{i.user&&(this.uid=i.user.uid,this.store.dispatch(ua.setAuthenticated()),this.router.navigate(["orders"]))}).catch(i=>{const a=i.code;alert("auth/wrong-password"===a?"Nieprawid\u0142owe has\u0142o":"auth/invalid-email"===a?"Nieprawid\u0142owy email":"auth/user-not-found"===a?"Nie znaleziono u\u017cytkownika":i.message)})}onLogout(){return this.angularFireAuth.signOut().then(()=>{this.store.dispatch(ua.setNotAuthenticated()),this.store.dispatch(to.resetUser()),localStorage.removeItem("user"),this.router.navigate(["login"])}).catch(t=>{alert(t.message)})}onSignup(t,r,i){return this.angularFireAuth.createUserWithEmailAndPassword(r,i).then(a=>{var d;const f=null===(d=a.user)||void 0===d?void 0:d.uid;this.db.collection("users").doc(f).set({userName:t,role:"client"})}).catch(a=>{alert(a.message)})}setUserData(t,r){return this.db.doc(`users/${t}`).valueChanges().pipe((0,bn.b)(i=>{i&&this.store.dispatch(to.setUserData({userName:i.userName,role:i.role,uid:t,userEmail:r}))}))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dS),c.LFG(KC),c.LFG(Vs),c.LFG(Ln.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qN=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function KN(){return(0,c.f3M)(W)}}),ZN=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let NS,Qp=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new c.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function YN(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?ZN.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qN,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{NS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){NS=!1}let B_,_s=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ri(n){return n===Ws}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function sO(){if(B_)return B_;if("object"!=typeof document||!document)return B_=new Set(iO),B_;let n=document.createElement("input");return B_=new Set(iO.filter(e=>(n.setAttribute("type",e),n.type===e))),B_}let s0,Jp,FS;function o0(n){return function QN(){if(null==s0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>s0=!0}))}finally{s0=s0||!1}return s0}()?n:!!n.capture}function JN(){if(null==Jp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jp=!1,Jp;if("scrollBehavior"in document.documentElement.style)Jp=!0;else{const n=Element.prototype.scrollTo;Jp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Jp}function Xp(n){return n.composedPath?n.composedPath()[0]:n.target}function LS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function U_(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var cO=S(8372),fF=S(5684),fi=S(2722);function Ni(n){return null!=n&&"false"!=`${n}`}function gD(n,e=0){return function pF(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function uO(n){return Array.isArray(n)?n:[n]}function pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function gd(n){return n instanceof c.SBq?n.nativeElement:n}let dO=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gF=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=gd(t);return new ii.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Sn.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hO=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ni(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=gD(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,cO.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gF),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),US=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dO]}),n})();class gO{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Sn.x,this._typeaheadSubscription=Hc.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Sn.x,this.change=new Sn.x,e instanceof c.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,bn.b)(t=>this._pressedLetters.push(t)),(0,cO.b)(e),(0,fr.h)(()=>this._pressedLetters.length>0),(0,wt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,d=r[a];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||U_(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class yF extends gO{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class vF extends gO{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function _O(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function yO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const TF=new c.OlP("cdk-input-modality-detector-options"),IF={ignoreKeys:[18,17,224,91,16]},j_=o0({passive:!0,capture:!0});let SF=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Na.X(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Xp(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_O(d)?"keyboard":"mouse"),this._mostRecentTarget=Xp(d))},this._onTouchstart=d=>{yO(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xp(d))},this._options=Object.assign(Object.assign({},IF),a),this.modalityDetected=this._modality.pipe((0,fF.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,si.x)()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,j_),i.addEventListener("mousedown",this._onMousedown,j_),i.addEventListener("touchstart",this._onTouchstart,j_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,j_),document.removeEventListener("mousedown",this._onMousedown,j_),document.removeEventListener("touchstart",this._onTouchstart,j_))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.R0b),c.LFG(W),c.LFG(TF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AF=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function MF(){return null}}),xF=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let OF=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[a,d]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==d&&i&&(d=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(AF,8),c.LFG(c.R0b),c.LFG(W),c.LFG(xF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RF=new c.OlP("cdk-focus-monitor-default-options"),mD=o0({passive:!0,capture:!0});let jS=(()=>{class n{constructor(t,r,i,a,d){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Sn.x,this._rootNodeFocusAndBlurListener=f=>{const _=Xp(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,r=!1){const i=gd(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,Dt.of)(null);const a=function eF(n){if(function XN(){if(null==FS){const n="undefined"!=typeof document?document.head:null;FS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return FS}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new Sn.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=gd(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=gd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Xp(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,mD),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,mD)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,fi.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,mD),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,mD),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(_s),c.LFG(SF),c.LFG(W,8),c.LFG(RF,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bO="cdk-high-contrast-black-on-white",EO="cdk-high-contrast-white-on-black",HS="cdk-high-contrast-active";let wO=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(HS),t.remove(bO),t.remove(EO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(HS),t.add(bO)):2===r&&(t.add(HS),t.add(EO))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kF=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wO))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[US]]}),n})();class CO{}const md="*";function _D(n,e){return{type:7,name:n,definitions:e,options:{}}}function H_(n,e=null){return{type:4,styles:e,timings:n}}function DO(n,e=null){return{type:2,steps:n,options:e}}function Jo(n){return{type:6,styles:n,offset:null}}function eg(n,e,t){return{type:0,name:n,styles:e,options:t}}function tg(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function NF(n=null){return{type:9,options:n}}function FF(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function TO(n){Promise.resolve(null).then(n)}class l0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class IO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?TO(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const vn=!1;function SO(n){return new c.vHH(3e3,vn)}function mL(){return"undefined"!=typeof window&&void 0!==window.document}function GS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function rf(n){switch(n.length){case 0:return new l0;case 1:return n[0];default:return new IO(n)}}function AO(n,e,t,r,i={},a={}){const d=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const x=I.offset,V=x==_,Y=V&&w||{};Object.keys(I).forEach(J=>{let ge=J,Ue=I[J];if("offset"!==J)switch(ge=e.normalizePropertyName(ge,d),Ue){case"!":Ue=i[J];break;case md:Ue=a[J];break;default:Ue=e.normalizeStyleValue(J,ge,Ue,d)}Y[ge]=Ue}),V||f.push(Y),w=Y,_=x}),d.length)throw function sL(n){return new c.vHH(3502,vn)}();return f}function zS(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&WS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&WS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&WS(t,"destroy",n)))}}function WS(n,e,t){const r=t.totalTime,a=qS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function qS(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function Xo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function MO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let KS=(n,e)=>!1,xO=(n,e,t)=>[],OO=null;function ZS(n){const e=n.parentNode||n.host;return e===OO?null:e}(GS()||"undefined"!=typeof Element)&&(mL()?(OO=(()=>document.documentElement)(),KS=(n,e)=>{for(;e;){if(e===n)return!0;e=ZS(e)}return!1}):KS=(n,e)=>n.contains(e),xO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ng=null,RO=!1;function kO(n){ng||(ng=function yL(){return"undefined"!=typeof document?document.body:null}()||{},RO=!!ng.style&&"WebkitAppearance"in ng.style);let e=!0;return ng.style&&!function _L(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ng.style,!e&&RO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ng.style)),e}const PO=KS,NO=xO;let FO=(()=>{class n{validateStyleProperty(t){return kO(t)}matchesElement(t,r){return!1}containsElement(t,r){return PO(t,r)}getParentElement(t){return ZS(t)}query(t,r,i){return NO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,f=[],_){return new l0(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),YS=(()=>{class n{}return n.NOOP=new FO,n})();const QS="ng-enter",vD="ng-leave",bD="ng-trigger",ED=".ng-trigger",VO="ng-animating",JS=".ng-animating";function rg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:XS(parseFloat(e[1]),e[2])}function XS(n,e){return"s"===e?1e3*n:n}function wD(n,e,t){return n.hasOwnProperty("duration")?n:function EL(n,e,t){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(SO()),{duration:0,delay:0,easing:""};i=XS(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=XS(parseFloat(_),f[4]));const w=f[5];w&&(d=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function LF(){return new c.vHH(3100,vn)}()),f=!0),a<0&&(e.push(function VF(){return new c.vHH(3101,vn)}()),f=!0),f&&e.splice(_,0,SO())}return{duration:i,delay:a,easing:d}}(n,e,t)}function $_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function sf(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else $_(n,t);return t}function UO(n,e,t){return t?e+":"+t+";":""}function jO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=UO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UO(0,DL(t),n.style[t]));n.setAttribute("style",e)}function Wc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=tA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),GS()&&jO(n))}function ig(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=tA(t);n.style[r]=""}),GS()&&jO(n))}function c0(n){return Array.isArray(n)?1==n.length?n[0]:DO(n):n}const eA=new RegExp("{{\\s*(.+?)\\s*}}","g");function HO(n){let e=[];if("string"==typeof n){let t;for(;t=eA.exec(n);)e.push(t[1]);eA.lastIndex=0}return e}function CD(n,e,t){const r=n.toString(),i=r.replace(eA,(a,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(function UF(n){return new c.vHH(3003,vn)}()),f=""),f.toString()});return i==r?n:i}function DD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const CL=/-+([a-z0-9])/g;function tA(n){return n.replace(CL,(...e)=>e[1].toUpperCase())}function DL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function jF(n){return new c.vHH(3004,vn)}()}}function $O(n,e){return window.getComputedStyle(n)[e]}function xL(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function OL(n,e,t){if(":"==n[0]){const _=function RL(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function tL(n){return new c.vHH(3016,vn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function eL(n){return new c.vHH(3015,vn)}()),e;const i=r[1],a=r[2],d=r[3];e.push(GO(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(GO(d,i))}(r,t,e)):t.push(n),t}const AD=new Set(["true","1"]),MD=new Set(["false","0"]);function GO(n,e){const t=AD.has(n)||MD.has(n),r=AD.has(e)||MD.has(e);return(i,a)=>{let d="*"==n||n==i,f="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?AD.has(n):MD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?AD.has(e):MD.has(e)),d&&f}}const kL=new RegExp("s*:selfs*,?","g");function nA(n,e,t,r){return new PL(n).build(e,t,r)}class PL{constructor(e){this._driver=e}build(e,t,r){const i=new LL(t);this._resetContextStyleTimingState(i);const a=ea(this,c0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function $F(){return new c.vHH(3006,vn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,d.push(_)}else t.errors.push(function GF(){return new c.vHH(3007,vn)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(f=>{if(xD(f)){const _=f;Object.keys(_).forEach(w=>{HO(_[w]).forEach(I=>{d.hasOwnProperty(I)||a.add(I)})})}}),a.size&&(DD(a.values()),t.errors.push(function zF(n,e){return new c.vHH(3008,vn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ea(this,c0(e.animation),t);return{type:1,matchers:xL(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:sg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ea(this,r,t)),options:sg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const f=ea(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:sg(e.options)}}visitAnimate(e,t){const r=function BL(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return rA(wD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=rA(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||wD(r,e),rA(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Jo({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,f=!1;if(!d){f=!0;const w={};r.easing&&(w.easing=r.easing),d=Jo(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(d,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==md?r.push(d):t.errors.push(function WF(n){return new c.vHH(3002,vn)}()):r.push(d)}):r.push(e.styles);let i=!1,a=null;return r.forEach(d=>{if(xD(d)){const f=d,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete d[f],void t.unsupportedCSSPropertiesFound.add(f);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let I=!0;w&&(a!=i&&a>=w.startTime&&i<=w.endTime&&(t.errors.push(function qF(n,e,t,r,i){return new c.vHH(3010,vn)}()),I=!1),a=w.startTime),I&&(_[f]={startTime:a,endTime:i}),t.options&&function wL(n,e,t){const r=e.params||{},i=HO(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function BF(n){return new c.vHH(3001,vn)}())})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function KF(){return new c.vHH(3011,vn)}()),r;let a=0;const d=[];let f=!1,_=!1,w=0;const I=e.steps.map(pt=>{const mt=this._makeStyleAst(pt,t);let dt=null!=mt.offset?mt.offset:function VL(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(xD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(xD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),ut=0;return null!=dt&&(a++,ut=mt.offset=dt),_=_||ut<0||ut>1,f=f||ut<w,w=ut,d.push(ut),mt});_&&t.errors.push(function ZF(){return new c.vHH(3012,vn)}()),f&&t.errors.push(function YF(){return new c.vHH(3200,vn)}());const x=e.steps.length;let V=0;a>0&&a<x?t.errors.push(function QF(){return new c.vHH(3202,vn)}()):0==a&&(V=1/(x-1));const Y=x-1,J=t.currentTime,ge=t.currentAnimateTimings,Ue=ge.duration;return I.forEach((pt,mt)=>{const dt=V>0?mt==Y?1:V*mt:d[mt],ut=dt*Ue;t.currentTime=J+ge.delay+ut,ge.duration=ut,this._validateStyleAst(pt,t),pt.offset=dt,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:ea(this,c0(e.animation),t),options:sg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function NL(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(kL,"")),n=n.replace(/@\*/g,ED).replace(/@\w+/g,t=>ED+"-"+t.substr(1)).replace(/:animating/g,JS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Xo(t.collectedStyles,t.currentQuerySelector,{});const f=ea(this,c0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:sg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function JF(){return new c.vHH(3013,vn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:wD(e.timings,t.errors,!0);return{type:12,animation:ea(this,c0(e.animation),t),timings:r,options:null}}}class LL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xD(n){return!Array.isArray(n)&&"object"==typeof n}function sg(n){return n?(n=$_(n)).params&&(n.params=function FL(n){return n?$_(n):null}(n.params)):n={},n}function rA(n,e,t){return{duration:n,delay:e,easing:t}}function iA(n,e,t,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class OD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HL=new RegExp(":enter","g"),GL=new RegExp(":leave","g");function sA(n,e,t,r,i,a={},d={},f,_,w=[]){return(new zL).buildKeyframes(n,e,t,r,i,a,d,f,_,w)}class zL{buildKeyframes(e,t,r,i,a,d,f,_,w,I=[]){w=w||new OD;const x=new oA(e,t,w,i,a,I,[]);x.options=_,x.currentTimeline.setStyles([d],null,x.errors,_),ea(this,r,x);const V=x.timelines.filter(Y=>Y.containsAnimation());if(Object.keys(f).length){let Y;for(let J=V.length-1;J>=0;J--){const ge=V[J];if(ge.element===t){Y=ge;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([f],null,x.errors,_)}return V.length?V.map(Y=>Y.buildKeyframes()):[iA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?rg(r.duration):null,f=null!=r.delay?rg(r.delay):null;return 0!==d&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,d,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=RD);const d=rg(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>ea(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?rg(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),ea(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return wD(t.params?CD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?rg(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=RD);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,w);a&&x.delayNextStep(a),w===t.element&&(_=x.currentTimeline),ea(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),f=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;ea(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const RD={};class oA{constructor(e,t,r,i,a,d,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=RD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new kD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=rg(r.duration)),null!=r.delay&&(i.delay=rg(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=CD(a[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new oA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=RD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new WL(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(HL,"."+this._enterClassName)).replace(GL,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&d.push(function XF(n){return new c.vHH(3014,vn)}()),f}}class kD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new kD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||md,this._currentKeyframe[t]=md}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},d=function qL(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=md})):sf(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const _=CD(d[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:md),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=sf(f,!0);Object.keys(w).forEach(I=>{const x=w[I];"!"==x?e.add(I):x==md&&t.add(I)}),r||(w.offset=_/this.duration),i.push(w)});const a=e.size?DD(e.values()):[],d=t.size?DD(t.values()):[];if(r){const f=i[0],_=$_(f);f.offset=0,_.offset=1,i=[f,_]}return iA(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class WL extends kD{constructor(e,t,r,i,a,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,f=t/d,_=sf(e[0],!1);_.offset=0,a.push(_);const w=sf(e[0],!1);w.offset=qO(f),a.push(w);const I=e.length-1;for(let x=1;x<=I;x++){let V=sf(e[x],!1);V.offset=qO((t+V.offset*r)/d),a.push(V)}r=d,t=0,i="",e=a}return iA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function qO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class aA{}class KL extends aA{normalizePropertyName(e,t){return tA(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(ZL[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function HF(n,e){return new c.vHH(3005,vn)}())}return d+a}}const ZL=(()=>function YL(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function KO(n,e,t,r,i,a,d,f,_,w,I,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:x,errors:V}}const lA={};class ZO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function QL(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):d}build(e,t,r,i,a,d,f,_,w,I){const x=[],V=this.ast.options&&this.ast.options.params||lA,J=this.buildStyles(r,f&&f.params||lA,x),ge=_&&_.params||lA,Ue=this.buildStyles(i,ge,x),pt=new Set,mt=new Map,dt=new Map,ut="void"===i,Kt={params:Object.assign(Object.assign({},V),ge)},sn=I?[]:sA(e,t,this.ast.animation,a,d,J,Ue,Kt,w,x);let xn=0;if(sn.forEach(_d=>{xn=Math.max(_d.duration+_d.delay,xn)}),x.length)return KO(t,this._triggerName,r,i,ut,J,Ue,[],[],mt,dt,xn,x);sn.forEach(_d=>{const yd=_d.element,fP=Xo(mt,yd,{});_d.preStyleProps.forEach(pg=>fP[pg]=!0);const w0=Xo(dt,yd,{});_d.postStyleProps.forEach(pg=>w0[pg]=!0),yd!==t&&pt.add(yd)});const Xi=DD(pt.values());return KO(t,this._triggerName,r,i,ut,J,Ue,sn,Xi,mt,dt,xn)}}class JL{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=$_(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(f=>{let _=d[f];_.length>1&&(_=CD(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class eV{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new JL(i.style,i.options&&i.options.params||{},r)}),YO(this.states,"true","1"),YO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ZO(e,i,this.states))}),this.fallbackTransition=function tV(n,e,t){return new ZO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function YO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const nV=new OD;class rV{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=nA(this._driver,t,r,[]);if(r.length)throw function oL(n){return new c.vHH(3503,vn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=AO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let d;const f=new Map;if(a?(d=sA(this._driver,t,a,QS,vD,{},{},r,nV,i),d.forEach(I=>{const x=Xo(f,I.element,{});I.postStyleProps.forEach(V=>x[V]=null)})):(i.push(function aL(){return new c.vHH(3300,vn)}()),d=[]),i.length)throw function lL(n){return new c.vHH(3504,vn)}();f.forEach((I,x)=>{Object.keys(I).forEach(V=>{I[V]=this._driver.computeStyle(x,V,md)})});const w=rf(d.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,{},x)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function cL(n){return new c.vHH(3301,vn)}();return t}listen(e,t,r,i){const a=qS(t,"","","");return zS(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const QO="ng-animate-queued",cA="ng-animate-disabled",lV=[],JO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class uA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function fV(n){return null!=n?n:null}(r?e.value:e),r){const a=$_(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const u0="void",dA=new uA(u0);class uV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Va(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function uL(n,e){return new c.vHH(3302,vn)}();if(null==r||0==r.length)throw function dL(n){return new c.vHH(3303,vn)}();if(!function pV(n){return"start"==n||"done"==n}(r))throw function hL(n,e){return new c.vHH(3400,vn)}();const a=Xo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const f=Xo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Va(e,bD),Va(e,bD+"-"+t),f[t]=dA),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function fL(n){return new c.vHH(3401,vn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new hA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Va(e,bD),Va(e,bD+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new uA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=dA),w.value!==u0&&_.value===w.value){if(!function _V(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ge=[],Ue=a.matchStyles(_.value,_.params,ge),pt=a.matchStyles(w.value,w.params,ge);ge.length?this._engine.reportError(ge):this._engine.afterFlush(()=>{ig(e,Ue),Wc(e,pt)})}return}const V=Xo(this._engine.playersByElement,e,[]);V.forEach(ge=>{ge.namespaceId==this.id&&ge.triggerName==t&&ge.queued&&ge.destroy()});let Y=a.matchTransition(_.value,w.value,e,w.params),J=!1;if(!Y){if(!i)return;Y=a.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Y,fromState:_,toState:w,player:d,isFallbackTransition:J}),J||(Va(e,QO),d.onStart(()=>{G_(e,QO)})),d.onDone(()=>{let ge=this.players.indexOf(d);ge>=0&&this.players.splice(ge,1);const Ue=this._engine.playersByElement.get(e);if(Ue){let pt=Ue.indexOf(d);pt>=0&&Ue.splice(pt,1)}}),this.players.push(d),V.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ED,!0);r.forEach(i=>{if(i[La])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(d.set(_,a[_].value),this._triggers[_]){const w=this.trigger(e,_,u0,i);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&rf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const _=this._triggers[d].fallbackTransition,w=r[d]||dA,I=new uA(u0),x=new hA(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:w,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[La];(!a||a===JO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Va(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const _=qS(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,zS(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class dV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new uV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let d=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const w=r.indexOf(_);r.splice(w+1,0,e),d=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(PD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!PD(t))return;const a=t[La];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Va(e,cA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),G_(e,cA))}removeNode(e,t,r,i){if(PD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[La]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return PD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,ED,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[La];if(r&&r.setForRemoval){if(e[La]=JO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(cA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Va(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?rf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function pL(n){return new c.vHH(3402,vn)}()}_flushAnimations(e,t){const r=new OD,i=[],a=new Map,d=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(gt=>{I.add(gt);const Rt=this.driver.query(gt,".ng-animate-queued",!0);for(let Ut=0;Ut<Rt.length;Ut++)I.add(Rt[Ut])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),Y=tR(V,this.collectedEnterElements),J=new Map;let ge=0;Y.forEach((gt,Rt)=>{const Ut=QS+ge++;J.set(Rt,Ut),gt.forEach(An=>Va(An,Ut))});const Ue=[],pt=new Set,mt=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Rt=this.collectedLeaveElements[gt],Ut=Rt[La];Ut&&Ut.setForRemoval&&(Ue.push(Rt),pt.add(Rt),Ut.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(An=>pt.add(An)):mt.add(Rt))}const dt=new Map,ut=tR(V,Array.from(pt));ut.forEach((gt,Rt)=>{const Ut=vD+ge++;dt.set(Rt,Ut),gt.forEach(An=>Va(An,Ut))}),e.push(()=>{Y.forEach((gt,Rt)=>{const Ut=J.get(Rt);gt.forEach(An=>G_(An,Ut))}),ut.forEach((gt,Rt)=>{const Ut=dt.get(Rt);gt.forEach(An=>G_(An,Ut))}),Ue.forEach(gt=>{this.processLeaveNode(gt)})});const Kt=[],sn=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Ut=>{const An=Ut.player,Fi=Ut.element;if(Kt.push(An),this.collectedEnterElements.length){const Us=Fi[La];if(Us&&Us.setForMove){if(Us.previousTriggersValues&&Us.previousTriggersValues.has(Ut.triggerName)){const gg=Us.previousTriggersValues.get(Ut.triggerName),hf=this.statesByElement.get(Ut.element);hf&&hf[Ut.triggerName]&&(hf[Ut.triggerName].value=gg)}return void An.destroy()}}const Yc=!x||!this.driver.containsElement(x,Fi),na=dt.get(Fi),df=J.get(Fi),Or=this._buildInstruction(Ut,r,df,na,Yc);if(Or.errors&&Or.errors.length)return void sn.push(Or);if(Yc)return An.onStart(()=>ig(Fi,Or.fromStyles)),An.onDestroy(()=>Wc(Fi,Or.toStyles)),void i.push(An);if(Ut.isFallbackTransition)return An.onStart(()=>ig(Fi,Or.fromStyles)),An.onDestroy(()=>Wc(Fi,Or.toStyles)),void i.push(An);const mP=[];Or.timelines.forEach(Us=>{Us.stretchStartingKeyframe=!0,this.disabledNodes.has(Us.element)||mP.push(Us)}),Or.timelines=mP,r.append(Fi,Or.timelines),d.push({instruction:Or,player:An,element:Fi}),Or.queriedElements.forEach(Us=>Xo(f,Us,[]).push(An)),Or.preStyleProps.forEach((Us,gg)=>{const hf=Object.keys(Us);if(hf.length){let mg=_.get(gg);mg||_.set(gg,mg=new Set),hf.forEach(qA=>mg.add(qA))}}),Or.postStyleProps.forEach((Us,gg)=>{const hf=Object.keys(Us);let mg=w.get(gg);mg||w.set(gg,mg=new Set),hf.forEach(qA=>mg.add(qA))})});if(sn.length){const gt=[];sn.forEach(Rt=>{gt.push(function gL(n,e){return new c.vHH(3505,vn)}())}),Kt.forEach(Rt=>Rt.destroy()),this.reportError(gt)}const xn=new Map,Xi=new Map;d.forEach(gt=>{const Rt=gt.element;r.has(Rt)&&(Xi.set(Rt,Rt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,xn))}),i.forEach(gt=>{const Rt=gt.element;this._getPreviousPlayers(Rt,!1,gt.namespaceId,gt.triggerName,null).forEach(An=>{Xo(xn,Rt,[]).push(An),An.destroy()})});const _d=Ue.filter(gt=>rR(gt,_,w)),yd=new Map;eR(yd,this.driver,mt,w,md).forEach(gt=>{rR(gt,_,w)&&_d.push(gt)});const w0=new Map;Y.forEach((gt,Rt)=>{eR(w0,this.driver,new Set(gt),_,"!")}),_d.forEach(gt=>{const Rt=yd.get(gt),Ut=w0.get(gt);yd.set(gt,Object.assign(Object.assign({},Rt),Ut))});const pg=[],pP=[],gP={};d.forEach(gt=>{const{element:Rt,player:Ut,instruction:An}=gt;if(r.has(Rt)){if(I.has(Rt))return Ut.onDestroy(()=>Wc(Rt,An.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(An.totalTime),void i.push(Ut);let Fi=gP;if(Xi.size>1){let na=Rt;const df=[];for(;na=na.parentNode;){const Or=Xi.get(na);if(Or){Fi=Or;break}df.push(na)}df.forEach(Or=>Xi.set(Or,Fi))}const Yc=this._buildAnimation(Ut.namespaceId,An,xn,a,w0,yd);if(Ut.setRealPlayer(Yc),Fi===gP)pg.push(Ut);else{const na=this.playersByElement.get(Fi);na&&na.length&&(Ut.parentPlayer=rf(na)),i.push(Ut)}}else ig(Rt,An.fromStyles),Ut.onDestroy(()=>Wc(Rt,An.toStyles)),pP.push(Ut),I.has(Rt)&&i.push(Ut)}),pP.forEach(gt=>{const Rt=a.get(gt.element);if(Rt&&Rt.length){const Ut=rf(Rt);gt.setRealPlayer(Ut)}}),i.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<Ue.length;gt++){const Rt=Ue[gt],Ut=Rt[La];if(G_(Rt,vD),Ut&&Ut.hasAnimation)continue;let An=[];if(f.size){let Yc=f.get(Rt);Yc&&Yc.length&&An.push(...Yc);let na=this.driver.query(Rt,JS,!0);for(let df=0;df<na.length;df++){let Or=f.get(na[df]);Or&&Or.length&&An.push(...Or)}}const Fi=An.filter(Yc=>!Yc.destroyed);Fi.length?gV(this,Rt,Fi):this.processLeaveNode(Rt)}return Ue.length=0,pg.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Rt=this.players.indexOf(gt);this.players.splice(Rt,1)}),gt.play()}),pg}elementContainsData(e,t){let r=!1;const i=t[La];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==u0;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||d.push(w)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,x=Xo(r,w,[]);this._getPreviousPlayers(w,I,d,f,t.toState).forEach(Y=>{const J=Y.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),Y.destroy(),x.push(Y)})}ig(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const f=t.triggerName,_=t.element,w=[],I=new Set,x=new Set,V=t.timelines.map(J=>{const ge=J.element;I.add(ge);const Ue=ge[La];if(Ue&&Ue.removedBeforeQueried)return new l0(J.duration,J.delay);const pt=ge!==_,mt=function mV(n){const e=[];return nR(n,e),e}((r.get(ge)||lV).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===ge),dt=a.get(ge),ut=d.get(ge),Kt=AO(0,this._normalizer,0,J.keyframes,dt,ut),sn=this._buildPlayer(J,Kt,mt);if(J.subTimeline&&i&&x.add(ge),pt){const xn=new hA(e,f,ge);xn.setRealPlayer(sn),w.push(xn)}return sn});w.forEach(J=>{Xo(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function hV(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,J.element,J))}),I.forEach(J=>Va(J,VO));const Y=rf(V);return Y.onDestroy(()=>{I.forEach(J=>G_(J,VO)),Wc(_,t.toStyles)}),x.forEach(J=>{Xo(i,J,[]).push(Y)}),Y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new l0(e.duration,e.delay)}}class hA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new l0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>zS(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function PD(n){return n&&1===n.nodeType}function XO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function eR(n,e,t,r,i){const a=[];t.forEach(_=>a.push(XO(_)));const d=[];r.forEach((_,w)=>{const I={};_.forEach(x=>{const V=I[x]=e.computeStyle(w,x,i);(!V||0==V.length)&&(w[La]=cV,d.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>XO(_,a[f++])),d}function tR(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:d(w),a.set(f,_),_}return e.forEach(f=>{const _=d(f);1!==_&&t.get(_).push(f)}),t}function Va(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function G_(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function gV(n,e,t){rf(t).onDone(()=>n.processLeaveNode(e))}function nR(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof IO?nR(r.players,e):e.push(r)}}function rR(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class ND{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new dV(e,t,r),this._timelineEngine=new rV(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const _=[],I=nA(this._driver,a,_,[]);if(_.length)throw function iL(n,e){return new c.vHH(3404,vn)}();f=function XL(n,e,t){return new eV(n,e,t)}(i,I,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=MO(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,f]=MO(r);return this._timelineEngine.listen(d,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Wc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wc(this._element,this._initialStyles),this._endStyles&&(Wc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ig(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ig(this._element,this._endStyles),this._endStyles=null),Wc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function fA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];bV(i)&&(e=e||{},e[i]=n[i])}return e}function bV(n){return"display"===n||"position"===n}class iR{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:$O(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class EV{validateStyleProperty(e){return kO(e)}matchesElement(e,t){return!1}containsElement(e,t){return PO(e,t)}getParentElement(e){return ZS(e)}query(e,t,r){return NO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const w={},I=d.filter(V=>V instanceof iR);(function TL(n,e){return 0===n||0===e})(r,i)&&I.forEach(V=>{let Y=V.currentSnapshot;Object.keys(Y).forEach(J=>w[J]=Y[J])}),t=function IL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],d=[];if(r.forEach(f=>{a.hasOwnProperty(f)||d.push(f),a[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(_){f[_]=$O(n,_)})}}return e}(e,t=t.map(V=>sf(V,!1)),w);const x=function yV(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=fA(e[0]),e.length>1&&(r=fA(e[e.length-1]))):e&&(t=fA(e)),t||r?new vV(n,t,r):null}(e,t);return new iR(e,t,_,x)}}let wV=(()=>{class n extends CO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?DO(t):t;return sR(this._renderer,null,r,"register",[i]),new CV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class CV extends class PF{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new DV(this._id,e,t||{},this._renderer)}}class DV{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return sR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function sR(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const oR="@.disabled";let TV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const f=null==d?void 0:d.parentNode(a);f&&d.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new aR("",a,this.engine),this._rendererCache.set(a,I)),I}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(d,f,t,I.name,I)};return r.data.animation.forEach(_),new IV(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(ND),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class aR{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==oR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IV extends aR{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oR?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function SV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function AV(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let MV=(()=>{class n extends ND{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(YS),c.LFG(aA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ba=new c.OlP("AnimationModuleType"),lR=[{provide:CO,useClass:wV},{provide:aA,useFactory:function xV(){return new KL}},{provide:ND,useClass:MV},{provide:c.FYo,useFactory:function OV(n,e,t){return new TV(n,e,t)},deps:[Fn,ND,c.R0b]}],cR=[{provide:YS,useFactory:()=>new EV},{provide:Ba,useValue:"BrowserAnimations"},...lR],RV=[{provide:YS,useClass:FO},{provide:Ba,useValue:"NoopAnimations"},...lR];let kV=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?RV:cR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:cR,imports:[la]}),n})();function PV(n,e){if(1&n&&c._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=c.oxw();c.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function NV(n,e){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("(",t.group.label,")")}}const FV=["*"],VV=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function LV(){return!0}});let ta=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wO),c.LFG(VV,8),c.LFG(W))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[r0],r0]}),n})();function pA(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ni(e)}}}function dR(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function gA(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ni(e)}}}function hR(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?gD(t):this.defaultTabIndex}}}function fR(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Sn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let mA=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UV{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pR={enterDuration:225,exitDuration:150},_A=o0({passive:!0}),gR=["mousedown","touchstart"],mR=["mouseup","mouseleave","touchend","touchcancel"];class _R{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=gd(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},pR),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const d=r.radius||function $V(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,_=t-i.top,w=a.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-d+"px",I.style.top=_-d+"px",I.style.height=2*d+"px",I.style.width=2*d+"px",null!=r.color&&(I.style.backgroundColor=r.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I),function HV(n){window.getComputedStyle(n).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const x=new UV(this,I,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const V=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!V||!this._isPointerDown)&&x.fadeOut()},w),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},pR),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=gd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(gR))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mR),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=_O(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!yO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_A)})})}_removeTriggerEvents(){this._triggerElement&&(gR.forEach(e=>{this._triggerElement.removeEventListener(e,this,_A)}),this._pointerUpEventsRegistered&&mR.forEach(e=>{this._triggerElement.removeEventListener(e,this,_A)}))}}const yA=new c.OlP("mat-ripple-global-options");let LD=(()=>{class n{constructor(t,r,i,a,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new _R(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(_s),c.Y36(yA,8),c.Y36(Ba,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),vA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ta],ta]}),n})(),GV=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ba,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),zV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ta]]}),n})();const yR=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),vR=new c.OlP("MatOptgroup");let WV=0;class qV{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let KV=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+WV++,this.onSelectionChange=new c.vpe,this._stateChanges=new Sn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Ni(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!U_(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new qV(this,t))}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),bA=(()=>{class n extends KV{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(yR,8),c.Y36(vR,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(c.Ikx("id",r.id),c.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),c.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:FV,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,PV,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,NV,2,1,"span",2),c._UZ(4,"div",3)),2&t&&(c.Q6J("ngIf",r.multiple),c.xp6(3),c.Q6J("ngIf",r.group&&r.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[GV,fe,LD],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function bR(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let d=0;d<n+1;d++)r[d].group&&r[d].group===i[a]&&a++;return a}return 0}let ER=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vA,Hi,ta,zV]]}),n})();const YV=["mat-button",""],QV=["*"],XV=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],eB=dR(pA(gA(class{constructor(n){this._elementRef=n}})));let og=(()=>{class n extends eB{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of XV)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(jS),c.Y36(Ba,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&c.Gf(LD,5),2&t){let i;c.iGM(i=c.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:YV,ngContentSelectors:QV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&t&&(c.xp6(2),c.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[LD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vA,ta],ta]}),n})(),nB=(()=>{class n{constructor(t){this.authService=t}onLogout(){this.authService.onLogout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],decls:6,vars:0,consts:[["backgroundColor","primary",1,"header__logo-container"],[1,"header__logo-text"],["src","../../../assets/ice-cream.png","alt","logo",1,"header__logo-img"],["mat-button","","color","accent",1,"header__logout-btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h1",1),c._uU(2,"IceCreamShop"),c.qZA(),c._UZ(3,"img",2),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){return r.onLogout()}),c._uU(5,"Wyloguj"),c.qZA())},directives:[og],styles:[".header__logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:90px;background-color:#7b1fa2;color:#ff44c6}.header__logo-text[_ngcontent-%COMP%]{font-family:Oleo Script Swash Caps,cursive;font-size:45px;margin-top:16px}.header__logo-img[_ngcontent-%COMP%]{height:80px}.header__logout-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:0;cursor:pointer}@media (max-width: 768px){.header__logo-text[_ngcontent-%COMP%]{font-size:30px}.header__logo-img[_ngcontent-%COMP%]{height:50px}}@media (max-width: 375px){.header__logo-text[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),n})();class EA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class rB extends EA{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class wR extends EA{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class iB extends EA{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class oB extends class sB{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof rB?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof wR?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof iB?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let CR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();var aB=S(1144);const lB=["addListener","removeListener"],cB=["addEventListener","removeEventListener"],uB=["on","off"];function ag(n,e,t,r){if((0,Qo.m)(t)&&(r=t,t=void 0),r)return ag(n,e,t).pipe(hS(r));const[i,a]=function fB(n){return(0,Qo.m)(n.addEventListener)&&(0,Qo.m)(n.removeEventListener)}(n)?cB.map(d=>f=>n[d](e,f,t)):function dB(n){return(0,Qo.m)(n.addListener)&&(0,Qo.m)(n.removeListener)}(n)?lB.map(DR(n,e)):function hB(n){return(0,Qo.m)(n.on)&&(0,Qo.m)(n.off)}(n)?uB.map(DR(n,e)):[];if(!i&&(0,aB.z)(n))return(0,Ls.z)(d=>ag(d,e,t))((0,QC.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new ii.y(d=>{const f=(..._)=>d.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function DR(n,e){return t=>r=>n[t](e,r)}var pB=S(3532),gB=S(1165);function TR(n=0,e,t=no.P){let r=-1;return null!=e&&((0,pB.K)(e)?t=e:r=e),new ii.y(i=>{let a=(0,gB.q)(n)?+n-t.now():n;a<0&&(a=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},a)})}var IR=S(4408);const h0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=h0;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Hc.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=h0;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=h0;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var SR=S(7565);new class _B extends SR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class mB extends IR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=h0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(h0.cancelAnimationFrame(t),e._scheduled=void 0)}});let wA,vB=1;const VD={};function AR(n){return n in VD&&(delete VD[n],!0)}const bB={setImmediate(n){const e=vB++;return VD[e]=!0,wA||(wA=Promise.resolve()),wA.then(()=>AR(e)&&n()),e},clearImmediate(n){AR(n)}},{setImmediate:EB,clearImmediate:wB}=bB,BD={setImmediate(...n){const{delegate:e}=BD;return((null==e?void 0:e.setImmediate)||EB)(...n)},clearImmediate(n){const{delegate:e}=BD;return((null==e?void 0:e.clearImmediate)||wB)(n)},delegate:void 0};new class DB extends SR.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class CB extends IR.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=BD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(BD.clearImmediate(t),e._scheduled=void 0)}});function MR(n,e=no.z){return function IB(n){return(0,Mi.e)((e,t)=>{let r=!1,i=null,a=null,d=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const w=i;i=null,t.next(w)}d&&t.complete()},_=()=>{a=null,d&&t.complete()};e.subscribe((0,Lr.x)(t,w=>{r=!0,i=w,a||(0,QC.Xf)(n(w)).subscribe(a=(0,Lr.x)(t,f,_))},()=>{d=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>TR(n,e))}let AB=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Sn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ii.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(MR(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Dt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,fr.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=gd(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ag(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(_s),c.LFG(W,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z_=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Sn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(MR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.R0b),c.LFG(W,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[r0,CA],r0,CA]}),n})();const OR=["*"],xB=["tabListContainer"],OB=["tabList"],RB=["tabListInner"],kB=["nextPaginator"],PB=["previousPaginator"],VB=["mat-tab-nav-bar",""],BB=new c.OlP("MatInkBarPositioner",{providedIn:"root",factory:function UB(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let RR=(()=>{class n{constructor(t,r,i,a){this._elementRef=t,this._ngZone=r,this._inkBarPositioner=i,this._animationMode=a}alignToElement(t){this.show(),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(()=>{const r=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=r.left,i.style.width=r.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(BB),c.Y36(Ba,8))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)}}),n})();const kR=o0({passive:!0});let $B=(()=>{class n{constructor(t,r,i,a,d,f,_){this._elementRef=t,this._changeDetectorRef=r,this._viewportRuler=i,this._dir=a,this._ngZone=d,this._platform=f,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Sn.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Sn.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new c.vpe,this.indexFocused=new c.vpe,d.runOutsideAngular(()=>{ag(t.nativeElement,"mouseleave").pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=gD(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){ag(this._previousPaginator.nativeElement,"touchstart",kR).pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ag(this._nextPaginator.nativeElement,"touchstart",kR).pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,Dt.of)("ltr"),r=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new vF(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(i),(0,kl.T)(t,r,this._items.changes).pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),i()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,fi.R)(this._destroyed)).subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!U_(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const r=this._items?this._items.toArray()[t]:null;return!!r&&!r.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const r=this._tabListContainer.nativeElement;r.scrollLeft="ltr"==this._getLayoutDirection()?0:r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,r="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const r=this._items?this._items.toArray()[t]:null;if(!r)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:d}=r.elementRef.nativeElement;let f,_;"ltr"==this._getLayoutDirection()?(f=a,_=f+d):(_=this._tabListInner.nativeElement.offsetWidth-a,f=_-d);const w=this.scrollDistance,I=this.scrollDistance+i;f<w?this.scrollDistance-=w-f+60:_>I&&(this.scrollDistance+=_-I+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=t?t.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,r){r&&null!=r.button&&0!==r.button||(this._stopInterval(),TR(650,100).pipe((0,fi.R)((0,kl.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:i,distance:a}=this._scrollHeader(t);(0===a||a>=i)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(z_),c.Y36(Qp,8),c.Y36(c.R0b),c.Y36(_s),c.Y36(Ba,8))},n.\u0275dir=c.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),NR=0,FR=(()=>{class n extends $B{constructor(t,r,i,a,d,f,_){super(t,a,d,r,i,f,_),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const r=this._elementRef.nativeElement.classList;r.remove(`mat-background-${this.backgroundColor}`),t&&r.add(`mat-background-${t}`),this._backgroundColor=t}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ni(t)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe(ss(null),(0,fi.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const t=this._items.toArray();for(let r=0;r<t.length;r++)if(t[r].active)return this.selectedIndex=r,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=t[r].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Qp,8),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(z_),c.Y36(_s),c.Y36(Ba,8))},n.\u0275dir=c.lG2({type:n,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[c.qOj]}),n})(),LR=(()=>{class n extends FR{constructor(t,r,i,a,d,f,_){super(t,r,i,a,d,f,_)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Qp,8),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(z_),c.Y36(_s),c.Y36(Ba,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,VR,5),2&t){let a;c.iGM(a=c.CRH())&&(r._items=a)}},viewQuery:function(t,r){if(1&t&&(c.Gf(RR,7),c.Gf(xB,7),c.Gf(OB,7),c.Gf(RB,7),c.Gf(kB,5),c.Gf(PB,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._inkBar=i.first),c.iGM(i=c.CRH())&&(r._tabListContainer=i.first),c.iGM(i=c.CRH())&&(r._tabList=i.first),c.iGM(i=c.CRH())&&(r._tabListInner=i.first),c.iGM(i=c.CRH())&&(r._nextPaginator=i.first),c.iGM(i=c.CRH())&&(r._previousPaginator=i.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(t,r){2&t&&(c.uIk("role",r._getRole()),c.ekj("mat-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-tab-header-rtl","rtl"==r._getLayoutDirection())("mat-primary","warn"!==r.color&&"accent"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[c.qOj],attrs:VB,ngContentSelectors:OR,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"button",0,1),c.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(a){return r._handlePaginatorPress("before",a)})("touchend",function(){return r._stopInterval()}),c._UZ(2,"div",2),c.qZA(),c.TgZ(3,"div",3,4),c.NdJ("keydown",function(a){return r._handleKeydown(a)}),c.TgZ(5,"div",5,6),c.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),c.TgZ(7,"div",7,8),c.Hsn(9),c.qZA(),c._UZ(10,"mat-ink-bar"),c.qZA()(),c.TgZ(11,"button",9,10),c.NdJ("mousedown",function(a){return r._handlePaginatorPress("after",a)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),c._UZ(13,"div",2),c.qZA()),2&t&&(c.ekj("mat-tab-header-pagination-disabled",r._disableScrollBefore),c.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),c.xp6(5),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),c.xp6(6),c.ekj("mat-tab-header-pagination-disabled",r._disableScrollAfter),c.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},directives:[LD,hO,RR],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n"],encapsulation:2}),n})();const GB=hR(gA(pA(class{})));let zB=(()=>{class n extends GB{constructor(t,r,i,a,d,f){super(),this._tabNavBar=t,this.elementRef=r,this._focusMonitor=d,this._isActive=!1,this.id="mat-tab-link-"+NR++,this.rippleConfig=i||{},this.tabIndex=parseInt(a)||0,"NoopAnimations"===f&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(t){const r=Ni(t);r!==this._isActive&&(this._isActive=r,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(t){this._tabNavBar.tabPanel&&32===t.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){var t;return this._tabNavBar.tabPanel?null===(t=this._tabNavBar.tabPanel)||void 0===t?void 0:t.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive?0:-1:this.tabIndex}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(FR),c.Y36(c.SBq),c.Y36(yA,8),c.$8M("tabindex"),c.Y36(jS),c.Y36(Ba,8))},n.\u0275dir=c.lG2({type:n,inputs:{active:"active",id:"id"},features:[c.qOj]}),n})(),VR=(()=>{class n extends zB{constructor(t,r,i,a,d,f,_,w){super(t,r,d,f,_,w),this._tabLinkRipple=new _R(this,i,r,a),this._tabLinkRipple.setupTriggerEvents(r.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(LR),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(_s),c.Y36(yA,8),c.$8M("tabindex"),c.Y36(jS),c.Y36(Ba,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._handleFocus()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(c.uIk("aria-controls",r._getAriaControls())("aria-current",r._getAriaCurrent())("aria-disabled",r.disabled)("aria-selected",r._getAriaSelected())("id",r.id)("tabIndex",r._getTabIndex())("role",r._getRole()),c.ekj("mat-tab-disabled",r.disabled)("mat-tab-label-active",r.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[c.qOj]}),n})(),WB=(()=>{class n{constructor(){this.id="mat-tab-nav-panel-"+NR++}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tab-nav-panel"]],hostAttrs:["role","tabpanel",1,"mat-tab-nav-panel"],hostVars:2,hostBindings:function(t,r){2&t&&c.uIk("aria-labelledby",r._activeTabId)("id",r.id)},inputs:{id:"id"},exportAs:["matTabNavPanel"],ngContentSelectors:OR,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hi,ta,CR,vA,US,kF],ta]}),n})();function KB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(3).activeLinkIceman=a}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=c.oxw(3);c.Q6J("active",i.activeLinkIceman==t)("routerLink",i.icemanRoutes[r]),c.xp6(1),c.hij("",t," ")}}function ZB(n,e){if(1&n&&(c.TgZ(0,"nav",3),c.YNc(1,KB,2,3,"a",4),c.qZA()),2&n){c.oxw();const t=c.MAs(4),r=c.oxw();c.Q6J("tabPanel",t),c.xp6(1),c.Q6J("ngForOf",r.icemanLinks)}}function YB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",5),c.NdJ("click",function(){const a=c.CHM(t).$implicit;return c.oxw(3).activeLinkClient=a}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=c.oxw(3);c.Q6J("active",i.activeLinkClient==t)("routerLink",i.clientRoutes[r]),c.xp6(1),c.hij("",t," ")}}function QB(n,e){if(1&n&&(c.TgZ(0,"nav",3),c.YNc(1,YB,2,3,"a",4),c.qZA()),2&n){c.oxw();const t=c.MAs(4),r=c.oxw();c.Q6J("tabPanel",t),c.xp6(1),c.Q6J("ngForOf",r.clientLinks)}}function JB(n,e){if(1&n&&(c.ynx(0),c.YNc(1,ZB,2,2,"nav",1),c.YNc(2,QB,2,2,"nav",1),c._UZ(3,"mat-tab-nav-panel",null,2),c.BQk()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf","client"===t)}}let XB=(()=>{class n{constructor(t){this.store=t,this.role$=this.store.select(r=>r.user.role),this.icemanRoutes=["orders/","flavors/","amounts/","clients/"],this.icemanLinks=["Zam\xf3wienia","Smaki","Jednostki","Klienci"],this.activeLinkIceman=this.icemanLinks[0],this.clientRoutes=["orders/","flavors/","amounts/","clients/"],this.clientLinks=["Zam\xf3wienia"," Ulubione smaki"],this.activeLinkClient=this.clientLinks[0],this.background="accent"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ln.yh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navigation"]],decls:2,vars:3,consts:[[4,"ngIf"],["mat-tab-nav-bar","","mat-stretch-tabs","","backgroundColor","accent",3,"tabPanel",4,"ngIf"],["tabPanel",""],["mat-tab-nav-bar","","mat-stretch-tabs","","backgroundColor","accent",3,"tabPanel"],["mat-tab-link","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","",3,"active","routerLink","click"]],template:function(t,r){1&t&&(c.YNc(0,JB,5,2,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,LR,Nn,hD,VR,WB],pipes:[ji],styles:[".nav__container[_ngcontent-%COMP%]{height:50px;background-color:#69f0ae}"],changeDetection:0}),n})();function e2(n,e){1&n&&(c.TgZ(0,"div"),c._UZ(1,"app-header")(2,"app-navigation"),c.qZA())}let t2=(()=>{class n{constructor(t){this.store=t,this.authenticated$=this.store.select(r=>r.auth.isAuthenticated)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ln.yh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-shell"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.YNc(0,e2,3,0,"div",0),c.ALo(1,"async"),c.TgZ(2,"main"),c._UZ(3,"router-outlet"),c.qZA()),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.authenticated$))},directives:[fe,nB,XB,SS],pipes:[ji],styles:["[_nghost-%COMP%]{width:100vw}main[_ngcontent-%COMP%]{padding:30px;display:flex;justify-content:center}"],changeDetection:0}),n})(),n2=(()=>{class n{constructor(t){this.store=t,this.auth$=this.store.select(r=>r.auth.isAuthenticated)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ln.yh))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-shell")},directives:[t2],styles:[""],changeDetection:0}),n})();const DA_firebase={apiKey:"AIzaSyDnMnWw0gFGDOjJ_Ck2gB89uMig_jhWKVg",authDomain:"icecreamshop-9d27b.firebaseapp.com",databaseURL:"https://icecreamshop-9d27b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"icecreamshop-9d27b",storageBucket:"icecreamshop-9d27b.appspot.com",messagingSenderId:"859952426284",appId:"1:859952426284:web:9cae43c0595bfc20b55089"};let BR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),lg=(()=>{class n extends BR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const qc=new c.OlP("NgValueAccessor"),o2={provide:qc,useExisting:(0,c.Gpc)(()=>af),multi:!0},l2=new c.OlP("CompositionEventMode");let af=(()=>{class n extends BR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a2(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(l2,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([o2]),c.qOj]}),n})();function lf(n){return null==n||0===n.length}function jR(n){return null!=n&&"number"==typeof n.length}const ys=new c.OlP("NgValidators"),cf=new c.OlP("NgAsyncValidators"),c2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class HR{static min(e){return function $R(n){return e=>{if(lf(e.value)||lf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function GR(n){return e=>{if(lf(e.value)||lf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return zR(e)}static requiredTrue(e){return function WR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function qR(n){return lf(n.value)||c2.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function KR(n){return e=>lf(e.value)||!jR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ZR(n){return e=>jR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function YR(n){if(!n)return UD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(lf(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return nk(e)}static composeAsync(e){return rk(e)}}function zR(n){return lf(n.value)?{required:!0}:null}function UD(n){return null}function QR(n){return null!=n}function JR(n){const e=(0,c.QGY)(n)?(0,kt.D)(n):n;return(0,c.CqO)(e),e}function XR(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ek(n,e){return e.map(t=>t(n))}function tk(n){return n.map(e=>function u2(n){return!n.validate}(e)?e:t=>e.validate(t))}function nk(n){if(!n)return null;const e=n.filter(QR);return 0==e.length?null:function(t){return XR(ek(t,e))}}function TA(n){return null!=n?nk(tk(n)):null}function rk(n){if(!n)return null;const e=n.filter(QR);return 0==e.length?null:function(t){return function r2(...n){const e=(0,Jl.jO)(n),{args:t,keys:r}=JM(n),i=new ii.y(a=>{const{length:d}=t;if(!d)return void a.complete();const f=new Array(d);let _=d,w=d;for(let I=0;I<d;I++){let x=!1;(0,QC.Xf)(t[I]).subscribe((0,Lr.x)(a,V=>{x||(x=!0,w--),f[I]=V},()=>_--,void 0,()=>{(!_||!x)&&(w||a.next(r?XM(r,f):f),a.complete())}))}});return e?i.pipe(hS(e)):i}(ek(t,e).map(JR)).pipe((0,wt.U)(XR))}}function IA(n){return null!=n?rk(tk(n)):null}function ik(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function sk(n){return n._rawValidators}function ok(n){return n._rawAsyncValidators}function SA(n){return n?Array.isArray(n)?n:[n]:[]}function jD(n,e){return Array.isArray(n)?n.includes(e):n===e}function ak(n,e){const t=SA(e);return SA(n).forEach(i=>{jD(t,i)||t.push(i)}),t}function lk(n,e){return SA(e).filter(t=>!jD(n,t))}class ck{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=TA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kc extends ck{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bs extends ck{get formDirective(){return null}get path(){return null}}class uk{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let W_=(()=>{class n extends uk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Kc,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),q_=(()=>{class n extends uk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function f0(n,e){xA(n,e),e.valueAccessor.writeValue(n.value),function y2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hk(n,e)})}(n,e),function b2(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function v2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _2(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function GD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),WD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xA(n,e){const t=sk(n);null!==e.validator?n.setValidators(ik(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=ok(n);null!==e.asyncValidator?n.setAsyncValidators(ik(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zD(e._rawValidators,i),zD(e._rawAsyncValidators,i)}function WD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=sk(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=ok(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return zD(e._rawValidators,r),zD(e._rawAsyncValidators,r),t}function hk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fk(n,e){xA(n,e)}function gk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const p0="VALID",qD="INVALID",K_="PENDING",g0="DISABLED";function NA(n){return(KD(n)?n.validators:n)||null}function mk(n){return Array.isArray(n)?TA(n):n||null}function FA(n,e){return(KD(e)?e.asyncValidators:n)||null}function _k(n){return Array.isArray(n)?IA(n):n||null}function KD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const yk=n=>n instanceof vo,LA=n=>n instanceof BA;function vk(n){return yk(n)?n.value:n.getRawValue()}function bk(n,e){const t=LA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function Ek(n,e){LA(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new c.vHH(1002,"")})}class VA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=mk(this._rawValidators),this._composedAsyncValidatorFn=_k(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===p0}get invalid(){return this.status===qD}get pending(){return this.status==K_}get disabled(){return this.status===g0}get enabled(){return this.status!==g0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=mk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=_k(e)}addValidators(e){this.setValidators(ak(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ak(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lk(e,this._rawAsyncValidators))}hasValidator(e){return jD(this._rawValidators,e)}hasAsyncValidator(e){return jD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=K_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=g0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=p0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===p0||this.status===K_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?g0:p0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=K_,this._hasOwnPendingAsyncValidator=!0;const t=JR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function D2(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=LA(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof I2)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?g0:this.errors?qD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K_)?K_:this._anyControlsHaveStatus(qD)?qD:p0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){KD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vo extends VA{constructor(e=null,t,r){super(NA(t),FA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class BA extends VA{constructor(e,t,r){super(NA(t),FA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ek(this,e),Object.keys(e).forEach(r=>{bk(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=vk(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class I2 extends VA{constructor(e,t,r){super(NA(t),FA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ek(this,e),e.forEach((r,i)=>{bk(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>vk(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const S2={provide:Bs,useExisting:(0,c.Gpc)(()=>Zc)},m0=(()=>Promise.resolve(null))();let Zc=(()=>{class n extends Bs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new BA({},TA(t),IA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){m0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),f0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){m0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){m0.then(()=>{const r=this._findContainer(t.path),i=new BA({});fk(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){m0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){m0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,gk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10),c.Y36(cf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([S2]),c.qOj]}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const x2={provide:qc,useExisting:(0,c.Gpc)(()=>ZD),multi:!0};let ZD=(()=>{class n extends lg{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([x2]),c.qOj]}),n})(),Ik=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const UA=new c.OlP("NgModelWithFormControlWarning"),P2={provide:Kc,useExisting:(0,c.Gpc)(()=>cg)};let cg=(()=>{class n extends Kc{constructor(t,r,i,a){super(),this._ngModelWarningConfig=a,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=function RA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===af?t=a:function C2(n){return Object.getPrototypeOf(n.constructor)===lg}(a)?r=a:i=a}),i||r||t||null}(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&GD(r,this,!1),f0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function OA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)})(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&GD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10),c.Y36(cf,10),c.Y36(qc,10),c.Y36(UA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([P2]),c.qOj,c.TTD]}),n})();const N2={provide:Bs,useExisting:(0,c.Gpc)(()=>_0)};let _0=(()=>{class n extends Bs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return f0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){GD(t.control||null,t,!1),kA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,gk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(GD(r||null,t),yk(i)&&(f0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);fk(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function E2(n,e){return WD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xA(this.form,this),this._oldForm&&WD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,10),c.Y36(cf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([N2]),c.qOj,c.TTD]}),n})(),ug=(()=>{class n{constructor(){this._validator=UD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):UD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const K2={provide:ys,useExisting:(0,c.Gpc)(()=>uf),multi:!0};let uf=(()=>{class n extends ug{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function z2(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>zR}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([K2]),c.qOj]}),n})(),Hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Ik]]}),n})(),eU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hk]}),n})(),tU=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:UA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hk]}),n})();const nU=["connectionContainer"],rU=["inputContainer"],iU=["label"];function sU(n,e){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function oU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function aU(n,e){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(3),c.Oqu(t._control.placeholder)}}function lU(n,e){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function cU(n,e){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function uU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(t),c.oxw().updateOutlineGap()}),c.YNc(2,aU,4,1,"ng-container",12),c.YNc(3,lU,1,0,"ng-content",12),c.YNc(4,cU,2,0,"span",22),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),c.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),c.uIk("for",t._control.id)("aria-owns",t._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function dU(n,e){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function hU(n,e){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function fU(n,e){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState)}}function pU(n,e){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("id",t._hintLabelId),c.xp6(1),c.Oqu(t.hintLabel)}}function gU(n,e){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,pU,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const t=c.oxw();c.Q6J("@transitionMessages",t._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",t.hintLabel)}}const mU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_U=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],yU=new c.OlP("MatError"),vU={transitionMessages:_D("transitionMessages",[eg("enter",Jo({opacity:1,transform:"translateY(0%)"})),tg("void => enter",[Jo({opacity:0,transform:"translateY(-5px)"}),H_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let YD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})();const bU=new c.OlP("MatHint");let dg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),EU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const wU=new c.OlP("MatPrefix"),CU=new c.OlP("MatSuffix");let $k=0;const TU=dR(class{constructor(n){this._elementRef=n}},"primary"),IU=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),zA=new c.OlP("MatFormField");let y0=(()=>{class n extends TU{constructor(t,r,i,a,d,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=d,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Sn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$k++,this._labelId="mat-form-field-label-"+$k++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ni(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ss(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,fi.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,fi.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,kl.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ss(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ss(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,fi.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ag(this._label.nativeElement,"transitionend").pipe((0,Pl.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const I=r.querySelectorAll(`${i}, ${a}`);for(let x=0;x<I.length;x++)I[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,f=0;const _=r.querySelectorAll(i),w=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const I=r.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(I),V=t.children,Y=this._getStartEnd(V[0].getBoundingClientRect());let J=0;for(let ge=0;ge<V.length;ge++)J+=V[ge].offsetWidth;d=Math.abs(Y-x)-5,f=J>0?.75*J+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${d}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Qp,8),c.Y36(IU,8),c.Y36(_s),c.Y36(c.R0b),c.Y36(Ba,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,YD,5),c.Suo(i,YD,7),c.Suo(i,dg,5),c.Suo(i,dg,7),c.Suo(i,EU,5),c.Suo(i,yU,5),c.Suo(i,bU,5),c.Suo(i,wU,5),c.Suo(i,CU,5)),2&t){let a;c.iGM(a=c.CRH())&&(r._controlNonStatic=a.first),c.iGM(a=c.CRH())&&(r._controlStatic=a.first),c.iGM(a=c.CRH())&&(r._labelChildNonStatic=a.first),c.iGM(a=c.CRH())&&(r._labelChildStatic=a.first),c.iGM(a=c.CRH())&&(r._placeholderChild=a.first),c.iGM(a=c.CRH())&&(r._errorChildren=a),c.iGM(a=c.CRH())&&(r._hintChildren=a),c.iGM(a=c.CRH())&&(r._prefixChildren=a),c.iGM(a=c.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(c.Gf(nU,7),c.Gf(rU,5),c.Gf(iU,5)),2&t){let i;c.iGM(i=c.CRH())&&(r._connectionContainerRef=i.first),c.iGM(i=c.CRH())&&(r._inputContainerRef=i.first),c.iGM(i=c.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&c.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:zA,useExisting:n}]),c.qOj],ngContentSelectors:_U,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(c.F$t(mU),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),c.YNc(3,sU,9,0,"ng-container",3),c.YNc(4,oU,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,uU,5,16,"label",8),c.qZA()(),c.YNc(10,dU,2,0,"div",9),c.qZA(),c.YNc(11,hU,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,fU,2,1,"div",12),c.YNc(14,gU,5,2,"div",13),c.qZA()()),2&t&&(c.xp6(3),c.Q6J("ngIf","outline"==r.appearance),c.xp6(1),c.Q6J("ngIf",r._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",r._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",r._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=r.appearance),c.xp6(1),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[fe,hO,He,xt],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[vU.transitionMessages]},changeDetection:0}),n})(),v0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hi,ta,US],ta]}),n})();const zk=o0({passive:!0});let SU=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return zp.E;const r=gd(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new Sn.x,d="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,zk),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,zk)}}),a}stopMonitoring(t){const r=gd(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_s),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const AU=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),MU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xU=0;const OU=fR(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let b0=(()=>{class n extends OU{constructor(t,r,i,a,d,f,_,w,I,x){super(f,a,d,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=x,this._uid="mat-input-"+xU++,this.focused=!1,this.stateChanges=new Sn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(J=>sO().has(J)),this._iOSKeyupListener=J=>{const ge=J.target;!ge.value&&0===ge.selectionStart&&0===ge.selectionEnd&&(ge.setSelectionRange(1,1),ge.setSelectionRange(0,0))};const V=this._elementRef.nativeElement,Y=V.nodeName.toLowerCase();this._inputValueAccessor=_||V,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Y,this._isTextarea="textarea"===Y,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ni(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(HR.required))&&void 0!==a&&a}set required(t){this._required=Ni(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&sO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ni(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){MU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(_s),c.Y36(Kc,10),c.Y36(Zc,8),c.Y36(_0,8),c.Y36(mA),c.Y36(AU,10),c.Y36(SU),c.Y36(c.R0b),c.Y36(zA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(c.Ikx("disabled",r.disabled)("required",r.required),c.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),c.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:YD,useExisting:n}]),c.qOj,c.TTD]}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mA],imports:[[Wk,v0,ta],Wk,v0]}),n})(),RU=(()=>{class n{constructor(t){this.authService=t,this.emailControl=new vo(""),this.passwordControl=new vo("")}onSubmit(){this.authService.onLogin(this.emailControl.value,this.passwordControl.value)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"login__container"],[1,"login__logo-container"],[1,"login__logo-text"],["src","../../../assets/ice-cream.png","alt","logo",1,"login__logo-img"],[1,"login-form"],[1,"login-form__name"],["appearance","fill","color","primary"],["type","email","matInput","","required","",1,"login-form__input",3,"formControl"],["appearance","fill",1,"invert"],["type","password","matInput","","required","",1,"login-form__input",3,"formControl"],["mat-raised-button","","color","primary",1,"login-form__btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"p",2),c._uU(4,"IceCreamShop"),c.qZA(),c._UZ(5,"img",3),c.qZA(),c.TgZ(6,"form",4)(7,"p",5),c._uU(8,"Logowanie"),c.qZA(),c.TgZ(9,"mat-form-field",6)(10,"mat-label"),c._uU(11,"Email"),c.qZA(),c._UZ(12,"input",7),c.qZA(),c.TgZ(13,"mat-form-field",8)(14,"mat-label"),c._uU(15,"Has\u0142o"),c.qZA(),c._UZ(16,"input",9),c.qZA(),c.TgZ(17,"button",10),c.NdJ("click",function(){return r.onSubmit()}),c._uU(18,"Zaloguj"),c.qZA()()()()),2&t&&(c.xp6(12),c.Q6J("formControl",r.emailControl),c.xp6(4),c.Q6J("formControl",r.passwordControl))},directives:[Z_,q_,Zc,y0,dg,b0,af,uf,W_,cg,og],styles:[".login__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-bottom:50px;width:100%;height:100vh;overflow:auto}.login__logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90px;color:#ff44c6;padding-bottom:40px}.login__logo-img[_ngcontent-%COMP%]{width:100px}.login__logo-text[_ngcontent-%COMP%]{font-family:Oleo Script Swash Caps,cursive;font-size:45px;margin-top:16px;padding-left:30px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#69f0ae;padding:20px;border-radius:8px}.login-form__input-container[_ngcontent-%COMP%]{background-color:#7b1fa2;color:#000}.login-form__name[_ngcontent-%COMP%]{color:#7b1fa2;font-size:22px;padding-bottom:10px}.login-form__btn[_ngcontent-%COMP%]{width:201px}@media (max-width: 768px){.login-form[_ngcontent-%COMP%]{width:90vw}.login-form__input[_ngcontent-%COMP%]{width:320px}}@media (max-width: 375px){.login__logo[_ngcontent-%COMP%]{width:600px}.login__logo-text[_ngcontent-%COMP%]{font-size:25px}.login__logo-img[_ngcontent-%COMP%]{width:30px}}"],changeDetection:0}),n})(),QD=(()=>{class n{constructor(t,r){this.router=t,this.store=r}canActivate(){return this.store.select(t=>t.auth.isAuthenticated).pipe((0,wt.U)(t=>!!t||(this.router.navigate(["login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Vs),c.LFG(Ln.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hg=(()=>{class n{constructor(t,r){this.db=t,this.store=r,this.userName="",this.role=""}getAllClients(){return this.db.collection("users").valueChanges().pipe((0,wt.U)(t=>t.filter(r=>"client"===r.role)))}getUserData(t){return this.db.doc(`users/${t}`).valueChanges()}getIcemanData(){return this.db.doc("users/g73q2id76nXTiJWO1jizQyDLfMg2").valueChanges()}addNewAmount(t,r){Ol(xa(Rp(),"users","g73q2id76nXTiJWO1jizQyDLfMg2"),{amounts:__({amountName:t,amountCapacity:r})})}addNewFlavor(t){Ol(xa(Rp(),"users","g73q2id76nXTiJWO1jizQyDLfMg2"),{flavors:__(t)})}addNewFavoriteFlavor(t,r){Ol(xa(Rp(),"users",r),{favoriteFlavors:__(t)})}addNewOrder(t,r){const a=(new Date).toLocaleDateString();Ol(xa(Rp(),"users",t),{orders:__({date:a,flavorName:r.flavorName,amountCapacity:r.amountCapacity,quantity:r.quantity})})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dS),c.LFG(Ln.yh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=["*"];let JD=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-list-item"]],ngContentSelectors:kU,decls:2,vars:0,consts:[[1,"list-item"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".list-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap;border-top:.063rem solid #d7e9e2;border-bottom:.063rem solid #d7e9e2;padding:10px;background-color:#69f0ae;width:700px}@media (max-width: 768px){.list-item[_ngcontent-%COMP%]{width:90vw}}@media (max-width: 375px){.list-item[_ngcontent-%COMP%]{flex-direction:column}}"],changeDetection:0}),n})();function PU(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",5),c._uU(2),c.qZA(),c.TgZ(3,"div",5),c._uU(4),c.qZA(),c.TgZ(5,"div",6),c._uU(6),c.qZA(),c.TgZ(7,"div",5),c._uU(8),c.qZA(),c.TgZ(9,"div",5),c._uU(10),c.qZA(),c.TgZ(11,"div",5),c._uU(12),c.qZA()()),2&n){const t=c.oxw(),r=t.index,i=t.$implicit;c.xp6(2),c.hij("",r+1,"."),c.xp6(2),c.Oqu(i.userName),c.xp6(2),c.hij("Lody ",i.orders[i.orders.length-1].flavorName," "),c.xp6(2),c.hij("",i.orders[i.orders.length-1].amountCapacity,"ml"),c.xp6(2),c.hij("x",i.orders[i.orders.length-1].quantity,""),c.xp6(2),c.Oqu(i.orders[i.orders.length-1].date)}}function NU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,PU,13,6,"app-list-item",0),c.BQk()),2&n){const t=e.$implicit,r=c.oxw(4);c.xp6(1),c.Q6J("ngIf",t.orders&&t.orders.length>0&&t.orders[t.orders.length-1].date===r.currentDate)}}function FU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Brak zam\xf3wie\u0144."),c.qZA())}function LU(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p",1),c._uU(2,"Lista zam\xf3wie\u0144 klient\xf3w"),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,NU,2,1,"ng-container",3),c.qZA(),c.YNc(5,FU,2,0,"ng-template",null,4,c.W1O),c.BQk()),2&n){const t=e.ngIf;c.xp6(4),c.Q6J("ngForOf",t)}}function VU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,LU,7,1,"ng-container",0),c.ALo(2,"async"),c.BQk()),2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,t.clients$))}}function BU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(3).ngIf;return c.oxw(2).addNewOrder(i.orders[i.orders.length-1].flavorName,i.orders[i.orders.length-1].amountCapacity,i.orders[i.orders.length-1].quantity)}),c._uU(1,"Zam\xf3w ponownie"),c.qZA()}}function UU(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p",1),c._uU(2,"Ostatnie zam\xf3wienie"),c.qZA(),c.TgZ(3,"div",2)(4,"app-list-item")(5,"div",6),c._uU(6),c.qZA(),c.TgZ(7,"div",6),c._uU(8),c.qZA(),c.TgZ(9,"div",5),c._uU(10),c.qZA(),c.TgZ(11,"div",5),c._uU(12),c.qZA(),c.YNc(13,BU,2,0,"button",9),c.qZA()(),c.BQk()),2&n){const t=c.oxw(2).ngIf,r=c.oxw(2);c.xp6(6),c.hij("",t.orders[t.orders.length-1].date," "),c.xp6(2),c.hij("Lody ",t.orders[t.orders.length-1].flavorName," "),c.xp6(2),c.hij(" ",t.orders[t.orders.length-1].amountCapacity," ml "),c.xp6(2),c.hij("x ",t.orders[t.orders.length-1].quantity,""),c.xp6(1),c.Q6J("ngIf",t.orders[t.orders.length-1].date<r.currentDate)}}function jU(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Brak zam\xf3wie\u0144. Z\u0142\xf3\u017c zam\xf3wienie korzystaj\u0105c z formularza poni\u017cej."),c.qZA())}function HU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,UU,14,5,"ng-container",7),c.YNc(2,jU,2,0,"ng-template",null,8,c.W1O),c.BQk()),2&n){const t=c.MAs(3),r=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf",r.orders&&0!==r.orders.length)("ngIfElse",t)}}function $U(n,e){if(1&n&&(c.ynx(0),c.YNc(1,HU,4,2,"ng-container",0),c.BQk()),2&n){const t=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf","client"===t)}}function GU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,VU,3,3,"ng-container",0),c.YNc(2,$U,2,1,"ng-container",0),c.ALo(3,"async"),c.BQk()),2&n){const t=e.ngIf,r=c.oxw();c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf",c.lcZ(3,2,r.user$))}}let zU=(()=>{class n{constructor(t,r,i){this.store=t,this.firestoreService=r,this.authService=i,this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid,this.user$=this.firestoreService.getUserData(this.uid),this.currentDate="",this.clients$=this.firestoreService.getAllClients()}ngOnInit(){this.currentDate=(new Date).toLocaleDateString()}addNewOrder(t,r,i){this.firestoreService.addNewOrder(this.uid,{flavorName:t,amountCapacity:r,quantity:i})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ln.yh),c.Y36(hg),c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-orders-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"orders-list__name"],[1,"orders-list__container"],[4,"ngFor","ngForOf"],["noTodaysOrders",""],[1,"orders-list__element"],[1,"order-list__element"],[4,"ngIf","ngIfElse"],["noOrders",""],["mat-button","","color","primary",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"]],template:function(t,r){1&t&&(c.YNc(0,GU,4,4,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Nn,JD,og],pipes:[ji],styles:[".orders-list__name[_ngcontent-%COMP%]{margin:15px 0}.orders-list__container[_ngcontent-%COMP%]{margin-bottom:30px}"],changeDetection:0}),n})();const Kk=JN();class qU{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=pi(-this._previousScrollPosition.left),e.style.top=pi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Kk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Kk&&(r.scrollBehavior=a,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class KU{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Zk{enable(){}disable(){}attach(){}}function WA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Yk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ZU{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();WA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let YU=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Zk,this.close=d=>new KU(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new qU(this._viewportRuler,this._document),this.reposition=d=>new ZU(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(AB),c.LFG(z_),c.LFG(c.R0b),c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qk{constructor(e){if(this.scrollStrategy=new Zk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class QU{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class JU{constructor(e,t,r,i,a,d,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=d,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new Sn.x,this._attachments=new Sn.x,this._detachments=new Sn.x,this._locationChanges=Hc.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new Sn.x,this._outsidePointerEvents=new Sn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=pi(this._config.width),e.height=pi(this._config.height),e.minWidth=pi(this._config.minWidth),e.minHeight=pi(this._config.minHeight),e.maxWidth=pi(this._config.maxWidth),e.maxHeight=pi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=uO(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,fi.R)((0,kl.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Jk=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LS()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),LS()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(_s))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xk="cdk-overlay-connected-position-bounding-box",XU=/([A-Za-z%]+)$/;class ej{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Sn.x,this._resizeSubscription=Hc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Xk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,i,f),w=this._getOverlayPoint(_,t,f),I=this._getOverlayFit(w,t,r,f);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(I,w,r)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<I.visibleArea)&&(d={overlayFit:I,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Xk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const d=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?d:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=tP(t);let{x:d,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(d+=_),w&&(f+=w);let V=0-f,Y=f+a.height-r.height,J=this._subtractOverflows(a.width,0-d,d+a.width-r.width),ge=this._subtractOverflows(a.height,V,Y),Ue=J*ge;return{visibleArea:Ue,isCompletelyWithinViewport:a.width*a.height===Ue,fitsInViewportVertically:ge===a.height,fitsInViewportHorizontally:J==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,d=eP(this._overlayRef.getConfig().minHeight),f=eP(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=d&&d<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=tP(t),a=this._viewportRect,d=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let I=0,x=0;return I=i.width<=a.width?w||-d:e.x<this._viewportMargin?a.left-r.left-e.x:0,x=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new QU(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,d,f,I,x,V;if("top"===t.overlayY)d=e.y,a=r.height-d+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const Y=Math.min(r.bottom-e.y+r.top,e.y),J=this._lastBoundingBoxSize.height;a=2*Y,d=e.y-Y,a>J&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-J/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)V=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,I=r.right-e.x;else{const Y=Math.min(r.right-e.x+r.left,e.x),J=this._lastBoundingBoxSize.width;I=2*Y,x=e.x-Y,I>J&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-J/2)}return{top:d,left:x,bottom:f,right:V,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=pi(r.height),i.top=pi(r.top),i.bottom=pi(r.bottom),i.width=pi(r.width),i.left=pi(r.left),i.right=pi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=pi(a)),d&&(i.maxWidth=pi(d))}this._lastBoundingBoxSize=r,fg(this._boundingBox.style,i)}_resetBoundingBoxStyles(){fg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();fg(r,this._getExactOverlayY(t,e,I)),fg(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=pi(d.maxHeight):a&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=pi(d.maxWidth):a&&(r.maxWidth="")),fg(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=pi(a.y),i}_getExactOverlayX(e,t,r){let d,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=pi(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yk(e,r),isOriginOutsideView:WA(e,r),isOverlayClipped:Yk(t,r),isOverlayOutsideView:WA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&uO(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function fg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function eP(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(XU);return t&&"px"!==t?null:parseFloat(e)}return n||null}function tP(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const nP="cdk-global-overlay-wrapper";class tj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(nP),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:d,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(nP),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let nj=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new tj}flexibleConnectedTo(t){return new ej(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z_),c.LFG(W),c.LFG(_s),c.LFG(Jk))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rP=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rj=(()=>{class n extends rP{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let d=a.length-1;d>-1;d--)if(a[d]._keydownEvents.observers.length>0){const f=a[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ij=(()=>{class n extends rP{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Xp(a)},this._clickListener=a=>{const d=Xp(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(d)||I.overlayElement.contains(f))break;const x=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(W),c.LFG(_s),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sj=0,XD=(()=>{class n{constructor(t,r,i,a,d,f,_,w,I,x,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=d,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=x,this._outsideClickDispatcher=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),d=new Qk(t);return d.direction=d.direction||this._directionality.value,new JU(a,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+sj++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new oB(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(YU),c.LFG(Jk),c.LFG(c._Vd),c.LFG(nj),c.LFG(rj),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(W),c.LFG(Qp),c.LFG(ve),c.LFG(ij))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const oj=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],iP=new c.OlP("cdk-connected-overlay-scroll-strategy");let sP=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),oP=(()=>{class n{constructor(t,r,i,a,d){this._overlay=t,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Hc.w0.EMPTY,this._attachSubscription=Hc.w0.EMPTY,this._detachSubscription=Hc.w0.EMPTY,this._positionSubscription=Hc.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new wR(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ni(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ni(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ni(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ni(t)}get push(){return this._push}set push(t){this._push=Ni(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=oj);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!U_(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Qk({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof sP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function WU(n,e=!1){return(0,Mi.e)((t,r)=>{let i=0;t.subscribe((0,Lr.x)(r,a=>{const d=n(a,i++);(d||e)&&r.next(a),!d&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(XD),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(iP),c.Y36(Qp,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),n})();const lj={provide:iP,deps:[XD],useFactory:function aj(n){return()=>n.scrollStrategies.reposition()}};let cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[XD,lj],imports:[[r0,CR,xR],xR]}),n})();class uj{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Sn.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const dj=["trigger"],hj=["panel"];function fj(n,e){if(1&n&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Oqu(t.placeholder)}}function pj(n,e){if(1&n&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.Oqu(t.triggerValue)}}function gj(n,e){1&n&&c.Hsn(0,0,["*ngSwitchCase","true"])}function mj(n,e){if(1&n&&(c.TgZ(0,"span",9),c.YNc(1,pj,2,1,"span",10),c.YNc(2,gj,1,0,"ng-content",11),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngSwitch",!!t.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function _j(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",13)(1,"div",14,15),c.NdJ("@transformPanel.done",function(i){return c.CHM(t),c.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return c.CHM(t),c.oxw()._handleKeydown(i)}),c.Hsn(3,1),c.qZA()()}if(2&n){const t=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",t._getPanelTheme(),""),c.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),c.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),c.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const yj=[[["mat-select-trigger"]],"*"],vj=["mat-select-trigger","*"],aP={transformPanelWrap:_D("transformPanelWrap",[tg("* => void",FF("@transformPanel",[NF()],{optional:!0}))]),transformPanel:_D("transformPanel",[eg("void",Jo({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),eg("showing",Jo({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),eg("showing-multiple",Jo({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),tg("void => *",H_("120ms cubic-bezier(0, 0, 0.2, 1)")),tg("* => void",H_("100ms 25ms linear",Jo({opacity:0})))])};let lP=0;const uP=new c.OlP("mat-select-scroll-strategy"),Cj=new c.OlP("MAT_SELECT_CONFIG"),Dj={provide:uP,deps:[XD],useFactory:function wj(n){return()=>n.scrollStrategies.reposition()}};class Tj{constructor(e,t){this.source=e,this.value=t}}const Ij=gA(hR(pA(fR(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),Sj=new c.OlP("MatSelectTrigger");let Aj=(()=>{class n extends Ij{constructor(t,r,i,a,d,f,_,w,I,x,V,Y,J,ge){var Ue,pt,mt;super(d,a,_,w,x),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=I,this._liveAnnouncer=J,this._defaultOptions=ge,this._panelOpen=!1,this._compareWith=(dt,ut)=>dt===ut,this._uid="mat-select-"+lP++,this._triggerAriaLabelledBy=null,this._destroy=new Sn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+lP++,this._panelDoneAnimatingStream=new Sn.x,this._overlayPanelClass=(null===(Ue=this._defaultOptions)||void 0===Ue?void 0:Ue.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(mt=null===(pt=this._defaultOptions)||void 0===pt?void 0:pt.disableOptionCentering)&&void 0!==mt&&mt,this.ariaLabel="",this.optionSelectionChanges=fS(()=>{const dt=this.options;return dt?dt.changes.pipe(ss(dt),(0,di.w)(()=>(0,kl.T)(...dt.map(ut=>ut.onSelectionChange)))):this._ngZone.onStable.pipe((0,Pl.q)(1),(0,di.w)(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe((0,fr.h)(dt=>dt),(0,wt.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,fr.h)(dt=>!dt),(0,wt.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ge?void 0:ge.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ge.typeaheadDebounceInterval),this._scrollStrategyFactory=Y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(V)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(HR.required))&&void 0!==a&&a}set required(t){this._required=Ni(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Ni(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Ni(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=gD(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new uj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,si.x)(),(0,fi.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,fi.R)(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(ss(null),(0,fi.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,d=this._keyManager;if(!d.isTyping()&&a&&!U_(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(t);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,d=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(d||13!==i&&32!==i||!r.activeItem||U_(t))if(!d&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Pl.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new yF(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,fi.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,fi.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,kl.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,fi.R)(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,kl.T)(...this.options.map(r=>r._stateChanges)).pipe((0,fi.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(z_),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(mA),c.Y36(c.SBq),c.Y36(Qp,8),c.Y36(Zc,8),c.Y36(_0,8),c.Y36(zA,8),c.Y36(Kc,10),c.$8M("tabindex"),c.Y36(uP),c.Y36(OF),c.Y36(Cj,8))},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,r){if(1&t&&(c.Gf(dj,5),c.Gf(hj,5),c.Gf(oP,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.trigger=i.first),c.iGM(i=c.CRH())&&(r.panel=i.first),c.iGM(i=c.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),n})(),dP=(()=>{class n extends Aj{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,fi.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Pl.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=bR(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function ZV(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Tj(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let w=this._selectionModel.selected[0]||this.options.first;d=w&&w.group?32:16}i||(d*=-1);const f=0-(t.left+d-(i?a:0)),_=t.right+d-r.width+(i?0:a);f>0?d+=f+8:_>0&&(d-=_+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),d=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*_-d))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,d=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),w=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;w>d?this._adjustPanelUp(w,d):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),d=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=bR(f,this.options,this.optionGroups);const _=i/2;this._scrollTop=this._calculateOverlayScroll(f,_,d),this._offsetY=this._calculateOverlayOffsetY(f,_,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,Sj,5),c.Suo(i,bA,5),c.Suo(i,vR,5)),2&t){let a;c.iGM(a=c.CRH())&&(r.customTrigger=a.first),c.iGM(a=c.CRH())&&(r.options=a),c.iGM(a=c.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(c.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),c.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:YD,useExisting:n},{provide:yR,useExisting:n}]),c.qOj],ngContentSelectors:vj,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(c.F$t(yj),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return r.toggle()}),c.TgZ(3,"div",2),c.YNc(4,fj,2,1,"span",3),c.YNc(5,mj,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA()(),c.YNc(8,_j,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=c.MAs(1);c.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",r.empty),c.uIk("id",r._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[sP,He,xt,Xn,oP,Bi],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[aP.transformPanelWrap,aP.transformPanel]},changeDetection:0}),n})(),Mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Dj],imports:[[Hi,cj,ER,ta],CA,v0,ER,ta]}),n})();function xj(n,e){if(1&n&&(c.TgZ(0,"mat-option",11),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t," ")}}function Oj(n,e){if(1&n&&(c.TgZ(0,"mat-option",11),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t.amountName," ")}}function Rj(n,e){if(1&n&&(c.ynx(0)(1),c.TgZ(2,"mat-form-field",7)(3,"mat-label"),c._uU(4,"Wybierz smak"),c.qZA(),c.TgZ(5,"mat-select",8),c.YNc(6,xj,2,2,"mat-option",9),c.qZA()(),c.TgZ(7,"mat-form-field",7)(8,"mat-label"),c._uU(9,"Wybierz wielko\u015b\u0107"),c.qZA(),c.TgZ(10,"mat-select",8),c.YNc(11,Oj,2,2,"mat-option",9),c.qZA()(),c.TgZ(12,"mat-form-field",7)(13,"mat-label"),c._uU(14,"Podaj ilo\u015b\u0107"),c.qZA(),c._UZ(15,"input",10),c.qZA(),c.BQk()()),2&n){const t=e.ngIf,r=c.oxw(5);c.xp6(5),c.Q6J("formControl",r.flavorControl),c.xp6(1),c.Q6J("ngForOf",t.flavors),c.xp6(4),c.Q6J("formControl",r.amountControl),c.xp6(1),c.Q6J("ngForOf",t.amounts),c.xp6(4),c.Q6J("formControl",r.quantityControl)}}function kj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",4)(1,"p",5),c._uU(2,"Dodaj nowe zam\xf3wienie"),c.qZA(),c.YNc(3,Rj,16,5,"ng-container",0),c.ALo(4,"async"),c.TgZ(5,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(4).onSubmit()}),c._uU(6,"Dodaj"),c.qZA()()}if(2&n){const t=c.oxw(4);c.xp6(3),c.Q6J("ngIf",c.lcZ(4,1,t.iceman$))}}function Pj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,kj,7,3,"form",3),c.BQk()),2&n){const t=c.oxw(2).ngIf;c.xp6(1),c.Q6J("ngIf","client"===t)}}function Nj(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Aktualnie mo\u017cna z\u0142o\u017cy\u0107 tylko jedno zam\xf3wienie dziennie. Wr\xf3\u0107 jutro aby z\u0142o\u017cy\u0107 nowe zam\xf3wienie."),c.qZA())}function Fj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Pj,2,1,"ng-container",1),c.YNc(2,Nj,2,0,"ng-template",null,2,c.W1O),c.BQk()),2&n){const t=e.ngIf,r=c.MAs(3),i=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!t.orders||0!==t.orders.length&&t.orders[t.orders.length-1].date!==i.currentDate)("ngIfElse",r)}}function Lj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Fj,4,2,"ng-container",0),c.ALo(2,"async"),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,t.user$))}}let Vj=(()=>{class n{constructor(t,r,i){this.store=t,this.firestoreService=r,this.authService=i,this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid,this.iceman$=this.firestoreService.getIcemanData(),this.user$=this.firestoreService.getUserData(this.uid),this.flavorControl=new vo(""),this.amountControl=new vo(""),this.quantityControl=new vo(""),this.currentDate=""}ngOnInit(){this.currentDate=(new Date).toLocaleDateString()}onSubmit(){const t=this.flavorControl.value,r=this.amountControl.value.amountCapacity,i=this.quantityControl.value;t&&r&&i?(this.firestoreService.addNewOrder(this.uid,{flavorName:t,amountCapacity:r,quantity:i}),alert("Zam\xf3wienie zosta\u0142o z\u0142o\u017cone")):0===i&&alert("Nie mo\u017cna doda\u0107 zerowej ilo\u015bci")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ln.yh),c.Y36(hg),c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-order-form"]],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["noForm",""],["class","order-form",4,"ngIf"],[1,"order-form"],[1,"order-form__name"],["type","submit","mat-raised-button","","color","primary",1,"order-form__btn",3,"click"],["appearance","fill","color","primary"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","required","",3,"formControl"],[3,"value"]],template:function(t,r){1&t&&(c.YNc(0,Lj,3,3,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Z_,q_,Zc,y0,dg,dP,uf,W_,cg,Nn,bA,b0,ZD,af,og],pipes:[ji],styles:[""],changeDetection:0}),n})();function Bj(n,e){1&n&&c._UZ(0,"app-orders-list")}let Uj=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.user$=this.authService.setUserData(this.authService.uid,this.authService.email)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-orders"]],decls:3,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.YNc(0,Bj,1,0,"app-orders-list",0),c.ALo(1,"async"),c._UZ(2,"app-order-form")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.user$))},directives:[fe,zU,Vj],pipes:[ji],styles:[""],changeDetection:0}),n})();function jj(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",4),c._uU(2),c.qZA(),c.TgZ(3,"div",4),c._uU(4),c.qZA()()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t," ")}}function Hj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Lista dost\u0119pnych smak\xf3w"),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,jj,5,2,"app-list-item",3),c.qZA(),c.BQk()),2&n){const t=c.oxw().ngIf;c.xp6(4),c.Q6J("ngForOf",t.flavors)}}function $j(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",4),c._uU(2),c.qZA(),c.TgZ(3,"div",4),c._uU(4),c.qZA()()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t," ")}}function Gj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Lista ulubionych smak\xf3w"),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,$j,5,2,"app-list-item",3),c.qZA(),c.BQk()),2&n){const t=c.oxw(2).ngIf;c.xp6(4),c.Q6J("ngForOf",t.favoriteFlavors)}}function zj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Gj,5,1,"ng-container",5),c.BQk()),2&n){const t=c.oxw().ngIf,r=c.MAs(4);c.xp6(1),c.Q6J("ngIf",t.favoriteFlavors)("ngIfElse",r)}}function Wj(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Nie masz jeszcze \u017cadnych ulubionych smak\xf3w. Dodaj smak do ulubionych u\u017cywaj\u0105c formularza poni\u017cej."),c.qZA())}function qj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Hj,5,1,"ng-container",0),c.YNc(2,zj,2,2,"ng-container",0),c.YNc(3,Wj,2,0,"ng-template",null,1,c.W1O),c.BQk()),2&n){const t=c.oxw().ngIf;c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf","client"===t)}}function Kj(n,e){if(1&n&&(c.ynx(0),c.YNc(1,qj,5,2,"ng-container",0),c.ALo(2,"async"),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",c.lcZ(2,1,t.user$))}}let Zj=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.store=r,this.authService=i,this.user$=this.firestoreService.getUserData(this.authService.uid),this.role$=this.store.select(a=>a.user.role)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hg),c.Y36(Ln.yh),c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flavors-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["noFavorites",""],[1,"flavors-list__container"],[4,"ngFor","ngForOf"],[1,"flavors-list__element"],[4,"ngIf","ngIfElse"]],template:function(t,r){1&t&&(c.YNc(0,Kj,3,3,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Nn,JD],pipes:[ji],styles:[".flavors-list__element[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),n})();function Yj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",2)(1,"p",3),c._uU(2,"Dodaj nowy smak"),c.qZA(),c.TgZ(3,"mat-form-field",4)(4,"mat-label"),c._uU(5,"Nazwa smaku"),c.qZA(),c._UZ(6,"input",5),c.qZA(),c.TgZ(7,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).addNewFlavor()}),c._uU(8,"Dodaj"),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(6),c.Q6J("formControl",t.flavorControl)}}function Qj(n,e){if(1&n&&(c.TgZ(0,"mat-option",9),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t," ")}}function Jj(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"mat-form-field",4)(2,"mat-label"),c._uU(3,"Wybierz smak"),c.qZA(),c.TgZ(4,"mat-select",7),c.YNc(5,Qj,2,2,"mat-option",8),c.qZA()(),c.BQk()),2&n){const t=e.ngIf,r=c.oxw(3);c.xp6(4),c.Q6J("formControl",r.favoriteFlavorControl),c.xp6(1),c.Q6J("ngForOf",t.flavors)}}function Xj(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"form",2)(1,"p",3),c._uU(2,"Dodaj nowy ulubiony smak"),c.qZA(),c.YNc(3,Jj,6,2,"ng-container",0),c.ALo(4,"async"),c.TgZ(5,"button",6),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).addNewFavoriteFlavor()}),c._uU(6,"Dodaj"),c.qZA()()}if(2&n){const t=c.oxw(2);c.xp6(3),c.Q6J("ngIf",c.lcZ(4,1,t.user$))}}function eH(n,e){if(1&n&&(c.ynx(0),c.YNc(1,Yj,9,1,"form",1),c.YNc(2,Xj,7,3,"form",1),c.BQk()),2&n){const t=e.ngIf;c.xp6(1),c.Q6J("ngIf","iceman"===t),c.xp6(1),c.Q6J("ngIf","client"===t)}}let tH=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.store=r,this.authService=i,this.role$=this.store.select(a=>a.user.role),this.uid=this.authService.uid,this.user$=this.firestoreService.getIcemanData(),this.flavorControl=new vo(""),this.favoriteFlavorControl=new vo("")}addNewFlavor(){const t=this.flavorControl.value;!1===/^\s+$/.test(t)?(this.firestoreService.addNewFlavor(t),this.flavorControl.reset()):alert("Nie mo\u017cna doda\u0107 pustej nazwy")}addNewFavoriteFlavor(){this.firestoreService.addNewFavoriteFlavor(this.favoriteFlavorControl.value,this.uid),this.favoriteFlavorControl.reset()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hg),c.Y36(Ln.yh),c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flavors-form"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","flavor-form",4,"ngIf"],[1,"flavor-form"],[1,"flavor-form__name"],["appearance","fill","color","primary"],["matInput","","type","text","required","",3,"formControl"],["mat-raised-button","","color","primary",1,"flavor-form__btn",3,"click"],["required","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(c.YNc(0,eH,3,2,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.role$))},directives:[fe,Z_,q_,Zc,y0,dg,b0,af,uf,W_,cg,og,dP,Nn,bA],pipes:[ji],styles:[""],changeDetection:0}),n})(),nH=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-flavors"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-flavors-list")(1,"app-flavors-form")},directives:[Zj,tH],styles:[""],changeDetection:0}),n})();function rH(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",3),c._uU(2),c.qZA(),c.TgZ(3,"div",3),c._uU(4),c.qZA()()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t.userName," ")}}function iH(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"Lista klient\xf3w"),c.qZA(),c.TgZ(3,"div",1),c.YNc(4,rH,5,2,"app-list-item",2),c.qZA(),c.BQk()),2&n){const t=e.ngIf;c.xp6(4),c.Q6J("ngForOf",t)}}let sH=(()=>{class n{constructor(t){this.firestoreService=t,this.clients$=this.firestoreService.getAllClients()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clients-list"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"clients-list__container"],[4,"ngFor","ngForOf"],[1,"clients-list__element"]],template:function(t,r){1&t&&(c.YNc(0,iH,5,1,"ng-container",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,r.clients$))},directives:[fe,Nn,JD],pipes:[ji],styles:[".clients-list__element[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),n})(),oH=(()=>{class n{constructor(t){this.authService=t,this.userNameControl=new vo(""),this.userEmailControl=new vo(""),this.userPasswordControl=new vo("")}onSignup(){const t=this.userNameControl.value,r=this.userEmailControl.value,i=this.userPasswordControl.value,a=/^\s+$/.test(t),d=/^\s+$/.test(r),f=/^\s+$/.test(i);!1===a&&!1===d&&!1===f?(this.authService.onSignup(t,r,i),this.userNameControl.reset(),this.userEmailControl.reset(),this.userPasswordControl.reset()):!0===a?alert("Nie mo\u017cna doda\u0107 pustego imienia i nazwiska"):!0===d?alert("Nie mo\u017cna doda\u0107 pustego emaila"):!0===f&&alert("Nie mo\u017cna doda\u0107 pustego has\u0142a")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-client-form"]],decls:17,vars:3,consts:[[1,"client-form"],[1,"client-form__name"],["appearance","fill","color","primary"],["matInput","","type","text","required","",3,"formControl"],["matInput","","type","email","required","",3,"formControl"],["matInput","","type","password","required","",3,"formControl"],["mat-raised-button","","color","primary",1,"client-form__btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"form",0)(1,"p",1),c._uU(2,"Dodaj nowego klienta"),c.qZA(),c.TgZ(3,"mat-form-field",2)(4,"mat-label"),c._uU(5,"Imi\u0119 i Nazwisko"),c.qZA(),c._UZ(6,"input",3),c.qZA(),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"Email"),c.qZA(),c._UZ(10,"input",4),c.qZA(),c.TgZ(11,"mat-form-field",2)(12,"mat-label"),c._uU(13,"Has\u0142o"),c.qZA(),c._UZ(14,"input",5),c.qZA(),c.TgZ(15,"button",6),c.NdJ("click",function(){return r.onSignup()}),c._uU(16,"Dodaj"),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("formControl",r.userNameControl),c.xp6(4),c.Q6J("formControl",r.userEmailControl),c.xp6(4),c.Q6J("formControl",r.userPasswordControl))},directives:[Z_,q_,Zc,y0,dg,b0,af,uf,W_,cg,og],styles:[""],changeDetection:0}),n})(),aH=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clients"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-clients-list")(1,"app-client-form")},directives:[sH,oH],styles:[""],changeDetection:0}),n})();function lH(n,e){if(1&n&&(c.TgZ(0,"app-list-item")(1,"div",3),c._uU(2),c.qZA(),c.TgZ(3,"div",3),c._uU(4),c.qZA(),c.TgZ(5,"div",3),c._uU(6),c.qZA()()),2&n){const t=e.$implicit,r=e.index;c.xp6(2),c.hij(" ",r+1,". "),c.xp6(2),c.hij(" ",t.amountName," "),c.xp6(2),c.hij(" ",t.amountCapacity," ml ")}}function cH(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",1),c.YNc(2,lH,7,3,"app-list-item",2),c.qZA(),c.BQk()),2&n){const t=e.ngIf;c.xp6(2),c.Q6J("ngForOf",t.amounts)}}let uH=(()=>{class n{constructor(t,r){this.firestoreService=t,this.authService=r,this.user$=this.firestoreService.getUserData(this.authService.uid)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hg),c.Y36(zc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-amounts-list"]],decls:4,vars:3,consts:[[4,"ngIf"],[1,"amounts-list__container"],[4,"ngFor","ngForOf"],[1,"amounts-list__element"]],template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"Lista jednostek"),c.qZA(),c.YNc(2,cH,3,1,"ng-container",0),c.ALo(3,"async")),2&t&&(c.xp6(2),c.Q6J("ngIf",c.lcZ(3,1,r.user$)))},directives:[fe,Nn,JD],pipes:[ji],styles:[".amounts-list__element[_ngcontent-%COMP%]{flex:1}"],changeDetection:0}),n})(),dH=(()=>{class n{constructor(t){this.firestoreService=t,this.amountNameControl=new vo(""),this.amountCapacityControl=new vo("")}addNewAmount(){const t=this.amountNameControl.value,r=this.amountCapacityControl.value,i=/^\s+$/.test(t);!1===i&&0!==r?(this.firestoreService.addNewAmount(t,r),this.amountNameControl.reset(),this.amountCapacityControl.reset()):!0===i?alert("Nie mo\u017cna doda\u0107 pustej nazwy"):0===r&&alert("Nie mo\u017cna doda\u0107 zerowej pojemno\u015bci")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-amount-form"]],decls:13,vars:2,consts:[[1,"amount-form"],[1,"amount-form__name"],["appearance","fill","color","primary"],["matInput","","type","text","required","",3,"formControl"],["matInput","","type","number","required","",3,"formControl"],["mat-raised-button","","color","primary",1,"amount-form__btn",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"form",0)(1,"p",1),c._uU(2,"Dodaj now\u0105 jednostk\u0119"),c.qZA(),c.TgZ(3,"mat-form-field",2)(4,"mat-label"),c._uU(5,"Nazwa"),c.qZA(),c._UZ(6,"input",3),c.qZA(),c.TgZ(7,"mat-form-field",2)(8,"mat-label"),c._uU(9,"Pojemno\u015b\u0107 w ml"),c.qZA(),c._UZ(10,"input",4),c.qZA(),c.TgZ(11,"button",5),c.NdJ("click",function(){return r.addNewAmount()}),c._uU(12,"Dodaj"),c.qZA()()),2&t&&(c.xp6(6),c.Q6J("formControl",r.amountNameControl),c.xp6(4),c.Q6J("formControl",r.amountCapacityControl))},directives:[Z_,q_,Zc,y0,dg,b0,af,uf,W_,cg,ZD,og],styles:[""],changeDetection:0}),n})();const hH=[{path:"login",component:RU},{path:"orders",component:Uj,canActivate:[QD]},{path:"flavors",component:nH,canActivate:[QD]},{path:"amounts",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-amounts"]],decls:2,vars:0,template:function(t,r){1&t&&c._UZ(0,"app-amounts-list")(1,"app-amount-form")},directives:[uH,dH],styles:[".btn[_ngcontent-%COMP%]{margin:20px 0}"],changeDetection:0}),n})(),canActivate:[QD]},{path:"clients",component:aH,canActivate:[QD]},{path:"",pathMatch:"full",redirectTo:"orders"},{path:"**",redirectTo:"orders"}];let fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Hi,eO.forRoot(hH),v0,qk],eO]}),n})();const hP={userName:"",uid:"",role:"",userEmail:""},pH=(0,Ln.Lq)(hP,(0,Ln.on)(to.setUserData,(n,e)=>Object.assign(Object.assign({},n),{userName:e.userName,uid:e.uid,role:e.role,userEmail:e.userEmail})),(0,Ln.on)(to.resetUser,n=>Object.assign(Object.assign({},n),hP)));var gH=S(9565);const mH=(0,Ln.PH)("[Orders] set orders",(0,Ln.Ky)()),yH=(0,Ln.Lq)({todayOrders:[]},(0,Ln.on)(mH,(n,{todayOrders:e})=>Object.assign(Object.assign({},n),{todayOrders:e})));let vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[n2]}),n.\u0275inj=c.cJS({providers:[zc],imports:[[la,kV,wi.hO.initializeApp(DA_firebase),AP,bP,fH,tB,qB,qk,v0,eU,tU,Mj,Ln.Aw.forRoot({auth:gu,user:pH,orders:yH}),gH.FT.instrument({logOnly:true,autoPause:!0})]]}),n})();(0,c.G48)(),au().bootstrapModule(vH).catch(n=>console.error(n))},5867:(ne,G,S)=>{S.d(G,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=S(9681);(0,c.registerVersion)("firebase","9.7.0","app")},127:(ne,G,S)=>{S.d(G,{Z:()=>c.Z});var c=S(3942);c.Z.registerVersion("firebase","9.7.0","app-compat")},820:(ne,G,S)=>{S.r(G);var c=S(5861),$=S(3942),k=S(2090),ee=S(9681),U=S(655),te=S(1877),W=S(4859);const xe=function Te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new te.Yd("@firebase/auth");function Le(y,...p){je.logLevel<=te.in.ERROR&&je.error(`Auth (${ee.SDK_VERSION}): ${y}`,...p)}function Ie(y,...p){throw Ze(y,...p)}function ve(y,...p){return Ze(y,...p)}function Se(y,p,m){const b=Object.assign(Object.assign({},ke()),{[p]:m});return new k.LL("auth","Firebase",b).create(p,{appName:y.name})}function qe(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ie(y,"argument-error"),Se(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return de.create(y,...p)}function ce(y,p,...m){if(!y)throw Ze(p,...m)}function et(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function le(y,p){y||et(p)}const ye=new Map;function ue(y){le(y instanceof Function,"Expected a class definition");let p=ye.get(y);return p?(le(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ye.set(y,p),p)}function $e(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Mt(){return"http:"===en()||"https:"===en()}function en(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,le(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function pn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ir(y,p){le(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Pn{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ei=new tn(3e4,6e4);function on(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function nn(y,p,m,b){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(y,p,m,b,A={}){return Rr(y,A,(0,c.Z)(function*(){let P={},ie={};b&&("GET"===p?ie=b:P={body:JSON.stringify(b)});const _e=(0,k.xO)(Object.assign({key:y.config.apiKey},ie)).slice(1),Ke=yield y._getAdditionalHeaders();return Ke["Content-Type"]="application/json",y.languageCode&&(Ke["X-Firebase-Locale"]=y.languageCode),Pn.fetch()(wr(y,y.config.apiHost,m,_e),Object.assign({method:p,headers:Ke,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Rr(y,p,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),p);try{const A=new Li(y),P=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const ie=yield P.json();if("needConfirmation"in ie)throw ti(y,"account-exists-with-different-credential",ie);if(P.ok&&!("errorMessage"in ie))return ie;{const _e=P.ok?ie.errorMessage:ie.error.message,[Ke,ot]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw ti(y,"credential-already-in-use",ie);if("EMAIL_EXISTS"===Ke)throw ti(y,"email-already-in-use",ie);const Ct=b[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Se(y,Ct,ot);Ie(y,Ct)}}catch(A){if(A instanceof k.ZR)throw A;Ie(y,"network-request-failed")}})).apply(this,arguments)}function kr(y,p,m,b){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(y,p,m,b,A={}){const P=yield nn(y,p,m,b,A);return"mfaPendingCredential"in P&&Ie(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function wr(y,p,m,b){const A=`${p}${m}?${b}`;return y.config.emulator?ir(y.config,A):`${y.config.apiScheme}://${A}`}class Li{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),ei.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ti(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const A=ve(y,p,b);return A.customData._tokenResponse=m,A}function Pr(){return(Pr=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gn(y,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cr(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function En(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function bo(){return(bo=(0,c.Z)(function*(y,p=!1){const m=(0,k.m9)(y),b=yield m.getIdToken(p),A=ct(b);ce(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,ie=null==P?void 0:P.sign_in_provider;return{claims:A,token:b,authTime:En($t(A.auth_time)),issuedAtTime:En($t(A.iat)),expirationTime:En($t(A.exp)),signInProvider:ie||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(y){return 1e3*Number(y)}function ct(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,k.tV)(m);return A?JSON.parse(A):(Le("Failed to decode base64 JWT payload"),null)}catch(A){return Le("Caught error parsing JWT payload as JSON",A),null}}function ar(y,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof k.ZR&&Zt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ts{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Dr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(y){return _t.apply(this,arguments)}function _t(){return(_t=(0,c.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),A=yield ar(y,Cr(m,{idToken:b}));ce(null==A?void 0:A.users.length,m,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const ie=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?Re(P.providerUserInfo):[],_e=nt(y.providerData,ie),Ct=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==_e?void 0:_e.length)),ft={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:_e,metadata:new Dr(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(y,ft)})).apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(y){const p=(0,k.m9)(y);yield yr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function nt(y,p){return[...y.filter(b=>!p.some(A=>A.providerId===b.providerId)),...p]}function Re(y){return y.map(p=>{var{providerId:m}=p,b=(0,U._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function yt(){return(yt=(0,c.Z)(function*(y,p){const m=yield Rr(y,{},(0,c.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,ie=wr(y,A,"/v1/token",`key=${P}`),_e=yield y._getAdditionalHeaders();return _e["Content-Type"]="application/x-www-form-urlencoded",Pn.fetch()(ie,{method:"POST",headers:_e,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ce(p.idToken,"internal-error"),ce(void 0!==p.idToken,"internal-error"),ce(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function St(y){const p=ct(y);return ce(p,"internal-error"),ce(void 0!==p.exp,"internal-error"),ce(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,c.Z)(function*(){return ce(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:ie}=yield function st(y,p){return yt.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(A,P,Number(ie))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:A,expirationTime:P}=m,ie=new zt;return b&&(ce("string"==typeof b,"internal-error",{appName:p}),ie.refreshToken=b),A&&(ce("string"==typeof A,"internal-error",{appName:p}),ie.accessToken=A),P&&(ce("number"==typeof P,"internal-error",{appName:p}),ie.expirationTime=P),ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new zt,this.toJSON())}_performRefresh(){return et("not implemented")}}function Wt(y,p){ce("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Z{constructor(p){var{uid:m,auth:b,stsTokenManager:A}=p,P=(0,U._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ts(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Dr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const b=yield ar(m,m.stsTokenManager.getToken(m.auth,p));return ce(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function es(y){return bo.apply(this,arguments)}(this,p)}reload(){return function vr(y){return Gt.apply(this,arguments)}(this)}_assign(p){this!==p&&(ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Z(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,c.Z)(function*(){let A=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield yr(b)),yield b.auth._persistUserIfCurrent(b),A&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield ar(p,function ht(y,p){return Pr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,A,P,ie,_e,Ke,ot,Ct;const ft=null!==(b=m.displayName)&&void 0!==b?b:void 0,Yn=null!==(A=m.email)&&void 0!==A?A:void 0,xi=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,ba=null!==(ie=m.photoURL)&&void 0!==ie?ie:void 0,rh=null!==(_e=m.tenantId)&&void 0!==_e?_e:void 0,mc=null!==(Ke=m._redirectEventId)&&void 0!==Ke?Ke:void 0,ol=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,qg=null!==(Ct=m.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:jo,emailVerified:_c,isAnonymous:Au,providerData:ih,stsTokenManager:al}=m;ce(jo&&al,p,"internal-error");const Kg=zt.fromJSON(this.name,al);ce("string"==typeof jo,p,"internal-error"),Wt(ft,p.name),Wt(Yn,p.name),ce("boolean"==typeof _c,p,"internal-error"),ce("boolean"==typeof Au,p,"internal-error"),Wt(xi,p.name),Wt(ba,p.name),Wt(rh,p.name),Wt(mc,p.name),Wt(ol,p.name),Wt(qg,p.name);const sh=new Z({uid:jo,auth:p,email:Yn,emailVerified:_c,displayName:ft,isAnonymous:Au,photoURL:ba,phoneNumber:xi,tenantId:rh,stsTokenManager:Kg,createdAt:ol,lastLoginAt:qg});return ih&&Array.isArray(ih)&&(sh.providerData=ih.map(ll=>Object.assign({},ll))),mc&&(sh._redirectEventId=mc),sh}static _fromIdTokenResponse(p,m,b=!1){return(0,c.Z)(function*(){const A=new zt;A.updateFromServerResponse(m);const P=new Z({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:b});return yield yr(P),P})()}}const X=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,b){var A=this;return(0,c.Z)(function*(){A.storage[m]=b})()}_get(m){var b=this;return(0,c.Z)(function*(){const A=b.storage[m];return void 0===A?null:A})()}_remove(m){var b=this;return(0,c.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function we(y,p,m){return`firebase:${y}:${p}:${m}`}class ae{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:A,name:P}=this.auth;this.fullUserKey=we(this.userKey,A.apiKey,P),this.fullPersistenceKey=we("persistence",A.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Z._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,c.Z)(function*(){if(!m.length)return new ae(ue(X),p,b);const A=(yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let P=A[0]||ue(X);const ie=we(b,p.config.apiKey,p.name);let _e=null;for(const ot of m)try{const Ct=yield ot._get(ie);if(Ct){const ft=Z._fromJSON(p,Ct);ot!==P&&(_e=ft),P=ot;break}}catch(Ct){}const Ke=A.filter(ot=>ot._shouldAllowMigration);return P._shouldAllowMigration&&Ke.length?(P=Ke[0],_e&&(yield P._set(ie,_e.toJSON())),yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(ie)}catch(ft){}});return function(Ct){return ot.apply(this,arguments)}}())),new ae(P,p,b)):new ae(P,p,b)})()}}function Ye(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(an(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Et(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bt(p))return"Blackberry";if(wn(p))return"Webos";if(un(p))return"Safari";if((p.includes("chrome/")||Tr(p))&&!p.includes("edge/"))return"Chrome";if(Bn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Et(y=(0,k.z$)()){return/firefox\//i.test(y)}function un(y=(0,k.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Tr(y=(0,k.z$)()){return/crios\//i.test(y)}function an(y=(0,k.z$)()){return/iemobile/i.test(y)}function Bn(y=(0,k.z$)()){return/android/i.test(y)}function Bt(y=(0,k.z$)()){return/blackberry/i.test(y)}function wn(y=(0,k.z$)()){return/webos/i.test(y)}function Qn(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)}function Vi(y=(0,k.z$)()){return Qn(y)||Bn(y)||wn(y)||Bt(y)||/windows phone/i.test(y)||an(y)}function Eo(y,p=[]){let m;switch(y){case"Browser":m=Ye((0,k.z$)());break;case"Worker":m=`${Ye((0,k.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ee.SDK_VERSION}/${b}`}class ni{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jt(this),this.idTokenSubscription=new jt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=ue(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,P;if(!b._deleted&&(b.persistenceManager=yield ae.create(b,p),!b._deleted)){if(null===(A=b._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(ie){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var b;let A=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const P=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ie=null==A?void 0:A._redirectEventId,_e=yield m.tryRedirectSignIn(p);(!P||P===ie)&&(null==_e?void 0:_e.user)&&(A=_e.user)}return A?A._redirectEventId?(ce(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)):m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield yr(p)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const b=p?(0,k.m9)(p):null;return b&&ce(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&ce(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ue(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,c.Z)(function*(){const A=yield b.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&ue(p)||m._popupRedirectResolver;ce(b,m,"argument-error"),m.redirectPersistenceManager=yield ae.create(m,[ue(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var b,A;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,A){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(ie,this,"internal-error"),ie.then(()=>P(this.currentUser)),"function"==typeof m?p.addObserver(m,b,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Eo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(b["X-Firebase-Client"]=A),b})()}}function Be(y){return(0,k.m9)(y)}class jt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Jn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class mn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return et("not implemented")}_getIdTokenResponse(p){return et("not implemented")}_linkToIdToken(p,m){return et("not implemented")}_getReauthenticationResolver(p){return et("not implemented")}}function zn(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:resetPassword",on(y,p))})).apply(this,arguments)}function Lt(y,p){return $s.apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bi(y,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",on(y,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPassword",on(y,p))})).apply(this,arguments)}function Ui(y,p){return H.apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:sendOobCode",on(y,p))})).apply(this,arguments)}function fe(y,p){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function me(y,p){return We.apply(this,arguments)}function We(){return(We=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function He(y,p){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function Xn(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,p){return Ui(y,p)})).apply(this,arguments)}function qt(){return(qt=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithEmailLink",on(y,p))})).apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithEmailLink",on(y,p))})).apply(this,arguments)}class Co extends mn{constructor(p,m,b,A=null){super("password",b),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Co(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new Co(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function is(y,p){return Nn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ir(y,p){return qt.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return Lt(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function yi(y,p){return Nl.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wn(y,p){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithIdp",on(y,p))})).apply(this,arguments)}class Es extends mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Es(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A}=m,P=(0,U._T)(m,["providerId","signInMethod"]);if(!b||!A)return null;const ie=new Es(b,A);return ie.idToken=P.idToken||void 0,ie.accessToken=P.accessToken||void 0,ie.secret=P.secret,ie.nonce=P.nonce,ie.pendingToken=P.pendingToken||null,ie}_getIdTokenResponse(p){return Wn(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Wn(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function yg(y,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:sendVerificationCode",on(y,p))})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",on(y,p))})).apply(this,arguments)}function bd(){return(bd=(0,c.Z)(function*(y,p){const m=yield kr(y,"POST","/v1/accounts:signInWithPhoneNumber",on(y,p));if(m.temporaryProof)throw ti(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const bg={USER_NOT_FOUND:"user-not-found"};function Ed(){return(Ed=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",on(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),bg)})).apply(this,arguments)}class ra extends mn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ra({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ra({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Qc(y,p){return Gs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function vg(y,p){return bd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Eg(y,p){return Ed.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:A,temporaryProof:P}=p;return b||m||A||P?new ra({verificationId:m,verificationCode:b,phoneNumber:A,temporaryProof:P}):null}}class Do{constructor(p){var m,b,A,P,ie,_e;const Ke=(0,k.zd)((0,k.pd)(p)),ot=null!==(m=Ke.apiKey)&&void 0!==m?m:null,Ct=null!==(b=Ke.oobCode)&&void 0!==b?b:null,ft=function Q_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ke.mode)&&void 0!==A?A:null);ce(ot&&Ct&&ft,"argument-error"),this.apiKey=ot,this.operation=ft,this.code=Ct,this.continueUrl=null!==(P=Ke.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ie=Ke.languageCode)&&void 0!==ie?ie:null,this.tenantId=null!==(_e=Ke.tenantId)&&void 0!==_e?_e:null}static parseLink(p){const m=function Fl(y){const p=(0,k.zd)((0,k.pd)(y)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||m||p||y}(p);try{return new Do(m)}catch(b){return null}}}let Jc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return Co._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const A=Do.parseLink(b);return ce(A,"argument-error"),Co._fromEmailAndCode(m,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class zs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vi extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ia extends vi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ce("providerId"in m&&"signInMethod"in m,"argument-error"),Es._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ce(p.idToken||p.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ia.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ia.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:A,pendingToken:P,nonce:ie,providerId:_e}=p;if(!b&&!A&&!m&&!P||!_e)return null;try{return new ia(_e)._credential({idToken:m,accessToken:b,nonce:ie,pendingToken:P})}catch(Ke){return null}}}let To=(()=>{class y extends vi{constructor(){super("facebook.com")}static credential(m){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ua=(()=>{class y extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:A}=m;if(!b&&!A)return null;try{return y.credential(b,A)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),wd=(()=>{class y extends vi{constructor(){super("github.com")}static credential(m){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Hi extends mn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Wn(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Wn(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A,pendingToken:P}=m;return b&&A&&P&&b===A?new Hi(b,P):null}static _create(p,m){return new Hi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Si extends zs{constructor(p){ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Si.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Si.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Hi.fromJSON(p);return ce(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return Hi._create(b,m)}catch(A){return null}}}let Ll=(()=>{class y extends vi{constructor(){super("twitter.com")}static credential(m,b){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:A}=m;if(!b||!A)return null;try{return y.credential(b,A)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Vl(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signUp",on(y,p))})).apply(this,arguments)}class Nr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,A=!1){return(0,c.Z)(function*(){const P=yield Z._fromIdTokenResponse(p,b,A),ie=pf(b);return new Nr({user:P,providerId:ie,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const A=pf(b);return new Nr({user:p,providerId:A,_tokenResponse:b,operationType:m})})()}}function pf(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Cd(){return(Cd=(0,c.Z)(function*(y){var p;const m=Be(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Nr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Vl(m,{returnSecureToken:!0}),A=yield Nr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ul extends k.ZR{constructor(p,m,b,A){var P;super(m.code,m.message),this.operationType=b,this.user=A,Object.setPrototypeOf(this,Ul.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,A){return new Ul(p,m,b,A)}}function jl(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ul._fromErrorAndOperation(y,P,p,b):P})}function ws(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Xc(){return(Xc=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y);yield qs(!0,m,p);const{providerUserInfo:b}=yield Gn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=ws(b||[]);return m.providerData=m.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function On(y,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.Z)(function*(y,p,m=!1){const b=yield ar(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Nr._forOperation(y,"link",b)})).apply(this,arguments)}function qs(y,p,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(y,p,m){yield yr(p);const A=!1===y?"provider-already-linked":"no-such-provider";ce(ws(p.providerData).has(m)===y,p.auth,A)})).apply(this,arguments)}function Dd(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(y,p,m=!1){const{auth:b}=y,A="reauthenticate";try{const P=yield ar(y,jl(b,A,p,y),m);ce(P.idToken,b,"internal-error");const ie=ct(P.idToken);ce(ie,b,"internal-error");const{sub:_e}=ie;return ce(y.uid===_e,b,"user-mismatch"),Nr._forOperation(y,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ie(b,"user-mismatch"),P}})).apply(this,arguments)}function So(y,p){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,p,m=!1){const b="signIn",A=yield jl(y,b,p),P=yield Nr._fromIdTokenResponse(y,b,A);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function cr(y,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(y,p){return So(Be(y),p)})).apply(this,arguments)}function $i(y,p){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y);return yield qs(!1,m,p.providerId),On(m,p)})).apply(this,arguments)}function Ks(y,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(y,p){return Dd((0,k.m9)(y),p)})).apply(this,arguments)}function Hl(y,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(y,p){return kr(y,"POST","/v1/accounts:signInWithCustomToken",on(y,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,c.Z)(function*(y,p){const m=Be(y),b=yield Hl(m,{token:p,returnSecureToken:!0}),A=yield Nr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class bt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?$l._fromServerResponse(p,m):Ie(p,"internal-error")}}class $l extends bt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new $l(m)}}function $a(y,p,m){var b;ce((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ce(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ce(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ce(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function zl(){return(zl=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y),A={requestType:"PASSWORD_RESET",email:p};m&&$a(b,A,m),yield me(b,A)})).apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(y,p,m){yield zn((0,k.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(y,p){yield Bi((0,k.m9)(y),{oobCode:p})})).apply(this,arguments)}function Yt(y,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y),b=yield zn(m,{oobCode:p}),A=b.requestType;switch(ce(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(b.mfaInfo,m,"internal-error");default:ce(b.email,m,"internal-error")}let P=null;return b.mfaInfo&&(P=bt._fromServerResponse(Be(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(y,p){const{data:m}=yield Yt((0,k.m9)(y),p);return m.email})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(y,p,m){const b=Be(y),A=yield Vl(b,{returnSecureToken:!0,email:p,password:m}),P=yield Nr._fromIdTokenResponse(b,"signIn",A);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y),A={requestType:"EMAIL_SIGNIN",email:p};ce(m.handleCodeInApp,b,"argument-error"),m&&$a(b,A,m),yield He(b,A)})).apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y),A=Jc.credentialWithLink(p,m||$e());return ce(A._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),cr(b,A)})).apply(this,arguments)}function Fr(y,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:createAuthUri",on(y,p))})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,p){const b={identifier:p,continueUri:Mt()?$e():"http://localhost"},{signinMethods:A}=yield Fr((0,k.m9)(y),b);return A||[]})).apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(y,p){const m=(0,k.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&$a(m.auth,A,p);const{email:P}=yield fe(m.auth,A);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&$a(b.auth,P,m);const{email:ie}=yield Xn(b.auth,P);ie!==y.email&&(yield y.reload())})).apply(this,arguments)}function au(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,p){return nn(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,k.m9)(y),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ie=yield ar(b,au(b.auth,P));b.displayName=ie.displayName||null,b.photoURL=ie.photoUrl||null;const _e=b.providerData.find(({providerId:Ke})=>"password"===Ke);_e&&(_e.displayName=b.displayName,_e.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ie)})).apply(this,arguments)}function uu(y,p,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(y,p,m){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),m&&(P.password=m);const ie=yield ar(y,Lt(b,P));yield y._updateTokensIfNecessary(ie,!0)})).apply(this,arguments)}class Mo{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Ad extends Mo{constructor(p,m,b,A){super(p,m,b),this.username=A}}class Md extends Mo{constructor(p,m){super(p,"facebook.com",m)}}class xo extends Ad{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Xs extends Mo{constructor(p,m){super(p,"google.com",m)}}class du extends Ad{constructor(p,m,b){super(p,"twitter.com",m,b)}}function zr(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Sd(y){var p,m;if(!y)return null;const{providerId:b}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const ie=null===(m=null===(p=ct(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ie)return new Mo(P,"anonymous"!==ie&&"custom"!==ie?ie:null)}if(!b)return null;switch(b){case"facebook.com":return new Md(P,A);case"github.com":return new xo(P,A);case"google.com":return new Xs(P,A);case"twitter.com":return new du(P,A,y.screenName||null);case"custom":case"anonymous":return new Mo(P,null);default:return new Mo(P,b,A)}}(m)}class Ds{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Ds("enroll",p)}static _fromMfaPendingCredential(p){return new Ds("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ds._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return Ds._fromIdtoken(p.multiFactorSession.idToken)}return null}}class za{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Be(p),A=m.customData._serverResponse,P=(A.mfaInfo||[]).map(_e=>bt._fromServerResponse(b,_e));ce(A.mfaPendingCredential,b,"internal-error");const ie=Ds._fromMfaPendingCredential(A.mfaPendingCredential);return new za(ie,P,function(){var _e=(0,c.Z)(function*(Ke){const ot=yield Ke._process(b,ie);delete A.mfaInfo,delete A.mfaPendingCredential;const Ct=Object.assign(Object.assign({},A),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const ft=yield Nr._fromIdTokenResponse(b,m.operationType,Ct);return yield b._updateCurrentUser(ft.user),ft;case"reauthenticate":return ce(m.user,b,"internal-error"),Nr._forOperation(m.user,m.operationType,Ct);default:Ie(b,"internal-error")}});return function(Ke){return _e.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function hr(y,p){return nn(y,"POST","/v2/accounts/mfaEnrollment:start",on(y,p))}class Ts{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>bt._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ts(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Ds._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,c.Z)(function*(){const A=p,P=yield b.getSession(),ie=yield ar(b.user,A._process(b.user.auth,P,m));return yield b.user._updateTokensIfNecessary(ie),b.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const b="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),P=yield ar(m.user,function Cg(y,p){return nn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",on(y,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ie})=>ie!==b),yield m.user._updateTokensIfNecessary(P);try{yield m.user.reload()}catch(ie){if("auth/user-token-expired"!==ie.code)throw ie}})()}}const ca=new WeakMap,pu="__sak";class Oo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(pu,"1"),this.storage.removeItem(pu),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const bn=(()=>{class y extends Oo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rd(){const y=(0,k.z$)();return un(y)||Qn(y)}()&&function lr(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Vi(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const A=this.storage.getItem(b),P=this.localCache[b];A!==P&&m(b,P,A)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((_e,Ke,ot)=>{this.notifyListeners(_e,ot)});const A=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(A);if(m.newValue!==_e)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!b)return}const P=()=>{const _e=this.storage.getItem(A);!b&&this.localCache[A]===_e||this.notifyListeners(A,_e)},ie=this.storage.getItem(A);!function Hs(){return(0,k.w1)()&&10===document.documentMode}()||ie===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,b){this.localCache[m]=b;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var A=()=>super._set,P=this;return(0,c.Z)(function*(){yield A().call(P,m,b),P.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,A=this;return(0,c.Z)(function*(){const P=yield b().call(A,m);return A.localCache[m]=JSON.stringify(P),P})()}_remove(m){var b=()=>super._remove,A=this;return(0,c.Z)(function*(){yield b().call(A,m),delete A.localCache[m]})()}}return y.type="LOCAL",y})(),Is=(()=>{class y extends Oo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let to=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(P=>P.isListeningto(m));if(b)return b;const A=new y(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,c.Z)(function*(){const A=m,{eventId:P,eventType:ie,data:_e}=A.data,Ke=b.handlersMap[ie];if(!(null==Ke?void 0:Ke.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:ie});const ot=Array.from(Ke).map(function(){var ft=(0,c.Z)(function*(Yn){return Yn(A.origin,_e)});return function(Yn){return ft.apply(this,arguments)}}()),Ct=yield function gu(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(ot);A.ports[0].postMessage({status:"done",eventId:P,eventType:ie,response:Ct})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function no(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class ii{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var A=this;return(0,c.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ie,_e;return new Promise((Ke,ot)=>{const Ct=no("",20);P.port1.start();const ft=setTimeout(()=>{ot(new Error("unsupported_event"))},b);_e={messageChannel:P,onMessage(Yn){const xi=Yn;if(xi.data.eventId===Ct)switch(xi.data.status){case"ack":clearTimeout(ft),ie=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ie),Ke(xi.data.response);break;default:clearTimeout(ft),clearTimeout(ie),ot(new Error("invalid_response"))}}},A.handlers.add(_e),P.port1.addEventListener("message",_e.onMessage),A.target.postMessage({eventType:p,eventId:Ct,data:m},[P.port2])}).finally(()=>{_e&&A.removeMessageHandler(_e)})})()}}function kt(){return window}function Tn(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function ro(){return(ro=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Mi="firebaseLocalStorageDb",Lr="firebaseLocalStorage",io="fbase_key";class wt{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function os(y,p){return y.transaction([Lr],p?"readwrite":"readonly").objectStore(Lr)}function fr(){const y=indexedDB.open(Mi,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(Lr,{keyPath:io})}catch(A){m(A)}}),y.addEventListener("success",(0,c.Z)(function*(){const b=y.result;b.objectStoreNames.contains(Lr)?p(b):(b.close(),yield function si(){const y=indexedDB.deleteDatabase(Mi);return new wt(y).toPromise()}(),p(yield fr()))}))})}function wi(y,p,m){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(y,p,m){const b=os(y,!0).put({[io]:p,value:m});return new wt(b).toPromise()})).apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(y,p){const m=os(y,!1).get(p),b=yield new wt(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Wr(y,p){const m=os(y,!0).delete(p);return new wt(m).toPromise()}const as=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield fr()),m.db})()}_withRetries(m){var b=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const P=yield b._openDb();return yield m(P)}catch(P){if(A++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Tn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=to._getInstance(function Xl(){return Tn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(A,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(A,P){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var b,A;if(m.activeServiceWorker=yield function Ro(){return ro.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ii(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(b=P[0])||void 0===b?void 0:b.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Jl(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield fr();return yield wi(m,pu,"1"),yield Wr(m,pu),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(P=>wi(P,m,b)),A.localCache[m]=b,A.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,c.Z)(function*(){const A=yield b._withRetries(P=>function mu(y,p){return Ae.apply(this,arguments)}(P,m));return b.localCache[m]=A,A})()}_remove(m){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(A=>Wr(A,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const b=yield m._withRetries(ie=>{const _e=os(ie,!1).getAll();return new wt(_e).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:ie,value:_e}of b)P.add(ie),JSON.stringify(m.localCache[ie])!==JSON.stringify(_e)&&(m.notifyListeners(ie,_e),A.push(ie));for(const ie of Object.keys(m.localCache))m.localCache[ie]&&!P.has(ie)&&(m.notifyListeners(ie,null),A.push(ie));return A})()}notifyListeners(m,b){this.localCache[m]=b;const A=this.listeners[m];if(A)for(const P of Array.from(A))P(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ss(y,p){return nn(y,"POST","/v2/accounts/mfaSignIn:start",on(y,p))}function vt(){return(vt=(0,c.Z)(function*(y){return(yield nn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function so(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=A=>{const P=ve("internal-error");P.customData=A,m(P)},b.type="text/javascript",b.charset="UTF-8",function Wa(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function oo(y){return`__${y}${Math.floor(1e6*Math.random())}`}const zi=1e12;class _f{constructor(p){this.auth=p,this.counter=zi,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new _u(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||zi;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||zi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var b;return null===(b=m._widgets.get(p||zi))||void 0===b||b.execute(),""})()}}class _u{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;ce(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qn(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Po=oo("rcb"),Vr=new tn(3e4,6e4);class Tg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,m=""){return ce(function X_(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(kt().grecaptcha):new Promise((b,A)=>{const P=kt().setTimeout(()=>{A(ve(p,"network-request-failed"))},Vr.get());kt()[Po]=()=>{kt().clearTimeout(P),delete kt()[Po];const _e=kt().grecaptcha;if(!_e)return void A(ve(p,"internal-error"));const Ke=_e.render;_e.render=(ot,Ct)=>{const ft=Ke(ot,Ct);return this.counter++,ft},this.hostLanguage=m,b(_e)},so(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Po,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),A(ve(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yf{load(p){return(0,c.Z)(function*(){return new _f(p)})()}clearedOneInstance(){}}const yu="recaptcha",vf={theme:"light",type:"image"};class bf{constructor(p,m=Object.assign({},vf),b){this.parameters=m,this.type=yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Be(b),this.isInvisible="invisible"===this.parameters.size,ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;ce(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yf:new Tg,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(P=>{const ie=_e=>{!_e||(p.tokenChangeListeners.delete(ie),P(_e))};p.tokenChangeListeners.add(ie),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=kt()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ce(Mt()&&!Tn(),p.auth,"internal-error"),yield function kd(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ec(y){return vt.apply(this,arguments)}(p.auth);ce(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ls{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ra._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function ln(){return(ln=(0,c.Z)(function*(y,p,m){const b=Be(y),A=yield pr(b,p,(0,k.m9)(m));return new ls(A,P=>cr(b,P))})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y);yield qs(!1,b,"phone");const A=yield pr(b.auth,p,(0,k.m9)(m));return new ls(A,P=>$i(b,P))})).apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y),A=yield pr(b.auth,p,(0,k.m9)(m));return new ls(A,P=>Ks(b,P))})).apply(this,arguments)}function pr(y,p,m){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y,p,m){var b;const A=yield m.verify();try{let P;if(ce("string"==typeof A,y,"argument-error"),ce(m.type===yu,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const ie=P.session;if("phoneNumber"in P)return ce("enroll"===ie.type,y,"internal-error"),(yield hr(y,{idToken:ie.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ce("signin"===ie.type,y,"internal-error");const _e=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return ce(_e,y,"missing-multi-factor-info"),(yield Ss(y,{mfaPendingCredential:ie.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ie}=yield yg(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return ie}}finally{m._reset()}})).apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(y,p){yield On((0,k.m9)(y),p)})).apply(this,arguments)}let Ci=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Be(m)}verifyPhoneNumber(m,b){return pr(this.auth,m,(0,k.m9)(b))}static credential(m,b){return ra._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:A}=m;return b&&A?ra._fromTokenResponse(b,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function No(y,p){return p?ue(p):(ce(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Pd extends mn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Wn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Wn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Za(y){return So(y.auth,new Pd(y),y.bypassAuthState)}function wf(y){const{auth:p,user:m}=y;return ce(m,p,"internal-error"),Dd(m,new Pd(y),y.bypassAuthState)}function Nd(y){return cs.apply(this,arguments)}function cs(){return(cs=(0,c.Z)(function*(y){const{auth:p,user:m}=y;return ce(m,p,"internal-error"),On(m,new Pd(y),y.bypassAuthState)})).apply(this,arguments)}class Kr{constructor(p,m,b,A,P=!1){this.auth=p,this.resolver=b,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(b,A){p.pendingPromise={resolve:b,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:A,postBody:P,tenantId:ie,error:_e,type:Ke}=p;if(_e)return void m.reject(_e);const ot={auth:m.auth,requestUri:b,sessionId:A,tenantId:ie||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ke)(ot))}catch(Ct){m.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Za;case"linkViaPopup":case"linkViaRedirect":return Nd;case"reauthViaPopup":case"reauthViaRedirect":return wf;default:Ie(this.auth,"internal-error")}}resolve(p){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tc=new tn(2e3,1e4);function us(){return(us=(0,c.Z)(function*(y,p,m){const b=Be(y);qe(y,p,zs);const A=No(b,m);return new pa(b,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y);qe(b.auth,p,zs);const A=No(b.auth,m);return new pa(b.auth,"reauthViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}function Fd(){return(Fd=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y);qe(b.auth,p,zs);const A=No(b.auth,m);return new pa(b.auth,"linkViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}let pa=(()=>{class y extends Kr{constructor(m,b,A,P,ie){super(m,b,P,ie),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const b=yield m.execute();return ce(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,c.Z)(function*(){le(1===m.filter.length,"Popup operations only handle one event");const b=no();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,A;this.pollId=(null===(A=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,tc.get())};m()}}return y.currentPopupAction=null,y})();const Ya=new Map;class Vd extends Kr{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let b=Ya.get(m.auth._key());if(!b){try{const P=(yield function D(y,p){return T.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(P)}catch(A){b=()=>Promise.reject(A)}Ya.set(m.auth._key(),b)}return m.bypassAuthState||Ya.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const A=yield b.auth._redirectUserForId(p.eventId);if(A)return b.user=A,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function T(){return(T=(0,c.Z)(function*(y,p){const m=Ve(p),b=pe(y);if(!(yield b._isAvailable()))return!1;const A="true"===(yield b._get(m));return yield b._remove(m),A})).apply(this,arguments)}function R(y,p){return B.apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(y,p){return pe(y)._set(Ve(p),"true")})).apply(this,arguments)}function pe(y){return ue(y._redirectPersistence)}function Ve(y){return we("pendingRedirect",y.config.apiKey,y.name)}function At(){return(At=(0,c.Z)(function*(y,p,m){const b=Be(y);qe(y,p,zs);const A=No(b,m);return yield R(A,b),A._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y);qe(b.auth,p,zs);const A=No(b.auth,m);yield R(A,b.auth);const P=yield Bd(b);return A._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(y,p,m){const b=(0,k.m9)(y);qe(b.auth,p,zs);const A=No(b.auth,m);yield qs(!1,b,p.providerId),yield R(A,b.auth);const P=yield Bd(b);return A._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(y,p){return yield Be(y)._initializationPromise,ds(y,p,!1)})).apply(this,arguments)}function ds(y,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(y,p,m=!1){const b=Be(y),A=No(b,p),ie=yield new Vd(b,A,m).execute();return ie&&!m&&(delete ie.user._redirectEventId,yield b._persistUserIfCurrent(ie.user),yield b._setRedirectUser(null,p)),ie})).apply(this,arguments)}function Bd(y){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(y){const p=no(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class br{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Ud(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!bu(p)){const A=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ur(p))}saveEventToCache(p){this.cachedEventUids.add(ur(p)),this.lastProcessedEventTime=Date.now()}}function ur(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function bu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function jd(y){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(y,p={}){return nn(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Cf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ey=/^https?/;function uo(){return(uo=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield jd(y);for(const m of p)try{if(Xa(m))return}catch(b){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Xa(y){const p=$e(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const ie=new URL(y);return""===ie.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ie.hostname===b}if(!ey.test(m))return!1;if(Cf.test(y))return b===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(b)}const ny=new tn(3e4,6e4);function Df(){const y=kt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Hd=null;function If(y){return Hd=Hd||function Tf(y){return new Promise((p,m)=>{var b,A,P;function ie(){Df(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Df(),m(ve(y,"network-request-failed"))},timeout:ny.get()})}if(null===(A=null===(b=kt().gapi)||void 0===b?void 0:b.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=kt().gapi)||void 0===P?void 0:P.load)){const _e=oo("iframefcb");return kt()[_e]=()=>{gapi.load?ie():m(ve(y,"network-request-failed"))},so(`https://apis.google.com/js/api.js?onload=${_e}`).catch(Ke=>m(Ke))}ie()}}).catch(p=>{throw Hd=null,p})}(y),Hd}const Sf=new tn(5e3,15e3),$d={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},el=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tl(y){const p=y.config;ce(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?ir(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:ee.SDK_VERSION},A=el.get(y.config.apiHost);A&&(b.eid=A);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${m}?${(0,k.xO)(b).slice(1)}`}function Gd(){return Gd=(0,c.Z)(function*(y){const p=yield If(y),m=kt().gapi;return ce(m,y,"internal-error"),p.open({where:document.body,url:tl(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$d,dontclear:!0},b=>new Promise(function(){var A=(0,c.Z)(function*(P,ie){yield b.restyle({setHideOnLeave:!1});const _e=ve(y,"network-request-failed"),Ke=kt().setTimeout(()=>{ie(_e)},Sf.get());function ot(){kt().clearTimeout(Ke),P(b)}b.ping(ot).then(ot,()=>{ie(_e)})});return function(P,ie){return A.apply(this,arguments)}}()))}),Gd.apply(this,arguments)}const Mf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Of{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function rl(y,p,m,b,A,P){ce(y.config.authDomain,y,"auth-domain-config-required"),ce(y.config.apiKey,y,"invalid-api-key");const ie={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ee.SDK_VERSION,eventId:A};if(p instanceof zs){p.setDefaultLanguage(y.languageCode),ie.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(ie.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ke,ot]of Object.entries(P||{}))ie[Ke]=ot}if(p instanceof vi){const Ke=p.getScopes().filter(ot=>""!==ot);Ke.length>0&&(ie.scopes=Ke.join(","))}y.tenantId&&(ie.tid=y.tenantId);const _e=ie;for(const Ke of Object.keys(_e))void 0===_e[Ke]&&delete _e[Ke];return`${function Rg({config:y}){return y.emulator?ir(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(_e).slice(1)}`}const Kn="webStorageSupport";class kf extends class Rf{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return et("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new kf(p)}_finalizeEnroll(p,m,b){return function xd(y,p){return nn(y,"POST","/v2/accounts/mfaEnrollment:finalize",on(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function rt(y,p){return nn(y,"POST","/v2/accounts/mfaSignIn:finalize",on(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kg=(()=>{class y{constructor(){}static assertion(m){return kf._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Pg="@firebase/auth",Ng="0.19.12";class ac{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var A;p((null===(A=b)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ho(){return window}function lc(){return(lc=(0,c.Z)(function*(y,p,m){var b;const{BuildInfo:A}=ho();le(p.sessionId,"AuthEvent did not contain a session ID");const P=yield T0(p.sessionId),ie={};return Qn()?ie.ibi=A.packageName:Bn()?ie.apn=A.packageName:Ie(y,"operation-not-supported-in-this-environment"),A.displayName&&(ie.appDisplayName=A.displayName),ie.sessionId=P,rl(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,ie)})).apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(y){const{BuildInfo:p}=ho(),m={};Qn()?m.iosBundleId=p.packageName:Bn()?m.androidPackageName=p.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield jd(y,m)})).apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(y,p,m){const{cordova:b}=ho();let A=()=>{};try{yield new Promise((P,ie)=>{let _e=null;function Ke(){var ft;P();const Yn=null===(ft=b.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ot(){_e||(_e=window.setTimeout(()=>{ie(ve(y,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}p.addPassiveListener(Ke),document.addEventListener("resume",ot,!1),Bn()&&document.addEventListener("visibilitychange",Ct,!1),A=()=>{p.removePassiveListener(Ke),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Ct,!1),_e&&window.clearTimeout(_e)}})}finally{A()}})).apply(this,arguments)}function T0(y){return cc.apply(this,arguments)}function cc(){return(cc=(0,c.Z)(function*(y){const p=ry(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ry(y){if(le(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function Nf(y){(0,ee._registerComponent)(new W.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),{apiKey:P,authDomain:ie}=b.options;return((_e,Ke)=>{ce(P&&!P.includes(":"),"invalid-api-key",{appName:_e.name}),ce(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:_e.name});const ot={apiKey:P,authDomain:ie,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eo(y)},Ct=new ni(_e,Ke,ot);return function Ce(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(ue);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Ct,m),Ct})(b,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new W.wA("auth-internal",p=>{const m=Be(p.getProvider("auth").getImmediate());return new ac(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Pg,Ng,function Pf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ee.registerVersion)(Pg,Ng,"esm2017")}("Browser");class sl extends br{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function iy(y){return dc.apply(this,arguments)}function dc(){return(dc=(0,c.Z)(function*(y){const p=yield Vo()._get(Zd(y));return p&&(yield Vo()._remove(Zd(y))),p})).apply(this,arguments)}function Vf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function Vo(){return ue(bn)}function Zd(y){return we("authEvent",y.config.apiKey,y.name)}function hs(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,k.zd)(m.join("?"))}function Bf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function _a(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function jg(y=(0,k.z$)()){return!("file:"!==_a()&&"ionic:"!==_a()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const y=self.localStorage,p=no();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Cu(y=(0,k.z$)()){return function I0(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function S0(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch(y){return Bo()&&(0,k.hl)()}return!1}function Bo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function xs(){return(function wu(){return"http:"===_a()||"https:"===_a()}()||(0,k.ru)()||jg())&&!function Hg(){return(0,k.b$)()||(0,k.UG)()}()&&oi()&&!Bo()}function Qd(){return jg()&&"undefined"!=typeof document}function ya(){return(ya=(0,c.Z)(function*(){return!!Qd()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const qi={LOCAL:"local",NONE:"none",SESSION:"session"},Du=ce,Jd="persistence";function Tu(y){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,c.Z)(function*(y){yield y._initializationPromise;const p=th(),m=we(Jd,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function th(){var y;try{return(null===(y=function va(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const $g=ce;class Os{constructor(){this.browserResolver=ue(class sc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=ds}_openPopup(p,m,b,A){var P=this;return(0,c.Z)(function*(){var ie;le(null===(ie=P.eventManagers[p._key()])||void 0===ie?void 0:ie.manager,"_initialize() not called before _openPopup()");const _e=rl(p,m,b,$e(),A);return function ma(y,p,m,b=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),ie=Math.max((window.screen.availWidth-b)/2,0).toString();let _e="";const Ke=Object.assign(Object.assign({},Mf),{width:b.toString(),height:A.toString(),top:P,left:ie}),ot=(0,k.z$)().toLowerCase();m&&(_e=Tr(ot)?"_blank":m),Et(ot)&&(p=p||"http://localhost",Ke.scrollbars="yes");const Ct=Object.entries(Ke).reduce((Yn,[xi,ba])=>`${Yn}${xi}=${ba},`,"");if(function js(y=(0,k.z$)()){var p;return Qn(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ot)&&"_self"!==_e)return function xg(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",_e),new Of(null);const ft=window.open(p||"",_e,Ct);ce(ft,y,"popup-blocked");try{ft.focus()}catch(Yn){}return new Of(ft)}(p,_e,no())})()}_openRedirect(p,m,b,A){var P=this;return(0,c.Z)(function*(){return yield P._originValidation(p),function Dt(y){kt().location.href=y}(rl(p,m,b,$e(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:P}=this.eventManagers[m];return A?Promise.resolve(A):(le(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const b=yield function Ag(y){return Gd.apply(this,arguments)}(p),A=new br(p);return b.register("authEvent",P=>(ce(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=b,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Kn,{type:Kn},A=>{var P;const ie=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[Kn];void 0!==ie&&m(!!ie),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ty(y){return uo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Vi()||un()||Qn()}}),this.cordovaResolver=ue(class Yd{constructor(){this._redirectPersistence=Is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ds}_initialize(p){var m=this;return(0,c.Z)(function*(){const b=p._key();let A=m.eventManagers.get(b);return A||(A=new sl(p),m.eventManagers.set(b,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,A){var P=this;return(0,c.Z)(function*(){!function Lf(y){var p,m,b,A,P,ie,_e,Ke,ot,Ct;const ft=ho();ce("function"==typeof(null===(p=null==ft?void 0:ft.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(void 0!==(null===(m=null==ft?void 0:ft.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce("function"==typeof(null===(P=null===(A=null===(b=null==ft?void 0:ft.cordova)||void 0===b?void 0:b.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(Ke=null===(_e=null===(ie=null==ft?void 0:ft.cordova)||void 0===ie?void 0:ie.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ke?void 0:Ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(Ct=null===(ot=null==ft?void 0:ft.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Ct?void 0:Ct.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const ie=yield P._initialize(p);yield ie.initialized(),ie.resetRedirect(),function se(){Ya.clear()}(),yield P._originValidation(p);const _e=function Lo(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Vf(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(p,b,A);yield function Vg(y,p){return Vo()._set(Zd(y),p)}(p,_e);const Ke=yield function Lg(y,p,m){return lc.apply(this,arguments)}(p,_e,m),ot=yield function il(y){const{cordova:p}=ho();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let A=null;b?p.plugins.browsertab.openUrl(y):A=p.InAppBrowser.open(y,function bs(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(A)})})}(Ke);return function Ff(y,p,m){return Eu.apply(this,arguments)}(p,ie,ot)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Kd(y){return Di.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:A,BuildInfo:P}=ho(),ie=setTimeout((0,c.Z)(function*(){yield iy(p),m.onEvent(Bf())}),500),_e=function(){var Ct=(0,c.Z)(function*(ft){clearTimeout(ie);const Yn=yield iy(p);let xi=null;Yn&&(null==ft?void 0:ft.url)&&(xi=function hc(y,p){var m,b;const A=function fo(y){const p=hs(y),m=p.link?decodeURIComponent(p.link):void 0,b=hs(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return hs(A).link||A||b||m||y}(p);if(A.includes("/__/auth/callback")){const P=hs(A),ie=P.firebaseError?function Bg(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,_e=null===(b=null===(m=null==ie?void 0:ie.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ke=_e?ve(_e):null;return Ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Yn,ft.url)),m.onEvent(xi||Bf())});return function(Yn){return Ct.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,_e);const Ke=A,ot=`${P.packageName.toLowerCase()}://`;ho().handleOpenURL=function(){var Ct=(0,c.Z)(function*(ft){if(ft.toLowerCase().startsWith(ot)&&_e({url:ft}),"function"==typeof Ke)try{Ke(ft)}catch(Yn){console.error(Yn)}});return function(ft){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Is,this._completeRedirectFn=ds}_initialize(p){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,A){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,m,b,A)})()}_openRedirect(p,m,b,A){var P=this;return(0,c.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,m,b,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Qd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $g(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Qr(){return ya.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function nh(y){return y.unwrap()}function Uf(y){return Iu(y)}function Iu(y){const{_tokenResponse:p}=y instanceof k.ZR?y.customData:y;if(!p)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ci.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Ua;break;case"facebook.com":b=To;break;case"github.com":b=wd;break;case"twitter.com":b=Ll;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:ie,pendingToken:_e,nonce:Ke}=p;return P||ie||A||_e?_e?m.startsWith("saml.")?Hi._create(m,_e):Es._fromParams({providerId:m,signInMethod:m,pendingToken:_e,idToken:A,accessToken:P}):new ia(m).credential({idToken:A,accessToken:P,rawNonce:Ke}):null}return y instanceof k.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function gr(y,p){return p.catch(m=>{throw m instanceof k.ZR&&function ly(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Gg(y,function Ql(y,p){var m;const b=(0,k.m9)(y),A=p;return ce(p.customData.operationType,b,"argument-error"),ce(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),za._fromError(b,A)}(y,p));else if(b){const A=Iu(p),P=p;A&&(P.credential=A,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:Uf(m),additionalUserInfo:zr(m),user:Ki.getOrCreate(A)}})}function gc(y,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>gr(y,m.confirm(b))}})).apply(this,arguments)}class Gg{constructor(p,m){this.resolver=m,this.auth=function ay(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return gr(nh(this.auth),this.resolver.resolveSignIn(p))}}class Ki{constructor(p){this._delegate=p,this.multiFactor=function Od(y){const p=(0,k.m9)(y);return ca.has(p)||ca.set(p,Ts._fromUser(p)),ca.get(p)}(p)}static getOrCreate(p){return Ki.USER_MAP.has(p)||Ki.USER_MAP.set(p,new Ki(p)),Ki.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,c.Z)(function*(){return gr(m.auth,$i(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,c.Z)(function*(){return gc(b.auth,function qa(y,p,m){return tr.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,c.Z)(function*(){return gr(m.auth,function Ig(y,p,m){return Fd.apply(this,arguments)}(m._delegate,p,Os))})()}linkWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Tu(Be(m.auth)),function cn(y,p,m){return function Qa(y,p,m){return Fo.apply(this,arguments)}(y,p,m)}(m._delegate,p,Os)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,c.Z)(function*(){return gr(m.auth,Ks(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return gc(this.auth,function vu(y,p,m){return fa.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return gr(this.auth,function nc(y,p,m){return Wi.apply(this,arguments)}(this._delegate,p,Os))}reauthenticateWithRedirect(p){var m=this;return(0,c.Z)(function*(){return yield Tu(Be(m.auth)),function Qt(y,p,m){return function Ft(y,p,m){return Zr.apply(this,arguments)}(y,p,m)}(m._delegate,p,Os)})()}sendEmailVerification(p){return function Gi(y,p){return ou.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,c.Z)(function*(){return yield function ja(y,p){return Xc.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function cu(y,p){return uu((0,k.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Id(y,p){return uu((0,k.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Ka(y,p){return As.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function la(y,p){return lu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Zl(y,p,m){return Yl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ki.USER_MAP=new WeakMap;const Uo=ce;let jf=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;Uo(A,"invalid-api-key",{appName:m.name}),Uo(A,"invalid-api-key",{appName:m.name});const P="undefined"!=typeof window?Os:void 0;this._delegate=b.initialize({options:{persistence:zg(A,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ki.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Cn(y,p,m){const b=Be(y);ce(b._canInitEmulator,b,"emulator-config-failed"),ce(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),P=dr(p),{host:ie,port:_e}=function ns(y){const p=dr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(b);if(A){const P=A[1];return{host:P,port:Jn(b.substr(P.length+1))}}{const[P,ie]=b.split(":");return{host:P,port:Jn(ie)}}}(p);b.config.emulator={url:`${P}//${ie}${null===_e?"":`:${_e}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ie,port:_e,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function _i(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function tu(y,p){return Pe.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Yt(this._delegate,m)}confirmPasswordReset(m,b){return function Wl(y,p,m){return eu.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var A=this;return(0,c.Z)(function*(){return gr(A._delegate,function aa(y,p,m){return Ei.apply(this,arguments)}(A._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Kl(y,p){return Js.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function su(y,p){const m=Do.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Uo(xs(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function co(y,p){return Yr.apply(this,arguments)}(m._delegate,Os);return b?gr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Zn(y,p){Be(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,A){const{next:P,error:ie,complete:_e}=mr(m,b,A);return this._delegate.onAuthStateChanged(P,ie,_e)}onIdTokenChanged(m,b,A){const{next:P,error:ie,complete:_e}=mr(m,b,A);return this._delegate.onIdTokenChanged(P,ie,_e)}sendSignInLinkToEmail(m,b){return function iu(y,p,m){return Td.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Gl(y,p,m){return zl.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,c.Z)(function*(){let A;switch(function oy(y,p){Du(Object.values(qi).includes(p),y,"invalid-persistence-type"),(0,k.b$)()?Du(p!==qi.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Du(p===qi.NONE,y,"unsupported-persistence-type"):Bo()?Du(p===qi.NONE||p===qi.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Du(p===qi.NONE||oi(),y,"unsupported-persistence-type")}(b._delegate,m),m){case qi.SESSION:A=Is;break;case qi.LOCAL:A=(yield ue(as)._isAvailable())?as:bn;break;case qi.NONE:A=X;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return gr(this._delegate,function Bl(y){return Cd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return gr(this._delegate,cr(this._delegate,m))}signInWithCustomToken(m){return gr(this._delegate,function Zs(y,p){return Ys.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return gr(this._delegate,function ru(y,p,m){return cr((0,k.m9)(y),Jc.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return gr(this._delegate,function ql(y,p,m){return Qs.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return gc(this._delegate,function Ef(y,p,m){return ln.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,c.Z)(function*(){return Uo(xs(),b._delegate,"operation-not-supported-in-this-environment"),gr(b._delegate,function Ms(y,p,m){return us.apply(this,arguments)}(b._delegate,m,Os))})()}signInWithRedirect(m){var b=this;return(0,c.Z)(function*(){return Uo(xs(),b._delegate,"operation-not-supported-in-this-environment"),yield Tu(b._delegate),function it(y,p,m){return function Ot(y,p,m){return At.apply(this,arguments)}(y,p,m)}(b._delegate,m,Os)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Fn(y,p){return oa.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=qi,y})();function mr(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const A=b;return{next:ie=>A(ie&&Ki.getOrCreate(ie)),error:p,complete:m}}function zg(y,p){const m=function eh(y,p){const m=th();if(!m)return[];const b=we(Jd,y,p);switch(m.getItem(b)){case qi.NONE:return[X];case qi.LOCAL:return[as,Is];case qi.SESSION:return[Is];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(as)&&m.push(as),"undefined"!=typeof window)for(const b of[bn,Is])m.includes(b)||m.push(b);return m.includes(X)||m.push(X),m}class Hf{constructor(){this.providerId="phone",this._delegate=new Ci(nh($.Z.auth()))}static credential(p,m){return Ci.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Hf.PHONE_SIGN_IN_METHOD=Ci.PHONE_SIGN_IN_METHOD,Hf.PROVIDER_ID=Ci.PROVIDER_ID;const cy=ce;class uy{constructor(p,m,b=$.Z.app()){var A;cy(null===(A=b.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new bf(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wg(y){y.INTERNAL.registerComponent(new W.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new jf(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Jc,FacebookAuthProvider:To,GithubAuthProvider:wd,GoogleAuthProvider:Ua,OAuthProvider:ia,SAMLAuthProvider:Si,PhoneAuthProvider:Hf,PhoneMultiFactorGenerator:kg,RecaptchaVerifier:uy,TwitterAuthProvider:Ll,Auth:jf,AuthCredential:mn,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}($.Z)},1135:(ne,G,S)=>{S.d(G,{X:()=>$});var c=S(7579);class $ extends c.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const U=super._subscribe(ee);return!U.closed&&ee.next(this._value),U}getValue(){const{hasError:ee,thrownError:U,_value:te}=this;if(ee)throw U;return this._throwIfClosed(),te}next(ee){super.next(this._value=ee)}}},8306:(ne,G,S)=>{S.d(G,{y:()=>F});var c=S(930),$=S(727),k=S(8822),ee=S(4671);var W=S(2416),Q=S(576),z=S(2806);let F=(()=>{class be{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const de=new be;return de.source=this,de.operator=ke,de}subscribe(ke,de,he){const je=function Te(be){return be&&be instanceof c.Lv||function q(be){return be&&(0,Q.m)(be.next)&&(0,Q.m)(be.error)&&(0,Q.m)(be.complete)}(be)&&(0,$.Nn)(be)}(ke)?ke:new c.Hp(ke,de,he);return(0,z.x)(()=>{const{operator:Le,source:Ie}=this;je.add(Le?Le.call(je,Ie):Ie?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(ke){try{return this._subscribe(ke)}catch(de){ke.error(de)}}forEach(ke,de){return new(de=L(de))((he,je)=>{const Le=new c.Hp({next:Ie=>{try{ke(Ie)}catch(ve){je(ve),Le.unsubscribe()}},error:je,complete:he});this.subscribe(Le)})}_subscribe(ke){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(ke)}[k.L](){return this}pipe(...ke){return function te(be){return 0===be.length?ee.y:1===be.length?be[0]:function(ke){return be.reduce((de,he)=>he(de),ke)}}(ke)(this)}toPromise(ke){return new(ke=L(ke))((de,he)=>{let je;this.subscribe(Le=>je=Le,Le=>he(Le),()=>de(je))})}}return be.create=xe=>new be(xe),be})();function L(be){var xe;return null!==(xe=null!=be?be:W.v.Promise)&&void 0!==xe?xe:Promise}},4707:(ne,G,S)=>{S.d(G,{t:()=>k});var c=S(7579),$=S(6063);class k extends c.x{constructor(U=1/0,te=1/0,W=$.l){super(),this._bufferSize=U,this._windowTime=te,this._timestampProvider=W,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=te===1/0,this._bufferSize=Math.max(1,U),this._windowTime=Math.max(1,te)}next(U){const{isStopped:te,_buffer:W,_infiniteTimeWindow:Q,_timestampProvider:z,_windowTime:F}=this;te||(W.push(U),!Q&&W.push(z.now()+F)),this._trimBuffer(),super.next(U)}_subscribe(U){this._throwIfClosed(),this._trimBuffer();const te=this._innerSubscribe(U),{_infiniteTimeWindow:W,_buffer:Q}=this,z=Q.slice();for(let F=0;F<z.length&&!U.closed;F+=W?1:2)U.next(z[F]);return this._checkFinalizedStatuses(U),te}_trimBuffer(){const{_bufferSize:U,_timestampProvider:te,_buffer:W,_infiniteTimeWindow:Q}=this,z=(Q?1:2)*U;if(U<1/0&&z<W.length&&W.splice(0,W.length-z),!Q){const F=te.now();let L=0;for(let q=1;q<W.length&&W[q]<=F;q+=2)L=q;L&&W.splice(0,L+1)}}}},7579:(ne,G,S)=>{S.d(G,{x:()=>W});var c=S(8306),$=S(727);const ee=(0,S(3888).d)(z=>function(){z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=S(8737),te=S(2806);let W=(()=>{class z extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const q=new Q(this,this);return q.operator=L,q}_throwIfClosed(){if(this.closed)throw new ee}next(L){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(L)}})}error(L){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:q}=this;for(;q.length;)q.shift().error(L)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:q,isStopped:Te,observers:be}=this;return q||Te?$.Lc:(this.currentObservers=null,be.push(L),new $.w0(()=>{this.currentObservers=null,(0,U.P)(be,L)}))}_checkFinalizedStatuses(L){const{hasError:q,thrownError:Te,isStopped:be}=this;q?L.error(Te):be&&L.complete()}asObservable(){const L=new c.y;return L.source=this,L}}return z.create=(F,L)=>new Q(F,L),z})();class Q extends W{constructor(F,L){super(),this.destination=F,this.source=L}next(F){var L,q;null===(q=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===q||q.call(L,F)}error(F){var L,q;null===(q=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===q||q.call(L,F)}complete(){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===L||L.call(F)}_subscribe(F){var L,q;return null!==(q=null===(L=this.source)||void 0===L?void 0:L.subscribe(F))&&void 0!==q?q:$.Lc}}},930:(ne,G,S)=>{S.d(G,{Hp:()=>ke,Lv:()=>q});var c=S(576),$=S(727),k=S(2416),ee=S(7849),U=S(5032);const te=z("C",void 0,void 0);function z(Ie,ve,Se){return{kind:Ie,value:ve,error:Se}}var F=S(3410),L=S(2806);class q extends $.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,$.Nn)(ve)&&ve.add(this)):this.destination=Le}static create(ve,Se,qe){return new ke(ve,Se,qe)}next(ve){this.isStopped?je(function Q(Ie){return z("N",Ie,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?je(function W(Ie){return z("E",void 0,Ie)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?je(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function be(Ie,ve){return Te.call(Ie,ve)}class xe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Se}=this;if(Se.next)try{Se.next(ve)}catch(qe){de(qe)}}error(ve){const{partialObserver:Se}=this;if(Se.error)try{Se.error(ve)}catch(qe){de(qe)}else de(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Se){de(Se)}}}class ke extends q{constructor(ve,Se,qe){let Ze;if(super(),(0,c.m)(ve)||!ve)Ze={next:null!=ve?ve:void 0,error:null!=Se?Se:void 0,complete:null!=qe?qe:void 0};else{let ce;this&&k.v.useDeprecatedNextContext?(ce=Object.create(ve),ce.unsubscribe=()=>this.unsubscribe(),Ze={next:ve.next&&be(ve.next,ce),error:ve.error&&be(ve.error,ce),complete:ve.complete&&be(ve.complete,ce)}):Ze=ve}this.destination=new xe(Ze)}}function de(Ie){k.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Ie):(0,ee.h)(Ie)}function je(Ie,ve){const{onStoppedNotification:Se}=k.v;Se&&F.z.setTimeout(()=>Se(Ie,ve))}const Le={closed:!0,next:U.Z,error:function he(Ie){throw Ie},complete:U.Z}},727:(ne,G,S)=>{S.d(G,{Lc:()=>te,w0:()=>U,Nn:()=>W});var c=S(576);const k=(0,S(3888).d)(z=>function(L){z(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((q,Te)=>`${Te+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var ee=S(8737);class U{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const be of L)be.remove(this);else L.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(be){F=be instanceof k?be.errors:[be]}const{_finalizers:Te}=this;if(Te){this._finalizers=null;for(const be of Te)try{Q(be)}catch(xe){F=null!=F?F:[],xe instanceof k?F=[...F,...xe.errors]:F.push(xe)}}if(F)throw new k(F)}}add(F){var L;if(F&&F!==this)if(this.closed)Q(F);else{if(F instanceof U){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(F)}}_hasParent(F){const{_parentage:L}=this;return L===F||Array.isArray(L)&&L.includes(F)}_addParent(F){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(F),L):L?[L,F]:F}_removeParent(F){const{_parentage:L}=this;L===F?this._parentage=null:Array.isArray(L)&&(0,ee.P)(L,F)}remove(F){const{_finalizers:L}=this;L&&(0,ee.P)(L,F),F instanceof U&&F._removeParent(this)}}U.EMPTY=(()=>{const z=new U;return z.closed=!0,z})();const te=U.EMPTY;function W(z){return z instanceof U||z&&"closed"in z&&(0,c.m)(z.remove)&&(0,c.m)(z.add)&&(0,c.m)(z.unsubscribe)}function Q(z){(0,c.m)(z)?z():z.unsubscribe()}},2416:(ne,G,S)=>{S.d(G,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ne,G,S)=>{S.d(G,{E:()=>$});const $=new(S(8306).y)(U=>U.complete())},8996:(ne,G,S)=>{S.d(G,{D:()=>ve});var c=S(8421),$=S(5363),k=S(9468),te=S(8306),Q=S(2202),z=S(576),F=S(9672);function q(Se,qe){if(!Se)throw new Error("Iterable cannot be null");return new te.y(Ze=>{(0,F.f)(Ze,qe,()=>{const ce=Se[Symbol.asyncIterator]();(0,F.f)(Ze,qe,()=>{ce.next().then(et=>{et.done?Ze.complete():Ze.next(et.value)})},0,!0)})})}var Te=S(3670),be=S(8239),xe=S(1144),ke=S(6495),de=S(2206),he=S(4532),je=S(3260);function ve(Se,qe){return qe?function Ie(Se,qe){if(null!=Se){if((0,Te.c)(Se))return function ee(Se,qe){return(0,c.Xf)(Se).pipe((0,k.R)(qe),(0,$.Q)(qe))}(Se,qe);if((0,xe.z)(Se))return function W(Se,qe){return new te.y(Ze=>{let ce=0;return qe.schedule(function(){ce===Se.length?Ze.complete():(Ze.next(Se[ce++]),Ze.closed||this.schedule())})})}(Se,qe);if((0,be.t)(Se))return function U(Se,qe){return(0,c.Xf)(Se).pipe((0,k.R)(qe),(0,$.Q)(qe))}(Se,qe);if((0,de.D)(Se))return q(Se,qe);if((0,ke.T)(Se))return function L(Se,qe){return new te.y(Ze=>{let ce;return(0,F.f)(Ze,qe,()=>{ce=Se[Q.h](),(0,F.f)(Ze,qe,()=>{let et,le;try{({value:et,done:le}=ce.next())}catch(ye){return void Ze.error(ye)}le?Ze.complete():Ze.next(et)},0,!0)}),()=>(0,z.m)(null==ce?void 0:ce.return)&&ce.return()})}(Se,qe);if((0,je.L)(Se))return function Le(Se,qe){return q((0,je.Q)(Se),qe)}(Se,qe)}throw(0,he.z)(Se)}(Se,qe):(0,c.Xf)(Se)}},8421:(ne,G,S)=>{S.d(G,{Xf:()=>Te});var c=S(655),$=S(1144),k=S(8239),ee=S(8306),U=S(3670),te=S(2206),W=S(4532),Q=S(6495),z=S(3260),F=S(576),L=S(7849),q=S(8822);function Te(Ie){if(Ie instanceof ee.y)return Ie;if(null!=Ie){if((0,U.c)(Ie))return function be(Ie){return new ee.y(ve=>{const Se=Ie[q.L]();if((0,F.m)(Se.subscribe))return Se.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,$.z)(Ie))return function xe(Ie){return new ee.y(ve=>{for(let Se=0;Se<Ie.length&&!ve.closed;Se++)ve.next(Ie[Se]);ve.complete()})}(Ie);if((0,k.t)(Ie))return function ke(Ie){return new ee.y(ve=>{Ie.then(Se=>{ve.closed||(ve.next(Se),ve.complete())},Se=>ve.error(Se)).then(null,L.h)})}(Ie);if((0,te.D)(Ie))return he(Ie);if((0,Q.T)(Ie))return function de(Ie){return new ee.y(ve=>{for(const Se of Ie)if(ve.next(Se),ve.closed)return;ve.complete()})}(Ie);if((0,z.L)(Ie))return function je(Ie){return he((0,z.Q)(Ie))}(Ie)}throw(0,W.z)(Ie)}function he(Ie){return new ee.y(ve=>{(function Le(Ie,ve){var Se,qe,Ze,ce;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Se=(0,c.KL)(Ie);!(qe=yield Se.next()).done;)if(ve.next(qe.value),ve.closed)return}catch(et){Ze={error:et}}finally{try{qe&&!qe.done&&(ce=Se.return)&&(yield ce.call(Se))}finally{if(Ze)throw Ze.error}}ve.complete()})})(Ie,ve).catch(Se=>ve.error(Se))})}},6451:(ne,G,S)=>{S.d(G,{T:()=>te});var c=S(8189),$=S(8421),k=S(515),ee=S(3269),U=S(8996);function te(...W){const Q=(0,ee.yG)(W),z=(0,ee._6)(W,1/0),F=W;return F.length?1===F.length?(0,$.Xf)(F[0]):(0,c.J)(z)((0,U.D)(F,Q)):k.E}},9646:(ne,G,S)=>{S.d(G,{of:()=>k});var c=S(3269),$=S(8996);function k(...ee){const U=(0,c.yG)(ee);return(0,$.D)(ee,U)}},5403:(ne,G,S)=>{S.d(G,{x:()=>$});var c=S(930);function $(ee,U,te,W,Q){return new k(ee,U,te,W,Q)}class k extends c.Lv{constructor(U,te,W,Q,z,F){super(U),this.onFinalize=z,this.shouldUnsubscribe=F,this._next=te?function(L){try{te(L)}catch(q){U.error(q)}}:super._next,this._error=Q?function(L){try{Q(L)}catch(q){U.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(L){U.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var U;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(U=this.onFinalize)||void 0===U||U.call(this))}}}},262:(ne,G,S)=>{S.d(G,{K:()=>ee});var c=S(8421),$=S(5403),k=S(4482);function ee(U){return(0,k.e)((te,W)=>{let F,Q=null,z=!1;Q=te.subscribe((0,$.x)(W,void 0,void 0,L=>{F=(0,c.Xf)(U(L,ee(U)(te))),Q?(Q.unsubscribe(),Q=null,F.subscribe(W)):z=!0})),z&&(Q.unsubscribe(),Q=null,F.subscribe(W))})}},4351:(ne,G,S)=>{S.d(G,{b:()=>k});var c=S(5577),$=S(576);function k(ee,U){return(0,$.m)(U)?(0,c.z)(ee,U,1):(0,c.z)(ee,1)}},8372:(ne,G,S)=>{S.d(G,{b:()=>ee});var c=S(4986),$=S(4482),k=S(5403);function ee(U,te=c.z){return(0,$.e)((W,Q)=>{let z=null,F=null,L=null;const q=()=>{if(z){z.unsubscribe(),z=null;const be=F;F=null,Q.next(be)}};function Te(){const be=L+U,xe=te.now();if(xe<be)return z=this.schedule(void 0,be-xe),void Q.add(z);q()}W.subscribe((0,k.x)(Q,be=>{F=be,L=te.now(),z||(z=te.schedule(Te,U),Q.add(z))},()=>{q(),Q.complete()},void 0,()=>{F=z=null}))})}},1884:(ne,G,S)=>{S.d(G,{x:()=>ee});var c=S(4671),$=S(4482),k=S(5403);function ee(te,W=c.y){return te=null!=te?te:U,(0,$.e)((Q,z)=>{let F,L=!0;Q.subscribe((0,k.x)(z,q=>{const Te=W(q);(L||!te(F,Te))&&(L=!1,F=Te,z.next(q))}))})}function U(te,W){return te===W}},9300:(ne,G,S)=>{S.d(G,{h:()=>k});var c=S(4482),$=S(5403);function k(ee,U){return(0,c.e)((te,W)=>{let Q=0;te.subscribe((0,$.x)(W,z=>ee.call(U,z,Q++)&&W.next(z)))})}},4004:(ne,G,S)=>{S.d(G,{U:()=>k});var c=S(4482),$=S(5403);function k(ee,U){return(0,c.e)((te,W)=>{let Q=0;te.subscribe((0,$.x)(W,z=>{W.next(ee.call(U,z,Q++))}))})}},8189:(ne,G,S)=>{S.d(G,{J:()=>k});var c=S(5577),$=S(4671);function k(ee=1/0){return(0,c.z)($.y,ee)}},5577:(ne,G,S)=>{S.d(G,{z:()=>Q});var c=S(4004),$=S(8421),k=S(4482),ee=S(9672),U=S(5403),W=S(576);function Q(z,F,L=1/0){return(0,W.m)(F)?Q((q,Te)=>(0,c.U)((be,xe)=>F(q,be,Te,xe))((0,$.Xf)(z(q,Te))),L):("number"==typeof F&&(L=F),(0,k.e)((q,Te)=>function te(z,F,L,q,Te,be,xe,ke){const de=[];let he=0,je=0,Le=!1;const Ie=()=>{Le&&!de.length&&!he&&F.complete()},ve=qe=>he<q?Se(qe):de.push(qe),Se=qe=>{be&&F.next(qe),he++;let Ze=!1;(0,$.Xf)(L(qe,je++)).subscribe((0,U.x)(F,ce=>{null==Te||Te(ce),be?ve(ce):F.next(ce)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(he--;de.length&&he<q;){const ce=de.shift();xe?(0,ee.f)(F,xe,()=>Se(ce)):Se(ce)}Ie()}catch(ce){F.error(ce)}}))};return z.subscribe((0,U.x)(F,ve,()=>{Le=!0,Ie()})),()=>{null==ke||ke()}}(q,Te,z,L)))}},5363:(ne,G,S)=>{S.d(G,{Q:()=>ee});var c=S(9672),$=S(4482),k=S(5403);function ee(U,te=0){return(0,$.e)((W,Q)=>{W.subscribe((0,k.x)(Q,z=>(0,c.f)(Q,U,()=>Q.next(z),te),()=>(0,c.f)(Q,U,()=>Q.complete(),te),z=>(0,c.f)(Q,U,()=>Q.error(z),te)))})}},5026:(ne,G,S)=>{S.d(G,{R:()=>ee});var c=S(4482),$=S(5403);function k(U,te,W,Q,z){return(F,L)=>{let q=W,Te=te,be=0;F.subscribe((0,$.x)(L,xe=>{const ke=be++;Te=q?U(Te,xe,ke):(q=!0,xe),Q&&L.next(Te)},z&&(()=>{q&&L.next(Te),L.complete()})))}}function ee(U,te){return(0,c.e)(k(U,te,arguments.length>=2,!0))}},3099:(ne,G,S)=>{S.d(G,{B:()=>te});var c=S(8996),$=S(5698),k=S(7579),ee=S(930),U=S(4482);function te(Q={}){const{connector:z=(()=>new k.x),resetOnError:F=!0,resetOnComplete:L=!0,resetOnRefCountZero:q=!0}=Q;return Te=>{let be=null,xe=null,ke=null,de=0,he=!1,je=!1;const Le=()=>{null==xe||xe.unsubscribe(),xe=null},Ie=()=>{Le(),be=ke=null,he=je=!1},ve=()=>{const Se=be;Ie(),null==Se||Se.unsubscribe()};return(0,U.e)((Se,qe)=>{de++,!je&&!he&&Le();const Ze=ke=null!=ke?ke:z();qe.add(()=>{de--,0===de&&!je&&!he&&(xe=W(ve,q))}),Ze.subscribe(qe),be||(be=new ee.Hp({next:ce=>Ze.next(ce),error:ce=>{je=!0,Le(),xe=W(Ie,F,ce),Ze.error(ce)},complete:()=>{he=!0,Le(),xe=W(Ie,L),Ze.complete()}}),(0,c.D)(Se).subscribe(be))})(Te)}}function W(Q,z,...F){return!0===z?(Q(),null):!1===z?null:z(...F).pipe((0,$.q)(1)).subscribe(()=>Q())}},5684:(ne,G,S)=>{S.d(G,{T:()=>$});var c=S(9300);function $(k){return(0,c.h)((ee,U)=>k<=U)}},9468:(ne,G,S)=>{S.d(G,{R:()=>$});var c=S(4482);function $(k,ee=0){return(0,c.e)((U,te)=>{te.add(k.schedule(()=>U.subscribe(te),ee))})}},3900:(ne,G,S)=>{S.d(G,{w:()=>ee});var c=S(8421),$=S(4482),k=S(5403);function ee(U,te){return(0,$.e)((W,Q)=>{let z=null,F=0,L=!1;const q=()=>L&&!z&&Q.complete();W.subscribe((0,k.x)(Q,Te=>{null==z||z.unsubscribe();let be=0;const xe=F++;(0,c.Xf)(U(Te,xe)).subscribe(z=(0,k.x)(Q,ke=>Q.next(te?te(Te,ke,xe,be++):ke),()=>{z=null,q()}))},()=>{L=!0,q()}))})}},5698:(ne,G,S)=>{S.d(G,{q:()=>ee});var c=S(515),$=S(4482),k=S(5403);function ee(U){return U<=0?()=>c.E:(0,$.e)((te,W)=>{let Q=0;te.subscribe((0,k.x)(W,z=>{++Q<=U&&(W.next(z),U<=Q&&W.complete())}))})}},2722:(ne,G,S)=>{S.d(G,{R:()=>U});var c=S(4482),$=S(5403),k=S(8421),ee=S(5032);function U(te){return(0,c.e)((W,Q)=>{(0,k.Xf)(te).subscribe((0,$.x)(Q,()=>Q.complete(),ee.Z)),!Q.closed&&W.subscribe(Q)})}},8505:(ne,G,S)=>{S.d(G,{b:()=>U});var c=S(576),$=S(4482),k=S(5403),ee=S(4671);function U(te,W,Q){const z=(0,c.m)(te)||W||Q?{next:te,error:W,complete:Q}:te;return z?(0,$.e)((F,L)=>{var q;null===(q=z.subscribe)||void 0===q||q.call(z);let Te=!0;F.subscribe((0,k.x)(L,be=>{var xe;null===(xe=z.next)||void 0===xe||xe.call(z,be),L.next(be)},()=>{var be;Te=!1,null===(be=z.complete)||void 0===be||be.call(z),L.complete()},be=>{var xe;Te=!1,null===(xe=z.error)||void 0===xe||xe.call(z,be),L.error(be)},()=>{var be,xe;Te&&(null===(be=z.unsubscribe)||void 0===be||be.call(z)),null===(xe=z.finalize)||void 0===xe||xe.call(z)}))}):ee.y}},7414:(ne,G,S)=>{S.d(G,{V:()=>z});var c=S(4986),$=S(1165),k=S(4482),ee=S(8421),U=S(3888),te=S(5403),W=S(9672);const Q=(0,U.d)(L=>function(Te=null){L(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Te});function z(L,q){const{first:Te,each:be,with:xe=F,scheduler:ke=(null!=q?q:c.z),meta:de=null}=(0,$.q)(L)?{first:L}:"number"==typeof L?{each:L}:L;if(null==Te&&null==be)throw new TypeError("No timeout provided.");return(0,k.e)((he,je)=>{let Le,Ie,ve=null,Se=0;const qe=Ze=>{Ie=(0,W.f)(je,ke,()=>{try{Le.unsubscribe(),(0,ee.Xf)(xe({meta:de,lastValue:ve,seen:Se})).subscribe(je)}catch(ce){je.error(ce)}},Ze)};Le=he.subscribe((0,te.x)(je,Ze=>{null==Ie||Ie.unsubscribe(),Se++,je.next(ve=Ze),be>0&&qe(be)},void 0,void 0,()=>{(null==Ie?void 0:Ie.closed)||null==Ie||Ie.unsubscribe(),ve=null})),!Se&&qe(null!=Te?"number"==typeof Te?Te:+Te-ke.now():be)})}function F(L){throw new Q(L)}},1365:(ne,G,S)=>{S.d(G,{M:()=>W});var c=S(4482),$=S(5403),k=S(8421),ee=S(4671),U=S(5032),te=S(3269);function W(...Q){const z=(0,te.jO)(Q);return(0,c.e)((F,L)=>{const q=Q.length,Te=new Array(q);let be=Q.map(()=>!1),xe=!1;for(let ke=0;ke<q;ke++)(0,k.Xf)(Q[ke]).subscribe((0,$.x)(L,de=>{Te[ke]=de,!xe&&!be[ke]&&(be[ke]=!0,(xe=be.every(ee.y))&&(be=null))},U.Z));F.subscribe((0,$.x)(L,ke=>{if(xe){const de=[ke,...Te];L.next(z?z(...de):de)}}))})}},4408:(ne,G,S)=>{S.d(G,{o:()=>U});var c=S(727);class $ extends c.w0{constructor(W,Q){super()}schedule(W,Q=0){return this}}const k={setInterval(te,W,...Q){const{delegate:z}=k;return(null==z?void 0:z.setInterval)?z.setInterval(te,W,...Q):setInterval(te,W,...Q)},clearInterval(te){const{delegate:W}=k;return((null==W?void 0:W.clearInterval)||clearInterval)(te)},delegate:void 0};var ee=S(8737);class U extends ${constructor(W,Q){super(W,Q),this.scheduler=W,this.work=Q,this.pending=!1}schedule(W,Q=0){if(this.closed)return this;this.state=W;const z=this.id,F=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(F,z,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(F,this.id,Q),this}requestAsyncId(W,Q,z=0){return k.setInterval(W.flush.bind(W,this),z)}recycleAsyncId(W,Q,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return Q;k.clearInterval(Q)}execute(W,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(W,Q);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,Q){let F,z=!1;try{this.work(W)}catch(L){z=!0,F=L||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:W,scheduler:Q}=this,{actions:z}=Q;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(z,this),null!=W&&(this.id=this.recycleAsyncId(Q,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(ne,G,S)=>{S.d(G,{v:()=>k});var c=S(6063);class ${constructor(U,te=$.now){this.schedulerActionCtor=U,this.now=te}schedule(U,te=0,W){return new this.schedulerActionCtor(this,U).schedule(W,te)}}$.now=c.l.now;class k extends ${constructor(U,te=$.now){super(U,te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(U){const{actions:te}=this;if(this._active)return void te.push(U);let W;this._active=!0;do{if(W=U.execute(U.state,U.delay))break}while(U=te.shift());if(this._active=!1,W){for(;U=te.shift();)U.unsubscribe();throw W}}}},4986:(ne,G,S)=>{S.d(G,{z:()=>k,P:()=>ee});var c=S(4408);const k=new(S(7565).v)(c.o),ee=k},6063:(ne,G,S)=>{S.d(G,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},233:(ne,G,S)=>{S.d(G,{N:()=>U});var c=S(4408),k=S(7565);const U=new class ee extends k.v{}(class $ extends c.o{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z}schedule(Q,z=0){return z>0?super.schedule(Q,z):(this.delay=z,this.state=Q,this.scheduler.flush(this),this)}execute(Q,z){return z>0||this.closed?super.execute(Q,z):this._execute(Q,z)}requestAsyncId(Q,z,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(Q,z,F):Q.flush(this)}})},3410:(ne,G,S)=>{S.d(G,{z:()=>c});const c={setTimeout($,k,...ee){const{delegate:U}=c;return(null==U?void 0:U.setTimeout)?U.setTimeout($,k,...ee):setTimeout($,k,...ee)},clearTimeout($){const{delegate:k}=c;return((null==k?void 0:k.clearTimeout)||clearTimeout)($)},delegate:void 0}},2202:(ne,G,S)=>{S.d(G,{h:()=>$});const $=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ne,G,S)=>{S.d(G,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ne,G,S)=>{S.d(G,{jO:()=>ee,yG:()=>U,_6:()=>te});var c=S(576),$=S(3532);function k(W){return W[W.length-1]}function ee(W){return(0,c.m)(k(W))?W.pop():void 0}function U(W){return(0,$.K)(k(W))?W.pop():void 0}function te(W,Q){return"number"==typeof k(W)?W.pop():Q}},8737:(ne,G,S)=>{function c($,k){if($){const ee=$.indexOf(k);0<=ee&&$.splice(ee,1)}}S.d(G,{P:()=>c})},3888:(ne,G,S)=>{function c($){const ee=$(U=>{Error.call(U),U.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}S.d(G,{d:()=>c})},2806:(ne,G,S)=>{S.d(G,{x:()=>k,O:()=>ee});var c=S(2416);let $=null;function k(U){if(c.v.useDeprecatedSynchronousErrorHandling){const te=!$;if(te&&($={errorThrown:!1,error:null}),U(),te){const{errorThrown:W,error:Q}=$;if($=null,W)throw Q}}else U()}function ee(U){c.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=U)}},9672:(ne,G,S)=>{function c($,k,ee,U=0,te=!1){const W=k.schedule(function(){ee(),te?$.add(this.schedule(null,U)):this.unsubscribe()},U);if($.add(W),!te)return W}S.d(G,{f:()=>c})},4671:(ne,G,S)=>{function c($){return $}S.d(G,{y:()=>c})},1144:(ne,G,S)=>{S.d(G,{z:()=>c});const c=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(ne,G,S)=>{S.d(G,{D:()=>$});var c=S(576);function $(k){return Symbol.asyncIterator&&(0,c.m)(null==k?void 0:k[Symbol.asyncIterator])}},1165:(ne,G,S)=>{function c($){return $ instanceof Date&&!isNaN($)}S.d(G,{q:()=>c})},576:(ne,G,S)=>{function c($){return"function"==typeof $}S.d(G,{m:()=>c})},3670:(ne,G,S)=>{S.d(G,{c:()=>k});var c=S(8822),$=S(576);function k(ee){return(0,$.m)(ee[c.L])}},6495:(ne,G,S)=>{S.d(G,{T:()=>k});var c=S(2202),$=S(576);function k(ee){return(0,$.m)(null==ee?void 0:ee[c.h])}},8239:(ne,G,S)=>{S.d(G,{t:()=>$});var c=S(576);function $(k){return(0,c.m)(null==k?void 0:k.then)}},3260:(ne,G,S)=>{S.d(G,{Q:()=>k,L:()=>ee});var c=S(655),$=S(576);function k(U){return(0,c.FC)(this,arguments,function*(){const W=U.getReader();try{for(;;){const{value:Q,done:z}=yield(0,c.qq)(W.read());if(z)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Q)}}finally{W.releaseLock()}})}function ee(U){return(0,$.m)(null==U?void 0:U.getReader)}},3532:(ne,G,S)=>{S.d(G,{K:()=>$});var c=S(576);function $(k){return k&&(0,c.m)(k.schedule)}},4482:(ne,G,S)=>{S.d(G,{A:()=>$,e:()=>k});var c=S(576);function $(ee){return(0,c.m)(null==ee?void 0:ee.lift)}function k(ee){return U=>{if($(U))return U.lift(function(te){try{return ee(te,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ne,G,S)=>{function c(){}S.d(G,{Z:()=>c})},7849:(ne,G,S)=>{S.d(G,{h:()=>k});var c=S(2416),$=S(3410);function k(ee){$.z.setTimeout(()=>{const{onUnhandledError:U}=c.v;if(!U)throw ee;U(ee)})}},4532:(ne,G,S)=>{function c($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(G,{z:()=>c})},655:(ne,G,S)=>{function ee(le,ye){var ue={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&ye.indexOf(Oe)<0&&(ue[Oe]=le[Oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(Oe=Object.getOwnPropertySymbols(le);Ce<Oe.length;Ce++)ye.indexOf(Oe[Ce])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[Ce])&&(ue[Oe[Ce]]=le[Oe[Ce]])}return ue}function Q(le,ye,ue,Oe){return new(ue||(ue=Promise))(function($e,Mt){function en(tn){try{Je(Oe.next(tn))}catch(ir){Mt(ir)}}function pn(tn){try{Je(Oe.throw(tn))}catch(ir){Mt(ir)}}function Je(tn){tn.done?$e(tn.value):function Ce($e){return $e instanceof ue?$e:new ue(function(Mt){Mt($e)})}(tn.value).then(en,pn)}Je((Oe=Oe.apply(le,ye||[])).next())})}function de(le){return this instanceof de?(this.v=le,this):new de(le)}function he(le,ye,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,Oe=ue.apply(le,ye||[]),$e=[];return Ce={},Mt("next"),Mt("throw"),Mt("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Mt(Pn){Oe[Pn]&&(Ce[Pn]=function(rn){return new Promise(function(ei,on){$e.push([Pn,rn,ei,on])>1||en(Pn,rn)})})}function en(Pn,rn){try{!function pn(Pn){Pn.value instanceof de?Promise.resolve(Pn.value.v).then(Je,tn):ir($e[0][2],Pn)}(Oe[Pn](rn))}catch(ei){ir($e[0][3],ei)}}function Je(Pn){en("next",Pn)}function tn(Pn){en("throw",Pn)}function ir(Pn,rn){Pn(rn),$e.shift(),$e.length&&en($e[0][0],$e[0][1])}}function Le(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ye=le[Symbol.asyncIterator];return ye?ye.call(le):(le=function q(le){var ye="function"==typeof Symbol&&Symbol.iterator,ue=ye&&le[ye],Oe=0;if(ue)return ue.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Oe>=le.length&&(le=void 0),{value:le&&le[Oe++],done:!le}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),ue={},Oe("next"),Oe("throw"),Oe("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Oe($e){ue[$e]=le[$e]&&function(Mt){return new Promise(function(en,pn){!function Ce($e,Mt,en,pn){Promise.resolve(pn).then(function(Je){$e({value:Je,done:en})},Mt)}(en,pn,(Mt=le[$e](Mt)).done,Mt.value)})}}}S.d(G,{_T:()=>ee,mG:()=>Q,qq:()=>de,FC:()=>he,KL:()=>Le})},5e3:(ne,G,S)=>{S.d(G,{deG:()=>Tg,tb:()=>kl,AFp:()=>C_,ip1:()=>ld,CZH:()=>Rl,hGG:()=>aS,z2F:()=>I_,sBO:()=>Lb,Sil:()=>mC,_Vd:()=>Mp,EJc:()=>pC,SBq:()=>xp,qLn:()=>gr,vpe:()=>yo,tBr:()=>ga,XFs:()=>ht,OlP:()=>In,zs3:()=>go,ZZ4:()=>k_,aQg:()=>tf,soG:()=>Rb,YKP:()=>Gw,h0i:()=>Kh,PXZ:()=>wC,R0b:()=>Ns,FiY:()=>Ja,Lbi:()=>Sn,g9A:()=>fC,n_E:()=>Lp,Qsj:()=>Bw,FYo:()=>o_,JOm:()=>_e,tp0:()=>ur,Rgc:()=>Zo,dDg:()=>vC,q4F:()=>eb,GfV:()=>hn,s_b:()=>u_,ifc:()=>$t,eFA:()=>CC,G48:()=>SC,Gpc:()=>L,f3M:()=>Fo,X6Q:()=>S_,_c5:()=>oS,VLi:()=>_M,c2e:()=>di,zSh:()=>jn,wAp:()=>Tt,vHH:()=>xe,cg1:()=>bp,kL8:()=>$m,dqk:()=>Zt,sIi:()=>rp,CqO:()=>WE,QGY:()=>Im,F4k:()=>zE,RDi:()=>ws,AaK:()=>Q,qOj:()=>Tc,TTD:()=>To,_Bn:()=>nd,xp6:()=>my,uIk:()=>Gy,Gre:()=>cw,ekj:()=>uv,Suo:()=>pb,Xpm:()=>Wt,lG2:()=>un,Yz7:()=>rn,cJS:()=>on,oAB:()=>ae,Yjl:()=>Tr,Y36:()=>Nh,_UZ:()=>Tl,BQk:()=>Go,ynx:()=>cp,qZA:()=>lp,TgZ:()=>Dl,EpF:()=>Tm,n5z:()=>Wa,Ikx:()=>Hm,LFG:()=>cn,$8M:()=>oo,$Z:()=>op,NdJ:()=>Jy,CRH:()=>tC,oxw:()=>tv,ALo:()=>Pp,lcZ:()=>Lc,Hsn:()=>nv,F$t:()=>Lh,Q6J:()=>ap,iGM:()=>Xw,MAs:()=>Jr,CHM:()=>nu,LSH:()=>pc,Udp:()=>dp,YNc:()=>vm,W1O:()=>_b,_uU:()=>sw,Oqu:()=>gv,hij:()=>Fm,Gf:()=>eC});var c=S(7579),$=S(727),k=S(8306),ee=S(6451),U=S(3099);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function W(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function z(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const F=te({__forward_ref__:te});function L(s){return s.__forward_ref__=L,s.toString=function(){return Q(this())},s}function q(s){return Te(s)?s():s}function Te(s){return"function"==typeof s&&s.hasOwnProperty(F)&&s.__forward_ref__===L}class xe extends Error{constructor(o,l){super(function ke(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function de(s){return"string"==typeof s?s:null==s?"":String(s)}function he(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():de(s)}function ve(s,o){const l=o?` in ${o}`:"";throw new xe(-201,`No provider for ${he(s)} found${l}`)}function pn(s,o){null==s&&function Je(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function on(s){return{providers:s.providers||[],imports:s.imports||[]}}function nn(s){return $n(s,gi)||$n(s,Li)}function $n(s,o){return s.hasOwnProperty(o)?s[o]:null}function kr(s){return s&&(s.hasOwnProperty(wr)||s.hasOwnProperty(ti))?s[wr]:null}const gi=te({\u0275prov:te}),wr=te({\u0275inj:te}),Li=te({ngInjectableDef:te}),ti=te({ngInjectorDef:te});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Pr;function sr(s){const o=Pr;return Pr=s,o}function Cr(s,o,l){const u=nn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&ht.Optional?null:void 0!==o?o:void ve(Q(s),"Injector")}function En(s){return{toString:s}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const ct="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ct||"undefined"!=typeof global&&global||St||ar,yr={},_t=[],vr=te({\u0275cmp:te}),Gt=te({\u0275dir:te}),nt=te({\u0275pipe:te}),Re=te({\u0275mod:te}),st=te({\u0275fac:te}),yt=te({__NG_ELEMENT_ID__:te});let zt=0;function Wt(s){return En(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return u.id+=zt++,u.inputs=Et(s.inputs,l),u.outputs=Et(s.outputs),g&&g.forEach(E=>E(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(X):null,u})}function j(s){return an(s)||function Bn(s){return s[Gt]||null}(s)}function X(s){return function Bt(s){return s[nt]||null}(s)}const we={};function ae(s){return En(()=>{const o={type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(we[s.id]=s.type),o})}function Et(s,o){if(null==s)return yr;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=u,o&&(o[h]=g)}return l}const un=Wt;function Tr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function an(s){return s[vr]||null}function wn(s,o){const l=s[Re]||null;if(!l&&!0===o)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return l}const H=18;function He(s){return Array.isArray(s)&&"object"==typeof s[1]}function xt(s){return Array.isArray(s)&&!0===s[1]}function Xn(s){return 0!=(8&s.flags)}function _n(s){return 2==(2&s.flags)}function Ir(s){return 1==(1&s.flags)}function qt(s){return null!==s.template}function yi(s){return 0!=(512&s[2])}function vi(s,o){return s.hasOwnProperty(st)?s[st]:null}class ia{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function To(){return Ua}function Ua(s){return s.type.prototype.ngOnChanges&&(s.setInput=wg),wd}function wd(){const s=Ws(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===yr)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function wg(s,o,l,u){const h=Ws(s)||function Si(s,o){return s[Hi]=o}(s,{previous:yr,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],C=v[E];g[E]=new ia(C&&C.currentValue,o,v===yr),s[u]=o}To.ngInherit=!0;const Hi="__ngSimpleChanges__";function Ws(s){return s[Hi]||null}let jl;function ws(s){jl=s}function On(s){return!!s.listen}const sa={createRenderer:(s,o)=>function ja(){return void 0!==jl?jl:"undefined"!=typeof document?document:void 0}()};function Dn(s){for(;Array.isArray(s);)s=s[0];return s}function So(s,o){return Dn(o[s])}function $r(s,o){return Dn(o[s.index])}function Ha(s,o){return s.data[o]}function $i(s,o){return s[o]}function Gr(s,o){const l=o[s];return He(l)?l:l[0]}function Ks(s){return 4==(4&s[2])}function Cs(s){return 128==(128&s[2])}function bi(s,o){return null==o?null:s[o]}function Zs(s){s[H]=0}function Ys(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const bt={lFrame:Mo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wl(){return bt.bindingsEnabled}function Pe(){return bt.lFrame.lView}function Yt(){return bt.lFrame.tView}function nu(s){return bt.lFrame.contextLView=s,s[8]}function Fn(){let s=oa();for(;null!==s&&64===s.type;)s=s.parent;return s}function oa(){return bt.lFrame.currentTNode}function Ei(s,o){const l=bt.lFrame;l.currentTNode=s,l.isParent=o}function ru(){return bt.lFrame.isParent}function iu(){bt.lFrame.isParent=!1}function ql(){return bt.isInCheckNoChangesMode}function Qs(s){bt.isInCheckNoChangesMode=s}function Js(){return bt.lFrame.bindingIndex++}function Gi(s){const o=bt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Yl(s,o){const l=bt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ga(o)}function Ga(s){bt.lFrame.currentDirectiveIndex=s}function lu(){return bt.lFrame.currentQueryIndex}function cu(s){bt.lFrame.currentQueryIndex=s}function Id(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function uu(s,o,l){if(l&ht.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&ht.Host||(h=Id(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=bt.lFrame=Sd();return u.currentTNode=o,u.lView=s,!0}function Ao(s){const o=Sd(),l=s[1];bt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Sd(){const s=bt.lFrame,o=null===s?null:s.child;return null===o?Mo(s):o}function Mo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ad(){const s=bt.lFrame;return bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Md=Ad;function xo(){const s=Ad();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zr(){return bt.lFrame.selectedIndex}function eo(s){bt.lFrame.selectedIndex=s}function er(){const s=bt.lFrame;return Ha(s.tView,s.selectedIndex)}function Ds(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function za(s,o,l){xd(s,o,3,l)}function Ql(s,o,l,u){(3&s[2])===l&&xd(s,o,l,u)}function hr(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function xd(s,o,l,u){const g=null!=u?u:-1,v=o.length-1;let E=0;for(let C=void 0!==u?65535&s[H]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=u&&E>=u)break}else o[C]<0&&(s[H]+=65536),(E<g||-1==g)&&(Cg(s,l,o,C),s[H]=(4294901760&s[H])+C+2),C++}function Cg(s,o,l,u){const h=l[u]<0,g=l[u+1],E=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[H]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class ca{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function ua(s,o,l){const u=On(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],E=l[h++],C=l[h++];u?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=g,E=l[++h];gu(v)?u&&s.setProperty(o,v,E):u?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function Is(s){return 3===s||4===s||6===s}function gu(s){return 64===s.charCodeAt(0)}function to(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||no(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function no(s,o,l,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function ii(s){return-1!==s}function kt(s){return 32767&s}function Tn(s,o){let l=function Dt(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let Ro=!0;function ro(s){const o=Ro;return Ro=s,o}let ss=0;function io(s,o){const l=os(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,wt(u.data,s),wt(o,null),wt(u.blueprint,null));const h=si(s,o),g=s.injectorIndex;if(ii(h)){const v=kt(h),E=Tn(h,o),C=E[1].data;for(let M=0;M<8;M++)o[g+M]=E[v+M]|C[v+M]}return o[g+8]=h,g}function wt(s,o){s.push(0,0,0,0,0,0,0,0,o)}function os(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function si(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(u=2===v?g.declTNode:1===v?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function fr(s,o,l){!function Lr(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(yt)&&(u=l[yt]),null==u&&(u=l[yt]=ss++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function da(s,o,l){if(l&ht.Optional)return s;ve(o,"NodeInjector")}function mu(s,o,l,u){if(l&ht.Optional&&void 0===u&&(u=null),0==(l&(ht.Self|ht.Host))){const h=s[9],g=sr(void 0);try{return h?h.get(o,u,l&ht.Optional):Cr(o,u,l&ht.Optional)}finally{sr(g)}}return da(u,o,l)}function Ae(s,o,l,u=ht.Default,h){if(null!==s){const g=function Ss(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:ha:o}(l);if("function"==typeof g){if(!uu(o,s,u))return u&ht.Host?da(h,l,u):mu(o,l,u,h);try{const v=g(u);if(null!=v||u&ht.Optional)return v;ve(l)}finally{Md()}}else if("number"==typeof g){let v=null,E=os(s,o),C=-1,M=u&ht.Host?o[16][6]:null;for((-1===E||u&ht.SkipSelf)&&(C=-1===E?si(s,o):o[E+8],-1!==C&&ec(u,!1)?(v=o[1],E=kt(C),o=Tn(C,o)):E=-1);-1!==E;){const O=o[1];if(rt(g,E,O.data)){const N=ko(E,o,l,v,u,M);if(N!==Wr)return N}C=o[E+8],-1!==C&&ec(u,o[1].data[E+8]===M)&&rt(g,E,o)?(v=O,E=kt(C),o=Tn(C,o)):E=-1}}}return mu(o,l,u,h)}const Wr={};function ha(){return new vt(Fn(),Pe())}function ko(s,o,l,u,h,g){const v=o[1],E=v.data[s+8],O=Ht(E,v,l,null==u?_n(E)&&Ro:u!=v&&0!=(3&E.type),h&ht.Host&&g===E);return null!==O?as(o,v,O,E):Wr}function Ht(s,o,l,u,h){const g=s.providerIndexes,v=o.data,E=1048575&g,C=s.directiveStart,O=g>>20,K=h?E+O:s.directiveEnd;for(let oe=u?E:E+O;oe<K;oe++){const Me=v[oe];if(oe<C&&l===Me||oe>=C&&Me.type===l)return oe}if(h){const oe=v[C];if(oe&&qt(oe)&&oe.type===l)return C}return null}function as(s,o,l,u){let h=s[l];const g=o.data;if(function Od(s){return s instanceof ca}(h)){const v=h;v.resolving&&function je(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new xe(-200,`Circular dependency in DI detected for ${s}${l}`)}(he(g[l]));const E=ro(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?sr(v.injectImpl):null;uu(s,u,ht.Default);try{h=s[l]=v.factory(void 0,g,s,u),o.firstCreatePass&&l>=u.directiveStart&&function fu(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=Ua(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==C&&sr(C),ro(E),v.resolving=!1,Md()}}return h}function rt(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function ec(s,o){return!(s&ht.Self||s&ht.Host&&o)}class vt{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Ae(this._tNode,this._lView,o,u,l)}}function Wa(s){return En(()=>{const o=s.prototype.constructor,l=o[st]||so(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[st]||so(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function so(s){return Te(s)?()=>{const o=so(q(s));return o&&o()}:vi(s)}function oo(s){return function wi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const g=l[h];if(Is(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Fn(),s)}const lo="__parameters__";function qn(s,o,l){return En(()=>{const u=function _u(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(C,M,O){const N=C.hasOwnProperty(lo)?C[lo]:Object.defineProperty(C,lo,{value:[]})[lo];for(;N.length<=O;)N.push(null);return(N[O]=N[O]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Tg=new In("AnalyzeForEntryComponents");function pr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),pr(u,o)):o!==s&&o.push(u)}return o}function qr(s,o){s.forEach(l=>Array.isArray(l)?qr(l,o):o(l))}function Ka(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function As(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ci(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Kr(s,o,l){let u=Ms(s,o);return u>=0?s[1|u]=l:(u=~u,function Za(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function tc(s,o){const l=Ms(s,o);if(l>=0)return s[1|l]}function Ms(s,o){return function nc(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const g=u+(h-u>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:u=g+1}return~(h<<l)}(s,o,1)}const R={},B="__NG_DI_FLAG__",se="ngTempTokenPath",Ve=/\n/gm,Ot="__source",At=te({provide:String,useValue:te});let Qt;function Ft(s){const o=Qt;return Qt=s,o}function Zr(s,o=ht.Default){if(void 0===Qt)throw new xe(203,"");return null===Qt?Cr(s,void 0,o):Qt.get(s,o&ht.Optional?null:void 0,o)}function cn(s,o=ht.Default){return(function Gn(){return Pr}()||Zr)(q(s),o)}const Fo=cn;function co(s){const o=[];for(let l=0;l<s.length;l++){const u=q(s[l]);if(Array.isArray(u)){if(0===u.length)throw new xe(900,"");let h,g=ht.Default;for(let v=0;v<u.length;v++){const E=u[v],C=ds(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push(cn(h,g))}else o.push(cn(u))}return o}function Yr(s,o){return s[B]=o,s.prototype[B]=o,s}function ds(s){return s[B]}const ga=Yr(qn("Inject",s=>({token:s})),-1),Ja=Yr(qn("Optional"),8),ur=Yr(qn("SkipSelf"),4);class ma{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Kn(s){return s instanceof ma?s.changingThisBreaksApplicationSecurity:s}const ho=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Lg=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nr=(()=>((nr=nr||{})[nr.NONE=0]="NONE",nr[nr.HTML=1]="HTML",nr[nr.STYLE=2]="STYLE",nr[nr.SCRIPT=3]="SCRIPT",nr[nr.URL=4]="URL",nr[nr.RESOURCE_URL=5]="RESOURCE_URL",nr))();function pc(s){const o=function Cu(){const s=Pe();return s&&s[12]}();return o?o.sanitize(nr.URL,s)||"":function sc(s,o){const l=function oc(s){return s instanceof ma&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Kn(s):function lc(s){return(s=String(s)).match(ho)||s.match(Lg)?s:"unsafe:"+s}(de(s))}const Qd="__ngContext__";function Qr(s,o){s[Qd]=o}function va(s){const o=function ya(s){return s[Qd]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Uf(s){return s.ngOriginalError}function Iu(s,...o){s.error(...o)}class gr{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function ly(s){return s&&s.ngErrorLogger||Iu}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Uf(o);for(;l&&Uf(l);)l=Uf(l);return l||null}}const uy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function m(s){return s instanceof Function?s():s}var _e=(()=>((_e=_e||{})[_e.Important=1]="Important",_e[_e.DashCase=2]="DashCase",_e))();function ot(s,o){return undefined(s,o)}function Yn(s){const o=s[3];return xt(o)?o[3]:o}function rh(s){return ol(s[13])}function mc(s){return ol(s[4])}function ol(s){for(;null!==s&&!xt(s);)s=s[4];return s}function jo(s,o,l,u,h){if(null!=u){let g,v=!1;xt(u)?g=u:He(u)&&(v=!0,u=u[0]);const E=Dn(u);0===s&&null!==l?null==h?P0(o,l,E):cl(o,l,E,h||null,!0):1===s&&null!==l?cl(o,l,E,h||null,!0):2===s?function ch(s,o,l){const u=Yg(s,o);u&&function F0(s,o,l,u){On(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function tt(s,o,l,u,h){const g=l[7];g!==Dn(l)&&jo(o,s,u,g,h);for(let E=10;E<l.length;E++){const C=l[E];at(C[1],C,s,o,u,g)}}(o,s,g,l,h)}}function al(s,o,l){if(On(s))return s.createElement(o,l);{const u=null!==l?function Ul(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function hy(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ys(h,-1)),l.splice(u,1)}function oh(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&hy(h,u),o>0&&(s[l-1][4]=u[4]);const g=As(s,10+o);!function Kg(s,o){at(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function fs(s,o){if(!(256&o[2])){const l=o[11];On(l)&&l.destroyNode&&at(s,o,l,3,null,null),function A0(s){let o=s[13];if(!o)return Zg(s[1],s);for(;o;){let l=null;if(He(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)He(o)&&Zg(o[1],o),o=o[3];null===o&&(o=s),He(o)&&Zg(o[1],o),l=o&&o[4]}o=l}}(o)}}function Zg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function ah(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof ca)){const g=l[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],C=g[v+1];try{C.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function O0(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):Dn(o[v]),C=u[h=l[g+2]],M=l[g+3];"boolean"==typeof M?E.removeEventListener(l[g],C,M):M>=0?u[h=M]():u[h=-M].unsubscribe(),g+=2}else{const v=u[h=l[g+1]];l[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();o[7]=null}}(s,o),1===o[1].type&&On(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&xt(o[3])){l!==o[3]&&hy(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function R0(s,o,l){return function k0(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return $r(u,l)}(s,o.parent,l)}function cl(s,o,l,u,h){On(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function P0(s,o,l){On(s)?s.appendChild(o,l):o.appendChild(l)}function N0(s,o,l,u,h){null!==u?cl(s,o,l,u,h):P0(s,o,l)}function Yg(s,o){return On(s)?s.parentNode(o):o.parentNode}function L0(s,o,l){return ai(s,o,l)}let ai=function fy(s,o,l){return 40&s.type?$r(s,l):null};function lh(s,o,l,u){const h=R0(s,u,o),g=o[11],E=L0(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)N0(g,h,l[C],E,!1);else N0(g,h,l,E,!1)}function Jg(s,o){if(null!==o){const l=o.type;if(3&l)return $r(o,s);if(4&l)return Er(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return Jg(s,u);{const h=s[o.index];return xt(h)?Er(-1,h):Dn(h)}}if(32&l)return ot(o,s)()||Dn(s[o.index]);{const u=Ge(s,o);return null!==u?Array.isArray(u)?u[0]:Jg(Yn(s[16]),u):Jg(s,o.next)}}return null}function Ge(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Er(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return Jg(u,h)}return o[7]}function $f(s,o,l,u,h,g,v){for(;null!=l;){const E=u[l.index],C=l.type;if(v&&0===o&&(E&&Qr(Dn(E),u),l.flags|=4),64!=(64&l.flags))if(8&C)$f(s,o,l.child,u,h,g,!1),jo(o,s,h,E,g);else if(32&C){const M=ot(l,u);let O;for(;O=M();)jo(o,s,h,O,g);jo(o,s,h,E,g)}else 16&C?V0(s,o,u,l,h,g):jo(o,s,h,E,g);l=v?l.projectionNext:l.next}}function at(s,o,l,u,h,g){$f(l,u,s.firstChild,o,h,g,!1)}function V0(s,o,l,u,h,g){const v=l[16],C=v[6].projection[u.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)jo(o,s,h,C[M],g);else $f(s,o,C,v[3],h,g,!0)}function Fe(s,o,l){On(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Br(s,o,l){On(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function py(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}l=h+1}}const B0="ng-template";function tT(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==py(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function U0(s){return 4===s.type&&s.value!==B0}function nT(s,o,l){return o===(4!==s.type||l?s.value:B0)}function j0(s,o,l){let u=4;const h=s.attrs||[],g=function H0(s){for(let o=0;o<s.length;o++)if(Is(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!nT(s,C,l)||""===C&&1===o.length){if(Ho(u))return!1;v=!0}}else{const M=8&u?C:o[++E];if(8&u&&null!==s.attrs){if(!tT(s.attrs,M,l)){if(Ho(u))return!1;v=!0}continue}const N=ZA(8&u?"class":C,h,U0(s),l);if(-1===N){if(Ho(u))return!1;v=!0;continue}if(""!==M){let K;K=N>g?"":h[N+1].toLowerCase();const oe=8&u?K:null;if(oe&&-1!==py(oe,M,0)||2&u&&M!==K){if(Ho(u))return!1;v=!0}}}}else{if(!v&&!Ho(u)&&!Ho(C))return!1;if(v&&Ho(C))continue;v=!1,u=C|1&u}}return Ho(u)||v}function Ho(s){return 0==(1&s)}function ZA(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Jt(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function ps(s,o,l=!1){for(let u=0;u<o.length;u++)if(j0(s,o[u],l))return!0;return!1}function uh(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function gy(s,o){return s?":not("+o.trim()+")":o}function Sr(s){let o=s[0],l=1,u=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Ho(v)&&(o+=gy(g,h),h=""),u=v,g=g||!Ho(u);l++}return""!==h&&(o+=gy(g,h)),o}const Nt={};function my(s){dh(Yt(),Pe(),zr()+s,ql())}function dh(s,o,l,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&za(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Ql(o,g,0,l)}eo(l)}function Xg(s,o){return s<<17|o<<2}function Vn(s){return s>>17&32767}function Ar(s){return 2|s}function dl(s){return(131068&s)>>2}function Ea(s,o){return-131069&s|o<<2}function hl(s){return 1|s}function Ec(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],g=l[u+1];if(-1!==g){const v=s.data[g];cu(h),v.contentQueries(2,o[g],g)}}}function wc(s,o,l,u,h,g,v,E,C,M){const O=o.blueprint.slice();return O[0]=h,O[2]=140|u,Zs(O),O[3]=O[15]=s,O[8]=l,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=M||s&&s[9]||null,O[6]=g,O[16]=2==o.type?s[16]:O,O}function ml(s,o,l,u,h){let g=s.data[o];if(null===g)g=function am(s,o,l,u,h){const g=oa(),v=ru(),C=s.data[o]=function _l(s,o,l,u,h,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,l,u,h),function ou(){return bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=h;const v=function aa(){const s=bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Ei(g,!0),g}function Nu(s,o,l,u){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Mr(s,o,l){Ao(o);try{const u=s.viewQuery;null!==u&&vl(1,u,l);const h=s.template;null!==h&&Y0(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ec(s,o),s.staticViewQueries&&vl(2,s.viewQuery,l);const g=s.components;null!==g&&function Wf(s,o){for(let l=0;l<o.length;l++)gT(s,o[l])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,xo()}}function fh(s,o,l,u){const h=o[2];if(256==(256&h))return;Ao(o);const g=ql();try{Zs(o),function Kl(s){return bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Y0(s,o,l,2,u);const v=3==(3&h);if(!g)if(v){const M=s.preOrderCheckHooks;null!==M&&za(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Ql(o,M,0,null),hr(o,0)}if(function cE(s){for(let o=rh(s);null!==o;o=mc(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],g=h[3];0==(1024&h[2])&&Ys(g,1),h[2]|=1024}}}(o),function lE(s){for(let o=rh(s);null!==o;o=mc(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];Cs(u)&&fh(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Ec(s,o),!g)if(v){const M=s.contentCheckHooks;null!==M&&za(o,M)}else{const M=s.contentHooks;null!==M&&Ql(o,M,1),hr(o,1)}!function Z0(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)eo(~h);else{const g=h,v=l[++u],E=l[++u];Yl(v,g),E(2,o[g])}}}finally{eo(-1)}}(s,o);const E=s.components;null!==E&&function dT(s,o){for(let l=0;l<o.length;l++)Zf(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&vl(2,C,u),!g)if(v){const M=s.viewCheckHooks;null!==M&&za(o,M)}else{const M=s.viewHooks;null!==M&&Ql(o,M,2),hr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ys(o[3],-1))}finally{xo()}}function hT(s,o,l,u){const h=o[10],g=!ql(),v=Ks(o);try{g&&!v&&h.begin&&h.begin(),v&&Mr(s,o,u),fh(s,o,l,u)}finally{g&&!v&&h.end&&h.end()}}function Y0(s,o,l,u,h){const g=zr(),v=2&u;try{eo(-1),v&&o.length>20&&dh(s,o,20,ql()),l(u,h)}finally{eo(g)}}function Ey(s,o,l){if(Xn(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function wy(s,o,l){!Wl()||(function X0(s,o,l,u){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||io(l,o),Qr(u,o);const v=l.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],M=qt(C);M&&oE(o,l,C);const O=as(o,s,E,l);Qr(O,o),null!==v&&aE(0,E-h,O,C,0,v),M&&(Gr(l.index,o)[8]=O)}}(s,o,l,$r(l,o)),128==(128&l.flags)&&function eE(s,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,E=function au(){return bt.lFrame.currentDirectiveIndex}();try{eo(v);for(let C=u;C<h;C++){const M=s.data[C],O=o[C];Ga(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&tE(M,O)}}finally{eo(-1),Ga(E)}}(s,o,l))}function Cy(s,o,l=$r){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function Q0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=lm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function lm(s,o,l,u,h,g,v,E,C,M){const O=20+u,N=O+h,K=function Cc(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:Nt);return l}(O,N),oe="function"==typeof M?M():M;return K[1]={type:s,blueprint:K,template:l,queries:null,viewQuery:E,declTNode:o,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:oe,incompleteFirstPass:!1}}function Ty(s,o,l,u){const h=Py(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&mh(s).push(u,h.length-1))}function Iy(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Oi(s,o,l,u,h,g,v,E){const C=$r(o,l);let O,M=o.inputs;!E&&null!=M&&(O=M[u])?(xr(s,l,O,u,h),_n(o)&&function Sy(s,o){const l=Gr(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function cm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,On(g)?g.setProperty(C,u,h):gu(u)||(C.setProperty?C.setProperty(u,h):C[u]=h))}function um(s,o,l,u){let h=!1;if(Wl()){const g=function nE(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];ps(l,v.selectors,!1)&&(h||(h=[]),fr(io(l,o),s,v.type),qt(v)?(xy(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==g){h=!0,iE(l,s.data.length,g.length);for(let O=0;O<g.length;O++){const N=g[O];N.providersResolver&&N.providersResolver(N)}let E=!1,C=!1,M=Nu(s,o,g.length,null);for(let O=0;O<g.length;O++){const N=g[O];l.mergedAttrs=to(l.mergedAttrs,N.hostAttrs),sE(s,l,o,M,N),hm(M,N,v),null!==N.contentQueries&&(l.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=128);const K=N.type.prototype;!E&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!C&&(K.ngOnChanges||K.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),M++}!function ph(s,o){const u=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,C=null;for(let M=o.directiveStart;M<u;M++){const O=h[M],N=O.inputs,K=null===g||U0(o)?null:Lu(N,g);v.push(K),E=Iy(N,M,E),C=Iy(O.outputs,M,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,l)}v&&function rE(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new xe(-301,!1);u.push(o[h],g)}}}(l,u,v)}return l.mergedAttrs=to(l.mergedAttrs,l.attrs),h}function dm(s,o,l,u,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function My(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=C&&E.push(C),E.push(u,h,v)}}function tE(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function xy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function hm(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;qt(o)&&(l[""]=s)}}function iE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function sE(s,o,l,u,h){s.data[u]=h;const g=h.factory||(h.factory=vi(h.type)),v=new ca(g,qt(h),null);s.blueprint[u]=v,l[u]=v,dm(s,o,0,u,Nu(s,l,h.hostVars,Nt),h)}function oE(s,o,l){const u=$r(o,s),h=Q0(l),g=s[10],v=Bu(s,wc(s,h,null,l.onPush?64:16,u,o,g,g.createRenderer(u,l),null,null));s[o.index]=v}function Yi(s,o,l,u,h,g){const v=$r(s,o);!function yl(s,o,l,u,h,g,v){if(null==g)On(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?de(g):v(g,u||"",h);On(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,g,s.value,l,u,h)}function aE(s,o,l,u,h,g){const v=g[o];if(null!==v){const E=u.setInput;for(let C=0;C<v.length;){const M=v[C++],O=v[C++],N=v[C++];null!==E?u.setInput(l,N,M,O):l[O]=N}}}function Lu(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function Vu(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function Zf(s,o){const l=Gr(o,s);if(Cs(l)){const u=l[1];80&l[2]?fh(u,l,u.template,l[8]):l[5]>0&&Oy(l)}}function Oy(s){for(let u=rh(s);null!==u;u=mc(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const v=g[1];fh(v,g,v.template,g[8])}else g[5]>0&&Oy(g)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=Gr(l[u],s);Cs(h)&&h[5]>0&&Oy(h)}}function gT(s,o){const l=Gr(o,s),u=l[1];(function Ur(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),Mr(u,l,l[8])}function Bu(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function gh(s){for(;s;){s[2]|=64;const o=Yn(s);if(yi(s)&&!o)return s;s=o}return null}function Ry(s,o,l){const u=o[10];u.begin&&u.begin();try{fh(s,o,s.template,l)}catch(h){throw hE(o,h),h}finally{u.end&&u.end()}}function ky(s){!function Yf(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=va(l),h=u[1];hT(h,u,h.template,l)}}(s[8])}function vl(s,o,l){cu(0),o(s,l)}const dE=(()=>Promise.resolve(null))();function Py(s){return s[7]||(s[7]=[])}function mh(s){return s.cleanup||(s.cleanup=[])}function hE(s,o){const l=s[9],u=l?l.get(gr,null):null;u&&u.handleError(o)}function xr(s,o,l,u,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,u,E):C[E]=h}}function Xt(s,o,l){const u=So(o,s);!function Au(s,o,l){On(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function Jf(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=z(h,E):2==g&&(u=z(u,E+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const _h=new In("INJECTOR",-1);class li{get(o,l=R){if(l===R){const u=new Error(`NullInjectorError: No provider for ${Q(o)}!`);throw u.name="NullInjectorError",u}return l}}const jn=new In("Set Injector scope."),yh={},vh={};let Ny;function ks(){return void 0===Ny&&(Ny=new li),Ny}function pE(s,o=null,l=null,u){const h=pm(s,o,l,u);return h._resolveInjectorDefTypes(),h}function pm(s,o=null,l=null,u){return new Xf(s,l,o||ks(),u)}class Xf{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&qr(l,E=>this.processProvider(E,o,l)),qr([o],E=>this.processInjectorType(E,[],g)),this.records.set(_h,bl(void 0,this));const v=this.records.get(jn);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:Q(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=R,u=ht.Default){this.assertNotDestroyed();const h=Ft(this),g=sr(void 0);try{if(!(u&ht.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function yE(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(o)&&nn(o);E=C&&this.injectableDefInScope(C)?bl(Fy(o),yh):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(u&ht.Self?ks():this.parent).get(o,l=u&ht.Optional&&l===R?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[se]=v[se]||[]).unshift(Q(o)),h)throw v;return function rc(s,o,l,u){const h=s[se];throw o[Ot]&&h.unshift(o[Ot]),s.message=function Bd(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=Q(o);if(Array.isArray(o))h=o.map(Q).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):Q(E)))}h=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Ve,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[se]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{sr(g),Ft(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(Q(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(o,l,u){if(!(o=q(o)))return!1;let h=kr(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==u.indexOf(v);if(void 0!==g&&(h=kr(g)),null==h)return!1;if(null!=h.imports&&!E){let O;u.push(v);try{qr(h.imports,N=>{this.processInjectorType(N,l,u)&&(void 0===O&&(O=[]),O.push(N))})}finally{}if(void 0!==O)for(let N=0;N<O.length;N++){const{ngModule:K,providers:oe}=O[N];qr(oe,Me=>this.processProvider(Me,K,oe||_t))}}this.injectorDefTypes.add(v);const C=vi(v)||(()=>new v);this.records.set(v,bl(C,yh));const M=h.providers;if(null!=M&&!E){const O=o;qr(M,N=>this.processProvider(N,O,M))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,u){let h=Uu(o=q(o))?o:q(o&&o.provide);const g=function Mn(s,o,l){return bh(s)?bl(void 0,s.useValue):bl(gE(s),yh)}(o);if(Uu(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=bl(void 0,yh,!0),v.factory=()=>co(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===yh&&(l.value=vh,l.value=l.factory()),"object"==typeof l.value&&l.value&&function vT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=q(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Fy(s){const o=nn(s),l=null!==o?o.factory:vi(s);if(null!==l)return l;if(s instanceof In)throw new xe(204,!1);if(s instanceof Function)return function yT(s){const o=s.length;if(o>0)throw Ci(o,"?"),new xe(204,!1);const l=function Rr(s){const o=s&&(s[gi]||s[Li]);if(o){const l=function Ii(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new xe(204,!1)}function gE(s,o,l){let u;if(Uu(s)){const h=q(s);return vi(h)||Fy(h)}if(bh(s))u=()=>q(s.useValue);else if(function gm(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...co(s.deps||[]));else if(function ep(s){return!(!s||!s.useExisting)}(s))u=()=>cn(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function _E(s){return!!s.deps}(s))return vi(h)||Fy(h);u=()=>new h(...co(s.deps))}return u}function bl(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function bh(s){return null!==s&&"object"==typeof s&&At in s}function Uu(s){return"function"==typeof s}let go=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return pE({name:""},u,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return pE({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=R,s.NULL=new li,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>cn(_h)}),s.__NG_ELEMENT_ID__=-1,s})();function IT(s,o){Ds(va(s)[1],Fn())}function Tc(s){let o=function ju(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(qt(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new xe(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=Hy(s.inputs),v.declaredInputs=Hy(s.declaredInputs),v.outputs=Hy(s.outputs);const E=h.hostBindings;E&&Qi(s,E);const C=h.viewQuery,M=h.contentQueries;if(C&&AT(s,C),M&&IE(s,M),W(s.inputs,h.inputs),W(s.declaredInputs,h.declaredInputs),W(s.outputs,h.outputs),qt(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Tc&&(l=!1)}}o=Object.getPrototypeOf(o)}!function ST(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=to(h.hostAttrs,l=to(l,h.hostAttrs))}}(u)}function Hy(s){return s===yr?{}:s===_t?[]:s}function AT(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function IE(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,g)=>{o(u,h,g),l(u,h,g)}:o}function Qi(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let np=null;function wl(){if(!np){const s=Zt.Symbol;if(s&&s.iterator)np=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(np=u)}}}return np}function rp(s){return!!$y(s)&&(Array.isArray(s)||!(s instanceof Map)&&wl()in s)}function $y(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ri(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Gy(s,o,l,u){const h=Pe();return Ri(h,Js(),o)&&(Yt(),Yi(er(),h,s,o,l,u)),Gy}function Th(s,o,l,u){return Ri(s,Js(),l)?o+de(l)+u:Nt}function vm(s,o,l,u,h,g,v,E){const C=Pe(),M=Yt(),O=s+20,N=M.firstCreatePass?function OE(s,o,l,u,h,g,v,E,C){const M=o.consts,O=ml(o,s,4,v||null,bi(M,E));um(o,l,O,bi(M,C)),Ds(o,O);const N=O.tViews=lm(2,O,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,O),N.queries=o.queries.embeddedTView(O)),O}(O,M,C,o,l,u,h,g,v):M.data[O];Ei(N,!1);const K=C[11].createComment("");lh(M,C,K,N),Qr(K,C),Bu(C,C[O]=Vu(K,C,K,N)),Ir(N)&&wy(M,C,N),null!=v&&Cy(C,N,E)}function Jr(s){return $i(function su(){return bt.lFrame.contextLView}(),20+s)}function Nh(s,o=ht.Default){const l=Pe();return null===l?cn(s,o):Ae(Fn(),l,q(s),o)}function op(){throw new Error("invalid")}function ap(s,o,l){const u=Pe();return Ri(u,Js(),o)&&Oi(Yt(),er(),u,s,o,u[11],l,!1),ap}function Dm(s,o,l,u,h){const v=h?"class":"style";xr(s,l,o.inputs[v],v,u)}function Dl(s,o,l,u){const h=Pe(),g=Yt(),v=20+s,E=h[11],C=h[v]=al(E,o,function J_(){return bt.lFrame.currentNamespace}()),M=g.firstCreatePass?function xc(s,o,l,u,h,g,v){const E=o.consts,M=ml(o,s,2,h,bi(E,g));return um(o,l,M,bi(E,v)),null!==M.attrs&&Jf(M,M.attrs,!1),null!==M.mergedAttrs&&Jf(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,g,h,0,o,l,u):g.data[v];Ei(M,!0);const O=M.mergedAttrs;null!==O&&ua(E,C,O);const N=M.classes;null!==N&&Br(E,C,N);const K=M.styles;return null!==K&&Fe(E,C,K),64!=(64&M.flags)&&lh(g,h,C,M),0===function $a(){return bt.lFrame.elementDepthCount}()&&Qr(C,h),function Gl(){bt.lFrame.elementDepthCount++}(),Ir(M)&&(wy(g,h,M),Ey(g,M,h)),null!==u&&Cy(h,M),Dl}function lp(){let s=Fn();ru()?iu():(s=s.parent,Ei(s,!1));const o=s;!function zl(){bt.lFrame.elementDepthCount--}();const l=Yt();return l.firstCreatePass&&(Ds(l,s),Xn(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function mf(s){return 0!=(16&s.flags)}(o)&&Dm(l,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Dg(s){return 0!=(32&s.flags)}(o)&&Dm(l,o,Pe(),o.stylesWithoutHost,!1),lp}function Tl(s,o,l,u){return Dl(s,o,l,u),lp(),Tl}function cp(s,o,l){const u=Pe(),h=Yt(),g=s+20,v=h.firstCreatePass?function Fh(s,o,l,u,h){const g=o.consts,v=bi(g,u),E=ml(o,s,8,"ng-container",v);return null!==v&&Jf(E,v,!0),um(o,l,E,bi(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,u,o,l):h.data[g];Ei(v,!0);const E=u[g]=u[11].createComment("");return lh(h,u,E,v),Qr(E,u),Ir(v)&&(wy(h,u,v),Ey(h,v,u)),null!=l&&Cy(u,v),cp}function Go(){let s=Fn();const o=Yt();return ru()?iu():(s=s.parent,Ei(s,!1)),o.firstCreatePass&&(Ds(o,s),Xn(s)&&o.queries.elementEnd(s)),Go}function Tm(){return Pe()}function Im(s){return!!s&&"function"==typeof s.then}function zE(s){return!!s&&"function"==typeof s.subscribe}const WE=zE;function Jy(s,o,l,u){const h=Pe(),g=Yt(),v=Fn();return function Xy(s,o,l,u,h,g,v,E){const C=Ir(u),O=s.firstCreatePass&&mh(s),N=o[8],K=Py(o);let oe=!0;if(3&u.type||E){const Qe=$r(u,o),lt=E?E(Qe):Qe,Ne=K.length,It=E?dn=>E(Dn(dn[u.index])):u.index;if(On(l)){let dn=null;if(!E&&C&&(dn=function Sm(s,o,l,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===u){const E=o[7],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==dn)(dn.__ngLastListenerFn__||dn).__ngNextListenerFn__=g,dn.__ngLastListenerFn__=g,oe=!1;else{g=ev(u,o,N,g,!1);const kn=l.listen(lt,h,g);K.push(g,kn),O&&O.push(h,It,Ne,Ne+1)}}else g=ev(u,o,N,g,!0),lt.addEventListener(h,g,v),K.push(g),O&&O.push(h,It,Ne,v)}else g=ev(u,o,N,g,!1);const Me=u.outputs;let ze;if(oe&&null!==Me&&(ze=Me[h])){const Qe=ze.length;if(Qe)for(let lt=0;lt<Qe;lt+=2){const Fs=o[ze[lt]][ze[lt+1]].subscribe(g),hd=K.length;K.push(g,Fs),O&&O.push(h,u.index,hd,-(hd+1))}}}(g,h,h[11],v,s,o,!!l,u),Jy}function KE(s,o,l,u){try{return!1!==l(u)}catch(h){return hE(s,h),!1}}function ev(s,o,l,u,h){return function g(v){if(v===Function)return u;const E=2&s.flags?Gr(s.index,o):o;0==(32&o[2])&&gh(E);let C=KE(o,0,u,v),M=g.__ngNextListenerFn__;for(;M;)C=KE(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function tv(s=1){return function Xs(s){return(bt.lFrame.contextLView=function du(s,o){for(;s>0;)o=o[15],s--;return o}(s,bt.lFrame.contextLView))[8]}(s)}function Qu(s,o){let l=null;const u=function rT(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===u?ps(s,g,!0):uh(u,g))return h}else l=h}return l}function Lh(s){const o=Pe()[16][6];if(!o.projection){const u=o.projection=Ci(s?s.length:1,null),h=u.slice();let g=o.child;for(;null!==g;){const v=s?Qu(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:u[v]=g,h[v]=g),g=g.next}}}function nv(s,o=0,l){const u=Pe(),h=Yt(),g=ml(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),iu(),64!=(64&g.flags)&&function Vt(s,o,l){V0(o[11],0,o,l,R0(s,l,o),L0(l.parent||o[6],l,o))}(h,u,g)}function ov(s,o,l,u,h){const g=s[l+1],v=null===o;let E=u?Vn(g):dl(g),C=!1;for(;0!==E&&(!1===C||v);){const O=s[E+1];av(s[E],o)&&(C=!0,s[E+1]=u?hl(O):Ar(O)),E=u?Vn(O):dl(O)}C&&(s[l+1]=u?Ar(g):hl(g))}function av(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ms(s,o)>=0}const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lv(s){return s.substring(Xr.key,Xr.keyEnd)}function JE(s,o){const l=Xr.textEnd;return l===o?-1:(o=Xr.keyEnd=function XE(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Xr.key=o,l),Il(s,o,l))}function Il(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function dp(s,o,l){return zo(s,o,l,!1),dp}function uv(s,o){return zo(s,o,null,!0),uv}function Aa(s,o){for(let l=function QE(s){return function Rm(s){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=s.length}(s),JE(s,Il(s,0,Xr.textEnd))}(o);l>=0;l=JE(o,l))Kr(s,lv(o),!0)}function zo(s,o,l,u){const h=Pe(),g=Yt(),v=Gi(2);g.firstUpdatePass&&nw(g,s,v,u),o!==Nt&&Ri(h,v,o)&&Pm(g,g.data[zr()],h,h[11],s,h[v+1]=function $T(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Q(Kn(s)))),s}(o,l),u,v)}function tw(s,o){return o>=s.expandoStartIndex}function nw(s,o,l,u){const h=s.data;if(null===h[l+1]){const g=h[zr()],v=tw(s,l);pv(g,u)&&null===o&&!v&&(o=!1),o=function HT(s,o,l,u){const h=function la(s){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=Rc(l=hp(null,s,o,l,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=hp(h,s,o,l,u),null===g){let C=function hv(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==dl(u))return s[Vn(u)]}(s,o,u);void 0!==C&&Array.isArray(C)&&(C=hp(null,s,o,C[1],u),C=Rc(C,o.attrs,u),function rw(s,o,l,u){s[Vn(l?o.classBindings:o.styleBindings)]=u}(s,o,u,C))}else g=function iw(s,o,l){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=Rc(u,s[g].hostAttrs,l);return Rc(u,o.attrs,l)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,u),function BT(s,o,l,u,h,g){let v=g?o.classBindings:o.styleBindings,E=Vn(v),C=dl(v);s[u]=l;let O,M=!1;if(Array.isArray(l)){const N=l;O=N[1],(null===O||Ms(N,O)>0)&&(M=!0)}else O=l;if(h)if(0!==C){const K=Vn(s[E+1]);s[u+1]=Xg(K,E),0!==K&&(s[K+1]=Ea(s[K+1],u)),s[E+1]=function iT(s,o){return 131071&s|o<<17}(s[E+1],u)}else s[u+1]=Xg(E,0),0!==E&&(s[E+1]=Ea(s[E+1],u)),E=u;else s[u+1]=Xg(C,0),0===E?E=u:s[C+1]=Ea(s[C+1],u),C=u;M&&(s[u+1]=Ar(s[u+1])),ov(s,O,u,!0),ov(s,O,u,!1),function YE(s,o,l,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ms(g,o)>=0&&(l[u+1]=hl(l[u+1]))}(o,O,s,u,g),v=Xg(E,C),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,u)}}function hp(s,o,l,u,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],u=Rc(u,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),u}function Rc(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Kr(s,v,!!l||o[++g]))}return void 0===s?null:s}function Pm(s,o,l,u,h,g,v,E){if(!(3&o.type))return;const C=s.data,M=C[E+1];gp(function _r(s){return 1==(1&s)}(M)?Nm(C,o,l,h,dl(M),v):void 0)||(gp(g)||function Mu(s){return 2==(2&s)}(M)&&(g=Nm(C,null,l,h,E,v)),function Ee(s,o,l,u,h){const g=On(s);if(o)h?g?s.addClass(l,u):l.classList.add(u):g?s.removeClass(l,u):l.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:_e.DashCase;if(null==h)g?s.removeStyle(l,u,v):l.style.removeProperty(u);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=_e.Important),g?s.setStyle(l,u,h,v):l.style.setProperty(u,h,E?"important":"")}}}(u,v,So(zr(),l),h,g))}function Nm(s,o,l,u,h,g){const v=null===o;let E;for(;h>0;){const C=s[h],M=Array.isArray(C),O=M?C[1]:C,N=null===O;let K=l[h+1];K===Nt&&(K=N?_t:void 0);let oe=N?tc(K,u):O===u?K:void 0;if(M&&!gp(oe)&&(oe=tc(C,u)),gp(oe)&&(E=oe,v))return E;const Me=s[h+1];h=v?Vn(Me):dl(Me)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=tc(C,u))}return E}function gp(s){return void 0!==s}function pv(s,o){return 0!=(s.flags&(o?16:32))}function sw(s,o=""){const l=Pe(),u=Yt(),h=s+20,g=u.firstCreatePass?ml(u,h,1,o,null):u.data[h],v=l[h]=function _c(s,o){return On(s)?s.createText(o):s.createTextNode(o)}(l[11],o);lh(u,l,v,g),Ei(g,!1)}function gv(s){return Fm("",s,""),gv}function Fm(s,o,l){const u=Pe(),h=Th(u,s,o,l);return h!==Nt&&Xt(u,zr(),h),Fm}function cw(s,o,l){!function Wo(s,o,l,u){const h=Yt(),g=Gi(2);h.firstUpdatePass&&nw(h,null,g,u);const v=Pe();if(l!==Nt&&Ri(v,g,l)){const E=h.data[zr()];if(pv(E,u)&&!tw(h,g)){let C=u?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(l=z(C,l||"")),Dm(h,E,v,l,u)}else!function fv(s,o,l,u,h,g,v,E){h===Nt&&(h=_t);let C=0,M=0,O=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==O||null!==N;){const K=C<h.length?h[C+1]:void 0,oe=M<g.length?g[M+1]:void 0;let ze,Me=null;O===N?(C+=2,M+=2,K!==oe&&(Me=N,ze=oe)):null===N||null!==O&&O<N?(C+=2,Me=O):(M+=2,Me=N,ze=oe),null!==Me&&Pm(s,o,l,u,Me,ze,v,E),O=C<h.length?h[C]:null,N=M<g.length?g[M]:null}}(h,E,v,v[11],v[g+1],v[g+1]=function fp(s,o,l){if(null==l||""===l)return _t;const u=[],h=Kn(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(u,g,h[g]);else"string"==typeof h&&o(u,h);return u}(s,o,l),u,g)}}(Kr,Aa,Th(Pe(),s,o,l),!0)}function Hm(s,o,l){const u=Pe();return Ri(u,Js(),o)&&Oi(Yt(),er(),u,s,o,u[11],l,!0),Hm}const ed=void 0;var qT=["en",[["a","p"],["AM","PM"],ed],[["AM","PM"],ed,ed],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ed,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ed,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ed,"{1} 'at' {0}",ed],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sv(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Pc={};function bp(s){const o=function Mv(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Av(o);if(l)return l;const u=o.split("-")[0];if(l=Av(u),l)return l;if("en"===u)return qT;throw new Error(`Missing locale data for the locale "${s}".`)}function $m(s){return bp(s)[Tt.PluralCase]}function Av(s){return s in Pc||(Pc[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Pc[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const $h="en-US";let mw=$h;function Tp(s,o,l,u,h){if(s=q(s),Array.isArray(s))for(let g=0;g<s.length;g++)Tp(s[g],o,l,u,h);else{const g=Yt(),v=Pe();let E=Uu(s)?s:q(s.provide),C=gE(s);const M=Fn(),O=1048575&M.providerIndexes,N=M.directiveStart,K=M.providerIndexes>>20;if(Uu(s)||!s.multi){const oe=new ca(C,h,Nh),Me=Ap(E,o,h?O:O+K,N);-1===Me?(fr(io(M,v),g,E),Ip(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(oe),v.push(oe)):(l[Me]=oe,v[Me]=oe)}else{const oe=Ap(E,o,O+K,N),Me=Ap(E,o,O,O+K),ze=oe>=0&&l[oe],Qe=Me>=0&&l[Me];if(h&&!Qe||!h&&!ze){fr(io(M,v),g,E);const lt=function Jv(s,o,l,u,h){const g=new ca(s,l,Nh);return g.multi=[],g.index=o,g.componentProviders=0,Sp(g,h,u&&!l),g}(h?Qv:Fw,l.length,h,u,C);!h&&Qe&&(l[Me].providerFactory=lt),Ip(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(lt),v.push(lt)}else Ip(g,s,oe>-1?oe:Me,Sp(l[h?Me:oe],C,!h&&u));!h&&u&&Qe&&l[Me].componentProviders++}}}function Ip(s,o,l,u){const h=Uu(o),g=function mE(s){return!!s.useClass}(o);if(h||g){const C=(g?q(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=M.indexOf(l);-1===O?M.push(l,[u,C]):M[O+1].push(u,C)}else M.push(l,C)}}}function Sp(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function Ap(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function Fw(s,o,l,u){return s_(this.multi,[])}function Qv(s,o,l,u){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=as(l,l[1],this.providerFactory.index,u);g=E.slice(0,v),s_(h,g);for(let C=v;C<E.length;C++)g.push(E[C])}else g=[],s_(h,g);return g}function s_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function nd(s,o=[]){return l=>{l.providersResolver=(u,h)=>function Yv(s,o,l){const u=Yt();if(u.firstCreatePass){const h=qt(s);Tp(l,u.data,u.blueprint,h,!0),Tp(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Lw{}class fI{resolveComponentFactory(o){throw function dI(s){const o=Error(`No component factory found for ${Q(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Mp=(()=>{class s{}return s.NULL=new fI,s})();function pI(){return qh(Fn(),Pe())}function qh(s,o){return new xp($r(s,o))}let xp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=pI,s})();function gI(s){return s instanceof xp?s.nativeElement:s}class o_{}let Bw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function jw(){const s=Pe(),l=Gr(Fn().index,s);return function Uw(s){return s[11]}(He(l)?l:s)}(),s})(),a_=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class hn{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const eb=new hn("13.2.7"),l_={};function Fc(s,o,l,u,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(Dn(g)),xt(g))for(let E=10;E<g.length;E++){const C=g[E],M=C[1].firstChild;null!==M&&Fc(C[1],C,M,u)}const v=l.type;if(8&v)Fc(s,o,l.child,u);else if(32&v){const E=ot(l,o);let C;for(;C=E();)u.push(C)}else if(16&v){const E=Ge(o,l);if(Array.isArray(E))u.push(...E);else{const C=Yn(o[16]);Fc(C[1],C,E,u,!0)}}l=h?l.projectionNext:l.next}return u}class Op{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Fc(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xt(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(oh(o,u),As(l,u))}this._attachedToViewContainer=!1}fs(this._lView[1],this._lView)}onDestroy(o){Ty(this._lView[1],this._lView,null,o)}markForCheck(){gh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ry(this._lView[1],this._lView,this.context)}checkNoChanges(){!function uE(s,o,l){Qs(!0);try{Ry(s,o,l)}finally{Qs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ll(s,o){at(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=o}}class rr extends Op{constructor(o){super(o),this._view=o}detectChanges(){ky(this._view)}checkNoChanges(){!function Qf(s){Qs(!0);try{ky(s)}finally{Qs(!1)}}(this._view)}get context(){return null}}class Ti extends Mp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=an(o);return new xa(l,this.ngModule)}}function qo(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class xa extends Lw{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Pt(s){return s.map(Sr).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return qo(this.componentDef.inputs)}get outputs(){return qo(this.componentDef.outputs)}create(o,l,u,h){const g=(h=h||this.ngModule)?function _I(s,o){return{get:(l,u,h)=>{const g=s.get(l,l_,h);return g!==l_||u===l_?g:o.get(l,u,h)}}}(o,h.injector):o,v=g.get(o_,sa),E=g.get(a_,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=u?function Dy(s,o,l){if(On(s))return s.selectRootElement(o,l===$t.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(C,u,this.componentDef.encapsulation):al(v.createRenderer(null,this.componentDef),M,function Hw(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),N=this.componentDef.onPush?576:528,K=function jy(s,o){return{components:[],scheduler:s||uy,clean:dE,playerHandler:o||null,flags:0}}(),oe=lm(0,null,null,1,0,null,null,null,null,null),Me=wc(null,oe,K,N,null,null,v,C,E,g);let ze,Qe;Ao(Me);try{const lt=function Uy(s,o,l,u,h,g){const v=l[1];l[20]=s;const C=ml(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(Jf(C,M,!0),null!==s&&(ua(h,s,M),null!==C.classes&&Br(h,s,C.classes),null!==C.styles&&Fe(h,s,C.styles)));const O=u.createRenderer(s,o),N=wc(l,Q0(o),null,o.onPush?64:16,l[20],C,u,O,g||null,null);return v.firstCreatePass&&(fr(io(C,l),v,o.type),xy(v,C),iE(C,l.length,1)),Bu(l,N),l[20]=N}(O,this.componentDef,Me,v,C);if(O)if(u)ua(C,O,["ng-version",eb.full]);else{const{attrs:Ne,classes:It}=function $0(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&l.push(g);else{if(!Ho(h))break;h=g}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ne&&ua(C,O,Ne),It&&It.length>0&&Br(C,O,It.join(" "))}if(Qe=Ha(oe,20),void 0!==l){const Ne=Qe.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const dn=l[It];Ne.push(null!=dn?Array.from(dn):null)}}ze=function TE(s,o,l,u,h){const g=l[1],v=function Kf(s,o,l){const u=Fn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),sE(s,u,o,Nu(s,o,1,null),l));const h=as(o,s,u.directiveStart,u);Qr(h,o);const g=$r(u,o);return g&&Qr(g,o),h}(g,l,o);if(u.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=Fn();o.contentQueries(1,v,C.directiveStart)}const E=Fn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(eo(E.index),dm(l[1],E,0,E.directiveStart,E.directiveEnd,o),tE(o,v)),v}(lt,this.componentDef,Me,K,[IT]),Mr(oe,Me,null)}finally{xo()}return new vI(this.componentType,ze,qh(Qe,Me),Me,Qe)}}class vI extends class Xv{}{constructor(o,l,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new rr(h),this.componentType=o}get injector(){return new vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Kh{}class Gw{}const Rn=new Map;class nb extends Kh{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ti(this);const u=wn(o);this._bootstrapComponents=m(u.bootstrap),this._r3Injector=pm(o,l,[{provide:Kh,useValue:this},{provide:Mp,useValue:this.componentFactoryResolver}],Q(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=go.THROW_IF_NOT_FOUND,u=ht.Default){return o===go||o===Kh||o===_h?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class rb extends Gw{constructor(o){super(),this.moduleType=o,null!==wn(o)&&function Hr(s){const o=new Set;!function l(u){const h=wn(u,!0),g=h.id;null!==g&&(function Rp(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${Q(o)} vs ${Q(o.name)}`)}(g,Rn.get(g),u),Rn.set(g,u));const v=m(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new nb(this.moduleType,o)}}function kp(s,o,l,u,h,g){const v=o+l;return Ri(s,v,h)?function Ta(s,o,l){return s[o]=l}(s,v+1,g?u.call(g,h):u(h)):function Ko(s,o){const l=s[o];return l===Nt?void 0:l}(s,v+1)}function Pp(s,o){const l=Yt();let u;const h=s+20;l.firstCreatePass?(u=function II(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const g=u.factory||(u.factory=vi(u.type)),v=sr(Nh);try{const E=ro(!1),C=g();return ro(E),function RE(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,Pe(),h,C),C}finally{sr(v)}}function Lc(s,o,l){const u=s+20,h=Pe(),g=$i(h,u);return function Fp(s,o){return s[1].data[o].pure}(h,u)?kp(h,function Fr(){const s=bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,g.transform,l,g):g.transform(l)}function ab(s){return o=>{setTimeout(s,void 0,o)}}const yo=class SI extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,g,v;let E=o,C=l||(()=>null),M=u;if(o&&"object"==typeof o){const N=o;E=null===(h=N.next)||void 0===h?void 0:h.bind(N),C=null===(g=N.error)||void 0===g?void 0:g.bind(N),M=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(C=ab(C),E&&(E=ab(E)),M&&(M=ab(M)));const O=super.subscribe({next:E,error:C,complete:M});return o instanceof $.w0&&o.add(O),O}};function lb(){return this._results[wl()]()}class Lp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=wl(),u=Lp.prototype;u[l]||(u[l]=lb)}get changes(){return this._changes||(this._changes=new yo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=pr(o);(this._changesDetected=!function fa(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Zo=(()=>{class s{}return s.__NG_ELEMENT_ID__=cb,s})();const Yw=Zo,Qw=class extends Yw{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=wc(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(l)),Mr(l,u,o),new Op(u)}};function cb(){return Zh(Fn(),Pe())}function Zh(s,o){return 4&s.type?new Qw(o,s,qh(s,o)):null}let u_=(()=>{class s{}return s.__NG_ELEMENT_ID__=d_,s})();function d_(){return Vp(Fn(),Pe())}const h_=u_,ub=class extends h_{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return qh(this._hostTNode,this._hostLView)}get injector(){return new vt(this._hostTNode,this._hostLView)}get parentInjector(){const o=si(this._hostTNode,this._hostLView);if(ii(o)){const l=Tn(o,this._hostLView),u=kt(o);return new vt(l[1].data[u+8],l)}return new vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Yh(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,g){const v=o&&!function tr(s){return"function"==typeof s}(o);let E;if(v)E=l;else{const N=l||{};E=N.index,u=N.injector,h=N.projectableNodes,g=N.ngModuleRef}const C=v?o:new xa(an(o)),M=u||this.parentInjector;if(!g&&null==C.ngModule){const K=(v?M:this.parentInjector).get(Kh,null);K&&(g=K)}const O=C.create(M,h,void 0,g);return this.insert(O.hostView,E),O}insert(o,l){const u=o._lView,h=u[1];if(function Hl(s){return xt(s[3])}(u)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const N=u[3],K=new ub(N,N[6],N[3]);K.detach(K.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function M0(s,o,l,u){const h=10+u,g=l.length;u>0&&(l[h-1][4]=o),u<g-10?(o[4]=l[h],Ka(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function x0(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,u,v,g);const E=Er(g,v),C=u[11],M=Yg(C,v[7]);return null!==M&&function sh(s,o,l,u,h,g){u[0]=h,u[6]=o,at(s,u,l,1,h,g)}(h,v[6],C,u,M,E),o.attachToViewContainerRef(),Ka(db(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Yh(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=oh(this._lContainer,l);u&&(As(db(this._lContainer),l),fs(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=oh(this._lContainer,l);return u&&null!=As(db(this._lContainer),l)?new Op(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Yh(s){return s[8]}function db(s){return s[8]||(s[8]=[])}function Vp(s,o){let l;const u=o[s.index];if(xt(u))l=u;else{let h;if(8&s.type)h=Dn(u);else{const g=o[11];h=g.createComment("");const v=$r(s,o);cl(g,Yg(g,v),h,function Qg(s,o){return On(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=Vu(u,o,h,s),Bu(o,l)}return new ub(l,s,o)}class Ra{constructor(o){this.queryList=o,this.matches=null}clone(){return new Ra(this.queryList)}setDirty(){this.queryList.setDirty()}}class hb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<u;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new hb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==mb(o,l).matches&&this.queries[l].setDirty()}}class fb{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class p_{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new p_(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class id{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new id(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,l,Vc(l,g)),this.matchTNodeWithReadOption(o,l,Ht(l,o,g,!1,!1))}else u===Zo?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Ht(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===xp||h===u_||h===Zo&&4&l.type)this.addMatch(l.index,-2);else{const g=Ht(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Vc(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function MI(s,o,l,u){return-1===l?function AI(s,o){return 11&s.type?qh(s,o):4&s.type?Zh(s,o):null}(o,s):-2===l?function xI(s,o,l){return l===xp?qh(o,s):l===Zo?Zh(o,s):l===u_?Vp(o,s):void 0}(s,o,u):as(s,s[1],l,o)}function Jw(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const M=v[C];E.push(M<0?null:MI(o,g[M],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function g_(s,o,l,u){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=Jw(s,o,h,l);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)u.push(v[E/2]);else{const M=g[E+1],O=o[-C];for(let N=10;N<O.length;N++){const K=O[N];K[17]===K[3]&&g_(K[1],K,M,u)}if(null!==O[9]){const N=O[9];for(let K=0;K<N.length;K++){const oe=N[K];g_(oe[1],oe,M,u)}}}}}return u}function Xw(s){const o=Pe(),l=Yt(),u=lu();cu(u+1);const h=mb(l,u);if(s.dirty&&Ks(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?g_(l,o,u,[]):Jw(l,o,h,u);s.reset(g,gI),s.notifyOnChanges()}return!0}return!1}function eC(s,o,l){const u=Yt();u.firstCreatePass&&(nC(u,new fb(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),gb(u,Pe(),o)}function pb(s,o,l,u){const h=Yt();if(h.firstCreatePass){const g=Fn();nC(h,new fb(o,l,u),g.index),function RI(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}gb(h,Pe(),l)}function tC(){return function OI(s,o){return s[19].queries[o].queryList}(Pe(),lu())}function gb(s,o,l){const u=new Lp(4==(4&l));Ty(s,o,u,u.destroy),null===o[19]&&(o[19]=new hb),o[19].queries.push(new Ra(u))}function nC(s,o,l){null===s.queries&&(s.queries=new p_),s.queries.track(new id(o,l))}function mb(s,o){return s.queries.getByIndex(o)}function _b(s,o){return Zh(s,o)}function w_(...s){}const ld=new In("Application Initializer");let Rl=(()=>{class s{constructor(l){this.appInits=l,this.resolve=w_,this.reject=w_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Im(g))l.push(g);else if(WE(g)){const v=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(cn(ld,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const C_=new In("AppId",{providedIn:"root",factory:function Uc(){return`${xb()}${xb()}${xb()}`}});function xb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fC=new In("Platform Initializer"),Sn=new In("Platform ID"),kl=new In("appBootstrapListener");let di=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const Rb=new In("LocaleId",{providedIn:"root",factory:()=>Fo(Rb,ht.Optional|ht.SkipSelf)||function zI(){return"undefined"!=typeof $localize&&$localize.locale||$h}()}),pC=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gC{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let mC=(()=>{class s{compileModuleSync(l){return new rb(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=m(wn(l).declarations).reduce((v,E)=>{const C=an(E);return C&&v.push(new xa(C)),v},[]);return new gC(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cd=(()=>Promise.resolve(0))();function Qo(s){"undefined"==typeof Zone?cd.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ns{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yo(!1),this.onMicrotaskEmpty=new yo(!1),this.onStable=new yo(!1),this.onError=new yo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function _C(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function pM(s){const o=()=>{!function qI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Nb(s),s.isCheckStableRunning=!0,ef(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Nb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,g,v,E)=>{try{return D_(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),KI(s)}},onInvoke:(l,u,h,g,v,E,C)=>{try{return D_(s),l.invoke(h,g,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),KI(s)}},onHasTask:(l,u,h,g)=>{l.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Nb(s),ef(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,yC,w_,w_);try{return g.runTask(v,l,u)}finally{g.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const yC={};function ef(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Nb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function D_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function KI(s){s._nesting--,ef(s)}class gM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yo,this.onMicrotaskEmpty=new yo,this.onStable=new yo,this.onError=new yo}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let vC=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),Qo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qo(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(cn(Ns))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),bC=(()=>{class s{constructor(){this._applications=new Map,EC.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return EC.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();class mM{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function _M(s){EC=s}let ka,EC=new mM;const ZI=new In("AllowMultipleToken");class wC{constructor(o,l){this.name=o,this.token=l}}function CC(s,o,l=[]){const u=`Platform: ${o}`,h=new In(u);return(g=[])=>{let v=Up();if(!v||v.injector.get(ZI,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const E=l.concat(g).concat({provide:h,useValue:!0},{provide:jn,useValue:"platform"});!function YI(s){if(ka&&!ka.destroyed&&!ka.injector.get(ZI,!1))throw new xe(400,"");ka=s.get(T_);const o=s.get(fC,null);o&&o.forEach(l=>l())}(go.create({providers:E,name:u}))}return function hi(s){const o=Up();if(!o)throw new xe(401,"");return o}()}}function Up(){return ka&&!ka.destroyed?ka:null}let T_=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const E=function QI(s,o){let l;return l="noop"===s?new gM:("zone.js"===s?void 0:s)||new Ns({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Ns,useValue:E}];return E.run(()=>{const M=go.create({providers:C,parent:this.injector,name:l.moduleType.name}),O=l.create(M),N=O.injector.get(gr,null);if(!N)throw new xe(402,"");return E.runOutsideAngular(()=>{const K=E.onError.subscribe({next:oe=>{N.handleError(oe)}});O.onDestroy(()=>{Fb(this._modules,O),K.unsubscribe()})}),function JI(s,o,l){try{const u=l();return Im(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,E,()=>{const K=O.injector.get(Rl);return K.runInitializers(),K.donePromise.then(()=>(function xv(s){pn(s,"Expected localeId to be defined"),"string"==typeof s&&(mw=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Rb,$h)||$h),this._moduleDoBootstrap(O),O))})})}bootstrapModule(l,u=[]){const h=DC({},u);return function yM(s,o,l){const u=new rb(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const u=l.injector.get(I_);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new xe(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(cn(go))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function DC(s,o){return Array.isArray(o)?o.reduce(DC,s):Object.assign(Object.assign({},s),o)}let I_=(()=>{class s{constructor(l,u,h,g,v){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new k.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new k.y(M=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),Qo(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{O.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ee.T)(E,C.pipe((0,U.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new xe(405,"");let h;h=l instanceof Lw?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function vM(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Kh),E=h.create(go.NULL,[],u||h.selector,g),C=E.location.nativeElement,M=E.injector.get(vC,null),O=M&&E.injector.get(bC);return M&&O&&O.registerApplication(C,M),E.onDestroy(()=>{this.detachView(E.hostView),Fb(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Fb(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(kl,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(cn(Ns),cn(go),cn(gr),cn(Mp),cn(Rl))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fb(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let IC=!0,Pi=!1;function S_(){return Pi=!0,IC}function SC(){if(Pi)throw new Error("Cannot enable prod mode after platform setup.");IC=!1}let Lb=(()=>{class s{}return s.__NG_ELEMENT_ID__=Vb,s})();function Vb(s){return function eS(s,o,l){if(_n(s)&&!l){const u=Gr(s.index,o);return new Op(u,u)}return 47&s.type?new Op(o[16],o):null}(Fn(),Pe(),16==(16&s))}class O_{constructor(){}supports(o){return rp(o)}create(o){return new FC(o)}}const NC=(s,o)=>o;class FC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||NC}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,g=null;for(;l||u;){const v=!u||l&&l.currentIndex<VC(u,h,g)?l:u,E=VC(v,h,g),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const M=E-h,O=C-h;if(M!=O){for(let K=0;K<M;K++){const oe=K<g.length?g[K]:g[K]=0,Me=oe+K;O<=Me&&Me<M&&(g[K]=oe+1)}g[v.previousIndex]=O-M}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!rp(o))throw new xe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),u=!0),l=l._next}else h=0,function OT(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[wl()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new Bb(l,u),g,h),o}_verifyReinsertion(o,l,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new LC),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Bb{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class LC{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new rS,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VC(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class Gp{constructor(){}supports(o){return o instanceof Map||$y(o)}create(){return new Ub}}class Ub{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||$y(o)))throw new xe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new jb(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class jb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function R_(){return new k_([new O_])}let k_=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||R_()),deps:[[s,new ur,new Ja]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new xe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:R_}),s})();function Hb(){return new tf([new Gp])}let tf=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Hb()),deps:[[s,new ur,new Ja]]}}find(l){const u=this.factories.find(g=>g.supports(l));if(u)return u;throw new xe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Hb}),s})();const oS=CC(null,"core",[{provide:Sn,useValue:"unknown"},{provide:T_,deps:[go]},{provide:bC,deps:[]},{provide:di,deps:[]}]);let aS=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(cn(I_))},s.\u0275mod=ae({type:s}),s.\u0275inj=on({}),s})()},3942:(ne,G,S)=>{S.d(G,{Z:()=>xe});var c=S(2090),$=S(4859),k=S(9681),ee=S(1877);class U{constructor(de,he){this._delegate=de,this.firebase=he,(0,k._addComponent)(de,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(de,he=k._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(de);return!Le.isInitialized()&&"EXPLICIT"===(null===(je=Le.getComponent())||void 0===je?void 0:je.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:he})}_removeServiceInstance(de,he=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(he)}_addComponent(de){(0,k._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,k._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function z(){const ke=function Q(ke){const de={},he={__esModule:!0,initializeApp:function Ie(Ze,ce={}){const et=k.initializeApp(Ze,ce);if((0,c.r3)(de,et.name))return de[et.name];const le=new ke(et,he);return de[et.name]=le,le},app:Le,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Se(Ze){const ce=Ze.name,et=ce.replace("-compat","");if(k._registerComponent(Ze)&&"PUBLIC"===Ze.type){const le=(ye=Le())=>{if("function"!=typeof ye[et])throw W.create("invalid-app-argument",{appName:ce});return ye[et]()};void 0!==Ze.serviceProps&&(0,c.ZB)(le,Ze.serviceProps),he[et]=le,ke.prototype[et]=function(...ye){return this._getService.bind(this,ce).apply(this,Ze.multipleInstances?ye:[])}}return"PUBLIC"===Ze.type?he[et]:null},removeApp:function je(Ze){delete de[Ze]},useAsService:function qe(Ze,ce){return"serverAuth"===ce?null:ce},modularAPIs:k}};function Le(Ze){if(!(0,c.r3)(de,Ze=Ze||k._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Ze});return de[Ze]}return he.default=he,Object.defineProperty(he,"apps",{get:function ve(){return Object.keys(de).map(Ze=>de[Ze])}}),Le.App=ke,he}(U);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function de(he){(0,c.ZB)(ke,he)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ke}(),L=new ee.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=F;!function be(ke){(0,k.registerVersion)("@firebase/app-compat","0.1.23",ke)}()},9681:(ne,G,S)=>{S.r(G),S.d(G,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>kr,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>ir,_addOrOverwriteComponent:()=>Pn,_apps:()=>Je,_clearComponents:()=>nn,_components:()=>tn,_getProvider:()=>ei,_registerComponent:()=>rn,_removeServiceInstance:()=>on,deleteApp:()=>ti,getApp:()=>wr,getApps:()=>Li,initializeApp:()=>gi,onLog:()=>Gn,registerVersion:()=>Pr,setLogLevel:()=>sr});var c=S(5861),$=S(4859),k=S(1877),ee=S(2090);class U{constructor(Re){this.container=Re}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function te(nt){const Re=nt.getComponent();return"VERSION"===(null==Re?void 0:Re.type)}(st)){const yt=st.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(st=>st).join(" ")}}const W="@firebase/app",Q="0.7.22",z=new k.Yd("@firebase/app"),en="[DEFAULT]",pn={[W]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,tn=new Map;function ir(nt,Re){try{nt.container.addComponent(Re)}catch(st){z.debug(`Component ${Re.name} failed to register with FirebaseApp ${nt.name}`,st)}}function Pn(nt,Re){nt.container.addOrOverwriteComponent(Re)}function rn(nt){const Re=nt.name;if(tn.has(Re))return z.debug(`There were multiple attempts to register component ${Re}.`),!1;tn.set(Re,nt);for(const st of Je.values())ir(st,nt);return!0}function ei(nt,Re){const st=nt.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),nt.container.getProvider(Re)}function on(nt,Re,st=en){ei(nt,Re).clearInstance(st)}function nn(){tn.clear()}const Rr=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ii{constructor(Re,st,yt){this._isDeleted=!1,this._options=Object.assign({},Re),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this.checkDestroyed(),this._automaticDataCollectionEnabled=Re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Re){this._isDeleted=Re}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const kr="9.7.0";function gi(nt,Re={}){"object"!=typeof Re&&(Re={name:Re});const st=Object.assign({name:en,automaticDataCollectionEnabled:!1},Re),yt=st.name;if("string"!=typeof yt||!yt)throw Rr.create("bad-app-name",{appName:String(yt)});const zt=Je.get(yt);if(zt){if((0,ee.vZ)(nt,zt.options)&&(0,ee.vZ)(st,zt.config))return zt;throw Rr.create("duplicate-app",{appName:yt})}const Wt=new $.H0(yt);for(const j of tn.values())Wt.addComponent(j);const Z=new Ii(nt,st,Wt);return Je.set(yt,Z),Z}function wr(nt=en){const Re=Je.get(nt);if(!Re)throw Rr.create("no-app",{appName:nt});return Re}function Li(){return Array.from(Je.values())}function ti(nt){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(nt){const Re=nt.name;Je.has(Re)&&(Je.delete(Re),yield Promise.all(nt.container.getProviders().map(st=>st.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Pr(nt,Re,st){var yt;let zt=null!==(yt=pn[nt])&&void 0!==yt?yt:nt;st&&(zt+=`-${st}`);const Wt=zt.match(/\s|\//),Z=Re.match(/\s|\//);if(Wt||Z){const j=[`Unable to register library "${zt}" with version "${Re}":`];return Wt&&j.push(`library name "${zt}" contains illegal characters (whitespace or "/")`),Wt&&Z&&j.push("and"),Z&&j.push(`version name "${Re}" contains illegal characters (whitespace or "/")`),void z.warn(j.join(" "))}rn(new $.wA(`${zt}-version`,()=>({library:zt,version:Re}),"VERSION"))}function Gn(nt,Re){if(null!==nt&&"function"!=typeof nt)throw Rr.create("invalid-log-argument");(0,k.Am)(nt,Re)}function sr(nt){(0,k.Ub)(nt)}const En="firebase-heartbeat-store";let or=null;function es(){return or||(or=(0,ee.X3)("firebase-heartbeat-database",1,(nt,Re)=>{0===Re&&nt.createObjectStore(En)}).catch(nt=>{throw Rr.create("storage-open",{originalErrorMessage:nt.message})})),or}function $t(){return($t=(0,c.Z)(function*(nt){try{return(yield es()).transaction(En).objectStore(En).get(ar(nt))}catch(Re){throw Rr.create("storage-get",{originalErrorMessage:Re.message})}})).apply(this,arguments)}function ct(nt,Re){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(nt,Re){try{const yt=(yield es()).transaction(En,"readwrite");return yield yt.objectStore(En).put(Re,ar(nt)),yt.complete}catch(st){throw Rr.create("storage-set",{originalErrorMessage:st.message})}})).apply(this,arguments)}function ar(nt){return`${nt.name}!${nt.options.appId}`}class ts{constructor(Re){this.container=Re,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new _t(st),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Re=this;return(0,c.Z)(function*(){const yt=Re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),zt=Dr();if(null===Re._heartbeatsCache&&(Re._heartbeatsCache=yield Re._heartbeatsCachePromise),Re._heartbeatsCache.lastSentHeartbeatDate!==zt&&!Re._heartbeatsCache.heartbeats.some(Wt=>Wt.date===zt))return Re._heartbeatsCache.heartbeats.push({date:zt,agent:yt}),Re._heartbeatsCache.heartbeats=Re._heartbeatsCache.heartbeats.filter(Wt=>{const Z=new Date(Wt.date).valueOf();return Date.now()-Z<=2592e6}),Re._storage.overwrite(Re._heartbeatsCache)})()}getHeartbeatsHeader(){var Re=this;return(0,c.Z)(function*(){if(null===Re._heartbeatsCache&&(yield Re._heartbeatsCachePromise),null===Re._heartbeatsCache||0===Re._heartbeatsCache.heartbeats.length)return"";const st=Dr(),{heartbeatsToSend:yt,unsentEntries:zt}=function yr(nt,Re=1024){const st=[];let yt=nt.slice();for(const zt of nt){const Wt=st.find(Z=>Z.agent===zt.agent);if(Wt){if(Wt.dates.push(zt.date),vr(st)>Re){Wt.dates.pop();break}}else if(st.push({agent:zt.agent,dates:[zt.date]}),vr(st)>Re){st.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:st,unsentEntries:yt}}(Re._heartbeatsCache.heartbeats),Wt=(0,ee.L)(JSON.stringify({version:2,heartbeats:yt}));return Re._heartbeatsCache.lastSentHeartbeatDate=st,zt.length>0?(Re._heartbeatsCache.heartbeats=zt,yield Re._storage.overwrite(Re._heartbeatsCache)):(Re._heartbeatsCache.heartbeats=[],Re._storage.overwrite(Re._heartbeatsCache)),Wt})()}}function Dr(){return(new Date).toISOString().substring(0,10)}class _t{constructor(Re){this.app=Re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Re=this;return(0,c.Z)(function*(){return(yield Re._canUseIndexedDBPromise)&&(yield function bo(nt){return $t.apply(this,arguments)}(Re.app))||{heartbeats:[]}})()}overwrite(Re){var st=this;return(0,c.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const Wt=yield st.read();return ct(st.app,{lastSentHeartbeatDate:null!==(yt=Re.lastSentHeartbeatDate)&&void 0!==yt?yt:Wt.lastSentHeartbeatDate,heartbeats:Re.heartbeats})}})()}add(Re){var st=this;return(0,c.Z)(function*(){var yt;if(yield st._canUseIndexedDBPromise){const Wt=yield st.read();return ct(st.app,{lastSentHeartbeatDate:null!==(yt=Re.lastSentHeartbeatDate)&&void 0!==yt?yt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Re.heartbeats]})}})()}}function vr(nt){return(0,ee.L)(JSON.stringify({version:2,heartbeats:nt})).length}!function Gt(nt){rn(new $.wA("platform-logger",Re=>new U(Re),"PRIVATE")),rn(new $.wA("heartbeat",Re=>new ts(Re),"PRIVATE")),Pr(W,Q,nt),Pr(W,Q,"esm2017"),Pr("fire-js","")}("")},4859:(ne,G,S)=>{S.d(G,{wA:()=>k,H0:()=>Q});var c=S(5861),$=S(2090);class k{constructor(F,L,q){this.name=F,this.instanceFactory=L,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ee="[DEFAULT]";class U{constructor(F,L){this.name=F,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const L=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(L)){const q=new $.BH;if(this.instancesDeferred.set(L,q),this.isInitialized(L)||this.shouldAutoInitialize())try{const Te=this.getOrInitializeService({instanceIdentifier:L});Te&&q.resolve(Te)}catch(Te){}}return this.instancesDeferred.get(L).promise}getImmediate(F){var L;const q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Te=null!==(L=null==F?void 0:F.optional)&&void 0!==L&&L;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Te)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(be){if(Te)return null;throw be}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function W(z){return"EAGER"===z.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(L){}for(const[L,q]of this.instancesDeferred.entries()){const Te=this.normalizeInstanceIdentifier(L);try{const be=this.getOrInitializeService({instanceIdentifier:Te});q.resolve(be)}catch(be){}}}}clearInstance(F=ee){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,c.Z)(function*(){const L=Array.from(F.instances.values());yield Promise.all([...L.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...L.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ee){return this.instances.has(F)}getOptions(F=ee){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:L={}}=F,q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Te=this.getOrInitializeService({instanceIdentifier:q,options:L});for(const[be,xe]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(be)&&xe.resolve(Te);return Te}onInit(F,L){var q;const Te=this.normalizeInstanceIdentifier(L),be=null!==(q=this.onInitCallbacks.get(Te))&&void 0!==q?q:new Set;be.add(F),this.onInitCallbacks.set(Te,be);const xe=this.instances.get(Te);return xe&&F(xe,Te),()=>{be.delete(F)}}invokeOnInitCallbacks(F,L){const q=this.onInitCallbacks.get(L);if(q)for(const Te of q)try{Te(F,L)}catch(be){}}getOrInitializeService({instanceIdentifier:F,options:L={}}){let q=this.instances.get(F);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(z=F,z===ee?void 0:z),options:L}),this.instances.set(F,q),this.instancesOptions.set(F,L),this.invokeOnInitCallbacks(q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,q)}catch(Te){}var z;return q||null}normalizeInstanceIdentifier(F=ee){return this.component?this.component.multipleInstances?F:ee:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Q{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const L=this.getProvider(F.name);if(L.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);L.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const L=new U(F,this);return this.providers.set(F,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(ne,G,S)=>{S.d(G,{in:()=>$,Yd:()=>W,Ub:()=>Q,Am:()=>z});const c=[];var $=(()=>{return(F=$||($={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",$;var F})();const k={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,U={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},te=(F,L,...q)=>{if(L<F.logLevel)return;const Te=(new Date).toISOString(),be=U[L];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[be](`[${Te}]  ${F.name}:`,...q)};class W{constructor(L){this.name=L,this._logLevel=ee,this._logHandler=te,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in $))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?k[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...L),this._logHandler(this,$.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...L),this._logHandler(this,$.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,$.INFO,...L),this._logHandler(this,$.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,$.WARN,...L),this._logHandler(this,$.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...L),this._logHandler(this,$.ERROR,...L)}}function Q(F){c.forEach(L=>{L.setLogLevel(F)})}function z(F,L){for(const q of c){let Te=null;L&&L.level&&(Te=k[L.level]),q.userLogHandler=null===F?null:(be,xe,...ke)=>{const de=ke.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(je){return null}}).filter(he=>he).join(" ");xe>=(null!=Te?Te:be.logLevel)&&F({level:$[xe].toLowerCase(),message:de,args:ke,type:be.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ne){const G={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},S="function"==typeof ne?ne():ne,k=Object.assign({},G,{features:S.features||!!S.logOnly&&{pause:!0,export:!0,test:!0}||G.features},S);if(k.maxAge&&k.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${k.maxAge}`);return k}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(G,S){if(this.action=G,this.timestamp=S,this.type=PERFORM_ACTION,void 0===G.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(G){this.timestamp=G,this.type=RESET}}class Rollback{constructor(G){this.timestamp=G,this.type=ROLLBACK}}class Commit{constructor(G){this.timestamp=G,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(G){this.id=G,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(G,S,c=!0){this.start=G,this.end=S,this.active=c,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(G){this.index=G,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(G){this.actionId=G,this.type=JUMP_TO_ACTION}}class ImportState{constructor(G){this.nextLiftedState=G,this.type=IMPORT_STATE}}class LockChanges{constructor(G){this.status=G,this.type=LOCK_CHANGES}}class PauseRecording{constructor(G){this.status=G,this.type=PAUSE_RECORDING}}function difference(ne,G){return ne.filter(S=>G.indexOf(S)<0)}function unliftState(ne){const{computedStates:G,currentStateIndex:S}=ne;if(S>=G.length){const{state:$}=G[G.length-1];return $}const{state:c}=G[S];return c}function unliftAction(ne){return ne.actionsById[ne.nextActionId-1]}function liftAction(ne){return new PerformAction(ne,+Date.now())}function sanitizeActions(ne,G){return Object.keys(G).reduce((S,c)=>{const $=Number(c);return S[$]=sanitizeAction(ne,G[$],$),S},{})}function sanitizeAction(ne,G,S){return Object.assign(Object.assign({},G),{action:ne(G.action,S)})}function sanitizeStates(ne,G){return G.map((S,c)=>({state:sanitizeState(ne,S.state,c),error:S.error}))}function sanitizeState(ne,G,S){return ne(G,S)}function shouldFilterActions(ne){return ne.predicate||ne.actionsSafelist||ne.actionsBlocklist}function filterLiftedState(ne,G,S,c){const $=[],k={},ee=[];return ne.stagedActionIds.forEach((U,te)=>{const W=ne.actionsById[U];!W||te&&isActionFiltered(ne.computedStates[te],W,G,S,c)||(k[U]=W,$.push(U),ee.push(ne.computedStates[te]))}),Object.assign(Object.assign({},ne),{stagedActionIds:$,actionsById:k,computedStates:ee})}function isActionFiltered(ne,G,S,c,$){const k=S&&!S(ne,G.action),ee=c&&!G.action.type.match(c.map(te=>escapeRegExp(te)).join("|")),U=$&&G.action.type.match($.map(te=>escapeRegExp(te)).join("|"));return k||ee||U}function escapeRegExp(ne){return ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ne,G,S,c,$){if(c)return{state:S,error:"Interrupted by an error up the chain"};let ee,k=S;try{k=ne(S,G)}catch(U){ee=U.toString(),$.handleError(U)}return{state:k,error:ee}}function recomputeStates(ne,G,S,c,$,k,ee,U,te){if(G>=ne.length&&ne.length===k.length)return ne;const W=ne.slice(0,G),Q=k.length-(te?1:0);for(let z=G;z<Q;z++){const F=k[z],L=$[F].action,q=W[z-1],Te=q?q.state:c,be=q?q.error:void 0,ke=ee.indexOf(F)>-1?q:computeNextEntry(S,L,Te,be,U);W.push(ke)}return te&&W.push(ne[ne.length-1]),W}function liftInitialState(ne,G){return{monitorState:G(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ne,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ne,G,S,c,$={}){return k=>(ee,U)=>{let{monitorState:te,actionsById:W,nextActionId:Q,stagedActionIds:z,skippedActionIds:F,committedState:L,currentStateIndex:q,computedStates:Te,isLocked:be,isPaused:xe}=ee||G;function ke(je){let Le=je,Ie=z.slice(1,Le+1);for(let ve=0;ve<Ie.length;ve++){if(Te[ve+1].error){Le=ve,Ie=z.slice(1,Le+1);break}delete W[Ie[ve]]}F=F.filter(ve=>-1===Ie.indexOf(ve)),z=[0,...z.slice(Le+1)],L=Te[Le].state,Te=Te.slice(Le),q=q>Le?q-Le:0}function de(){W={0:liftAction(INIT_ACTION)},Q=1,z=[0],F=[],L=Te[q].state,q=0,Te=[]}ee||(W=Object.create(W));let he=0;switch(U.type){case LOCK_CHANGES:be=U.status,he=1/0;break;case PAUSE_RECORDING:xe=U.status,xe?(z=[...z,Q],W[Q]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Q++,he=z.length-1,Te=Te.concat(Te[Te.length-1]),q===z.length-2&&q++,he=1/0):de();break;case RESET:W={0:liftAction(INIT_ACTION)},Q=1,z=[0],F=[],L=ne,q=0,Te=[];break;case COMMIT:de();break;case ROLLBACK:W={0:liftAction(INIT_ACTION)},Q=1,z=[0],F=[],q=0,Te=[];break;case TOGGLE_ACTION:{const{id:je}=U;F=-1===F.indexOf(je)?[je,...F]:F.filter(Ie=>Ie!==je),he=z.indexOf(je);break}case SET_ACTIONS_ACTIVE:{const{start:je,end:Le,active:Ie}=U,ve=[];for(let Se=je;Se<Le;Se++)ve.push(Se);F=Ie?difference(F,ve):[...F,...ve],he=z.indexOf(je);break}case JUMP_TO_STATE:q=U.index,he=1/0;break;case JUMP_TO_ACTION:{const je=z.indexOf(U.actionId);-1!==je&&(q=je),he=1/0;break}case SWEEP:z=difference(z,F),F=[],q=Math.min(q,z.length-1);break;case PERFORM_ACTION:{if(be)return ee||G;if(xe||ee&&isActionFiltered(ee.computedStates[q],U,$.predicate,$.actionsSafelist,$.actionsBlocklist)){const Le=Te[Te.length-1];Te=[...Te.slice(0,-1),computeNextEntry(k,U.action,Le.state,Le.error,S)],he=1/0;break}$.maxAge&&z.length===$.maxAge&&ke(1),q===z.length-1&&q++;const je=Q++;W[je]=U,z=[...z,je],he=z.length-1;break}case IMPORT_STATE:({monitorState:te,actionsById:W,nextActionId:Q,stagedActionIds:z,skippedActionIds:F,committedState:L,currentStateIndex:q,computedStates:Te,isLocked:be,isPaused:xe}=U.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:he=0,$.maxAge&&z.length>$.maxAge&&(Te=recomputeStates(Te,he,k,L,W,z,F,S,xe),ke(z.length-$.maxAge),he=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Te.filter(Le=>Le.error).length>0)he=0,$.maxAge&&z.length>$.maxAge&&(Te=recomputeStates(Te,he,k,L,W,z,F,S,xe),ke(z.length-$.maxAge),he=1/0);else{if(!xe&&!be){q===z.length-1&&q++;const Le=Q++;W[Le]=new PerformAction(U,+Date.now()),z=[...z,Le],he=z.length-1,Te=recomputeStates(Te,he,k,L,W,z,F,S,xe)}Te=Te.map(Le=>Object.assign(Object.assign({},Le),{state:k(Le.state,RECOMPUTE_ACTION)})),q=z.length-1,$.maxAge&&z.length>$.maxAge&&ke(z.length-$.maxAge),he=1/0}break;default:he=1/0}return Te=recomputeStates(Te,he,k,L,W,z,F,S,xe),te=c(te,U),{monitorState:te,actionsById:W,nextActionId:Q,stagedActionIds:z,skippedActionIds:F,committedState:L,currentStateIndex:q,computedStates:Te,isLocked:be,isPaused:xe}}}let DevtoolsDispatcher=(()=>{class ne extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ne.\u0275fac=function(){let G;return function(c){return(G||(G=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ne)))(c||ne)}}(),ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ne,G,S){this.config=G,this.dispatcher=S,this.devtoolsExtension=ne,this.createActionStreams()}notify(ne,G){if(this.devtoolsExtension)if(ne.type===PERFORM_ACTION){if(G.isLocked||G.isPaused)return;const S=unliftState(G);if(shouldFilterActions(this.config)&&isActionFiltered(S,ne,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const c=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,S,G.currentStateIndex):S,$=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ne,G.nextActionId):ne;this.sendToReduxDevtools(()=>this.extensionConnection.send($,c))}else{const S=Object.assign(Object.assign({},G),{stagedActionIds:G.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,G.actionsById):G.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,G.computedStates):G.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,S,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ne=>{const G=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=G,G.init(),G.subscribe(S=>ne.next(S)),G.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ne=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),G=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.START)),S=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.STOP)),c=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U=>this.unwrapAction(U.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(U=>U.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(te=>te.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>U),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(U)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(U))),k=ne.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(U=>U.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(U=>this.unwrapAction(U.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),ee=c.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S));this.start$=G.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(S)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>k)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ee))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ne){var G;const S={name:ne.name,features:ne.features,serialize:ne.serialize,autoPause:null!==(G=ne.autoPause)&&void 0!==G&&G};return!1!==ne.maxAge&&(S.maxAge=ne.maxAge),S}sendToReduxDevtools(ne){try{ne()}catch(G){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",G)}}}return DevtoolsExtension.\u0275fac=function ne(G){return new(G||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class ne{constructor(S,c,$,k,ee,U,te,W){const Q=liftInitialState(te,W.monitor),z=liftReducerWith(te,Q,U,W.monitor,W),F=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(c.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),k.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),S,k.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),L=$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(z)),q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Te=F.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(L),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:de},[he,je])=>{let Le=je(de,he);return he.type!==PERFORM_ACTION&&shouldFilterActions(W)&&(Le=filterLiftedState(Le,W.predicate,W.actionsSafelist,W.actionsBlocklist)),k.notify(he,Le),{state:Le,action:he}},{state:Q,action:null})).subscribe(({state:de,action:he})=>{q.next(de),he.type===PERFORM_ACTION&&ee.next(he.action)}),be=k.start$.subscribe(()=>{this.refresh()}),xe=q.asObservable(),ke=xe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=be,this.stateSubscription=Te,this.dispatcher=S,this.liftedState=xe,this.state=ke}dispatch(S){this.dispatcher.next(S)}next(S){this.dispatcher.next(S)}error(S){}complete(){}performAction(S){this.dispatch(new PerformAction(S,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(S){this.dispatch(new ToggleAction(S))}jumpToAction(S){this.dispatch(new JumpToAction(S))}jumpToState(S){this.dispatch(new JumpToState(S))}importState(S){this.dispatch(new ImportState(S))}lockChanges(S){this.dispatch(new LockChanges(S))}pauseRecording(S){this.dispatch(new PauseRecording(S))}}return ne.\u0275fac=function(S){return new(S||ne)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ne.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ne,factory:ne.\u0275fac}),ne})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ne,G){return Boolean(ne)||G.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ne="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[ne]?window[ne]:null}function createStateObservable(ne){return ne.state}let StoreDevtoolsModule=(()=>{class ne{static instrument(S={}){return{ngModule:ne,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:S},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return ne.\u0275fac=function(S){return new(S||ne)},ne.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ne}),ne.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ne})()},5620:(ne,G,S)=>{S.d(G,{UO:()=>qe,qg:()=>Se,Y6:()=>le,mK:()=>ht,n$:()=>ti,Y$:()=>Cr,FR:()=>En,yh:()=>$t,Aw:()=>zn,wb:()=>Pr,PH:()=>be,Lq:()=>Ui,on:()=>Nn,Ky:()=>xe});var c=S(5e3),$=S(1135),k=S(8306),ee=S(7579),U=S(233),te=S(4004),Q=S(5363),z=S(1365),F=S(5026),L=S(1884);const q={};function be(H,fe){if(q[H]=(q[H]||0)+1,"function"==typeof fe)return de(H,(...me)=>Object.assign(Object.assign({},fe(...me)),{type:H}));switch(fe?fe._as:"empty"){case"empty":return de(H,()=>({type:H}));case"props":return de(H,me=>Object.assign(Object.assign({},me),{type:H}));default:throw new Error("Unexpected config.")}}function xe(){return{_as:"props",_p:void 0}}function de(H,fe){return Object.defineProperty(fe,"type",{value:H,writable:!1})}const Se="@ngrx/store/init";let qe=(()=>{class H extends $.X{constructor(){super({type:Se})}next(re){if("function"==typeof re)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===re)throw new TypeError("Actions must be objects");if(void 0===re.type)throw new TypeError("Actions must have a type property");super.next(re)}complete(){}ngOnDestroy(){super.complete()}}return H.\u0275fac=function(re){return new(re||H)},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const Ze=[qe],ce=new c.OlP("@ngrx/store Internal Root Guard"),et=new c.OlP("@ngrx/store Internal Initial State"),le=new c.OlP("@ngrx/store Initial State"),ye=new c.OlP("@ngrx/store Reducer Factory"),ue=new c.OlP("@ngrx/store Internal Reducer Factory Provider"),Oe=new c.OlP("@ngrx/store Initial Reducers"),Ce=new c.OlP("@ngrx/store Internal Initial Reducers"),$e=new c.OlP("@ngrx/store Store Features"),Mt=new c.OlP("@ngrx/store Internal Store Reducers"),en=new c.OlP("@ngrx/store Internal Feature Reducers"),pn=new c.OlP("@ngrx/store Internal Feature Configs"),Je=new c.OlP("@ngrx/store Internal Store Features"),tn=new c.OlP("@ngrx/store Internal Feature Reducers Token"),ir=new c.OlP("@ngrx/store Feature Reducers"),Pn=new c.OlP("@ngrx/store User Provided Meta Reducers"),rn=new c.OlP("@ngrx/store Meta Reducers"),ei=new c.OlP("@ngrx/store Internal Resolved Meta Reducers"),on=new c.OlP("@ngrx/store User Runtime Checks Config"),nn=new c.OlP("@ngrx/store Internal User Runtime Checks Config"),$n=new c.OlP("@ngrx/store Internal Runtime Checks"),Rr=new c.OlP("@ngrx/store Check if Action types are unique");function Ii(H,fe={}){const re=Object.keys(H),me={};for(let He=0;He<re.length;He++){const xt=re[He];"function"==typeof H[xt]&&(me[xt]=H[xt])}const We=Object.keys(me);return function(xt,Xn){xt=void 0===xt?fe:xt;let _n=!1;const Ir={};for(let qt=0;qt<We.length;qt++){const yi=We[qt],Co=xt[yi],Wn=(0,me[yi])(Co,Xn);Ir[yi]=Wn,_n=_n||Wn!==Co}return _n?Ir:xt}}function gi(...H){return function(fe){if(0===H.length)return fe;const re=H[H.length-1];return H.slice(0,-1).reduceRight((We,He)=>He(We),re(fe))}}function wr(H,fe){return Array.isArray(fe)&&fe.length>0&&(H=gi.apply(null,[...fe,H])),(re,me)=>{const We=H(re);return(He,xt)=>We(He=void 0===He?me:He,xt)}}class ti extends k.y{}class ht extends qe{}const Pr="@ngrx/store/update-reducers";let Gn=(()=>{class H extends $.X{constructor(re,me,We,He){super(He(We,me)),this.dispatcher=re,this.initialState=me,this.reducers=We,this.reducerFactory=He}get currentReducers(){return this.reducers}addFeature(re){this.addFeatures([re])}addFeatures(re){const me=re.reduce((We,{reducers:He,reducerFactory:xt,metaReducers:Xn,initialState:_n,key:Ir})=>{const qt="function"==typeof He?function Li(H){const fe=Array.isArray(H)&&H.length>0?gi(...H):re=>re;return(re,me)=>(re=fe(re),(We,He)=>re(We=void 0===We?me:We,He))}(Xn)(He,_n):wr(xt,Xn)(He,_n);return We[Ir]=qt,We},{});this.addReducers(me)}removeFeature(re){this.removeFeatures([re])}removeFeatures(re){this.removeReducers(re.map(me=>me.key))}addReducer(re,me){this.addReducers({[re]:me})}addReducers(re){this.reducers=Object.assign(Object.assign({},this.reducers),re),this.updateReducers(Object.keys(re))}removeReducer(re){this.removeReducers([re])}removeReducers(re){re.forEach(me=>{this.reducers=function kr(H,fe){return Object.keys(H).filter(re=>re!==fe).reduce((re,me)=>Object.assign(re,{[me]:H[me]}),{})}(this.reducers,me)}),this.updateReducers(re)}updateReducers(re){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Pr,features:re})}ngOnDestroy(){this.complete()}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(ht),c.LFG(le),c.LFG(Oe),c.LFG(ye))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const sr=[Gn,{provide:ti,useExisting:Gn},{provide:ht,useExisting:qe}];let Cr=(()=>{class H extends ee.x{ngOnDestroy(){this.complete()}}return H.\u0275fac=function(){let fe;return function(me){return(fe||(fe=c.n5z(H)))(me||H)}}(),H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const vs=[Cr];class En extends k.y{}let or=(()=>{class H extends $.X{constructor(re,me,We,He){super(He);const Ir=re.pipe((0,Q.Q)(U.N)).pipe((0,z.M)(me)).pipe((0,F.R)(es,{state:He}));this.stateSubscription=Ir.subscribe(({state:qt,action:yi})=>{this.next(qt),We.next(yi)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return H.INIT=Se,H.\u0275fac=function(re){return new(re||H)(c.LFG(qe),c.LFG(ti),c.LFG(Cr),c.LFG(le))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();function es(H={state:void 0},[fe,re]){const{state:me}=H;return{state:re(me,fe),action:fe}}const bo=[or,{provide:En,useExisting:or}];let $t=(()=>{class H extends k.y{constructor(re,me,We){super(),this.actionsObserver=me,this.reducerManager=We,this.source=re}select(re,...me){return St.call(null,re,...me)(this)}lift(re){const me=new H(this,this.actionsObserver,this.reducerManager);return me.operator=re,me}dispatch(re){this.actionsObserver.next(re)}next(re){this.actionsObserver.next(re)}error(re){this.actionsObserver.error(re)}complete(){this.actionsObserver.complete()}addReducer(re,me){this.reducerManager.addReducer(re,me)}removeReducer(re){this.reducerManager.removeReducer(re)}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(En),c.LFG(qe),c.LFG(Gn))},H.\u0275prov=c.Yz7({token:H,factory:H.\u0275fac}),H})();const ct=[$t];function St(H,fe,...re){return function(We){let He;if("string"==typeof H){const xt=[fe,...re].filter(Boolean);He=We.pipe(function W(...H){const fe=H.length;if(0===fe)throw new Error("list of properties cannot be empty.");return(0,te.U)(re=>{let me=re;for(let We=0;We<fe;We++){const He=null==me?void 0:me[H[We]];if(void 0===He)return;me=He}return me})}(H,...xt))}else{if("function"!=typeof H)throw new TypeError(`Unexpected type '${typeof H}' in select operator, expected 'string' or 'function'`);He=We.pipe((0,te.U)(xt=>H(xt,fe)))}return He.pipe((0,L.x)())}}const ar="https://ngrx.io/guide/store/configuration/runtime-checks";function mi(H){return void 0===H}function Zt(H){return null===H}function ts(H){return Array.isArray(H)}function vr(H){return"object"==typeof H&&null!==H}function Re(H){return"function"==typeof H}function Qn(H){Object.freeze(H);const fe=Re(H);return Object.getOwnPropertyNames(H).forEach(re=>{if(!re.startsWith("\u0275")&&function yt(H,fe){return Object.prototype.hasOwnProperty.call(H,fe)}(H,re)&&(!fe||"caller"!==re&&"callee"!==re&&"arguments"!==re)){const me=H[re];(vr(me)||Re(me))&&!Object.isFrozen(me)&&Qn(me)}}),H}function js(H,fe=[]){return(mi(H)||Zt(H))&&0===fe.length?{path:["root"],value:H}:Object.keys(H).reduce((me,We)=>{if(me)return me;const He=H[We];return function st(H){return Re(H)&&H.hasOwnProperty("\u0275cmp")}(He)?me:!(mi(He)||Zt(He)||function _t(H){return"number"==typeof H}(He)||function yr(H){return"boolean"==typeof H}(He)||function Dr(H){return"string"==typeof H}(He)||ts(He))&&(function nt(H){if(!function Gt(H){return vr(H)&&!ts(H)}(H))return!1;const fe=Object.getPrototypeOf(H);return fe===Object.prototype||null===fe}(He)?js(He,[...fe,We]):{path:[...fe,We],value:He})},!1)}function Hs(H,fe){if(!1===H)return;const re=H.path.join("."),me=new Error(`Detected unserializable ${fe} at "${re}". ${ar}#strict${fe}serializability`);throw me.value=H.value,me.unserializablePath=re,me}function lr(H){return(0,c.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},H):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Eo({strictActionSerializability:H,strictStateSerializability:fe}){return re=>H||fe?function bs(H,fe){return function(re,me){fe.action(me)&&Hs(js(me),"action");const We=H(re,me);return fe.state()&&Hs(js(We),"state"),We}}(re,{action:me=>H&&!Be(me),state:()=>fe}):re}function ni({strictActionImmutability:H,strictStateImmutability:fe}){return re=>H||fe?function wn(H,fe){return function(re,me){const We=fe.action(me)?Qn(me):me,He=H(re,We);return fe.state()?Qn(He):He}}(re,{action:me=>H&&!Be(me),state:()=>fe}):re}function Be(H){return H.type.startsWith("@ngrx")}function jt({strictActionWithinNgZone:H}){return fe=>H?function Vi(H,fe){return function(re,me){if(fe.action(me)&&!c.R0b.isInAngularZone())throw new Error(`Action '${me.type}' running outside NgZone. ${ar}#strictactionwithinngzone`);return H(re,me)}}(fe,{action:re=>H&&!Be(re)}):fe}function Cn(H){return[{provide:nn,useValue:H},{provide:on,useFactory:ns,deps:[nn]},{provide:$n,deps:[on],useFactory:lr},{provide:rn,multi:!0,deps:[$n],useFactory:ni},{provide:rn,multi:!0,deps:[$n],useFactory:Eo},{provide:rn,multi:!0,deps:[$n],useFactory:jt}]}function dr(){return[{provide:Rr,multi:!0,deps:[$n],useFactory:Jn}]}function ns(H){return H}function Jn(H){if(!H.strictActionTypeUniqueness)return;const fe=Object.entries(q).filter(([,re])=>re>1).map(([re])=>re);if(fe.length)throw new Error(`Action types are registered more than once, ${fe.map(re=>`"${re}"`).join(", ")}. ${ar}#strictactiontypeuniqueness`)}let _i=(()=>{class H{constructor(re,me,We,He,xt,Xn){}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(qe),c.LFG(ti),c.LFG(Cr),c.LFG($t),c.LFG(ce,8),c.LFG(Rr,8))},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})(),mn=(()=>{class H{constructor(re,me,We,He,xt){this.features=re,this.featureReducers=me,this.reducerManager=We;const Xn=re.map((_n,Ir)=>{const yi=me.shift()[Ir];return Object.assign(Object.assign({},_n),{reducers:yi,initialState:Bi(_n.initialState)})});We.addFeatures(Xn)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return H.\u0275fac=function(re){return new(re||H)(c.LFG(Je),c.LFG(ir),c.LFG(Gn),c.LFG(_i),c.LFG(Rr,8))},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})(),zn=(()=>{class H{static forRoot(re,me={}){return{ngModule:_i,providers:[{provide:ce,useFactory:is,deps:[[$t,new c.FiY,new c.tp0]]},{provide:et,useValue:me.initialState},{provide:le,useFactory:Bi,deps:[et]},{provide:Ce,useValue:re},{provide:Mt,useExisting:re instanceof c.OlP?re:Ce},{provide:Oe,deps:[c.zs3,Ce,[new c.tBr(Mt)]],useFactory:rs},{provide:Pn,useValue:me.metaReducers?me.metaReducers:[]},{provide:ei,deps:[rn,Pn],useFactory:wo},{provide:ue,useValue:me.reducerFactory?me.reducerFactory:Ii},{provide:ye,deps:[ue,ei],useFactory:wr},Ze,sr,vs,bo,ct,Cn(me.runtimeChecks),dr()]}}static forFeature(re,me,We={}){return{ngModule:mn,providers:[{provide:pn,multi:!0,useValue:re instanceof Object?{}:We},{provide:$e,multi:!0,useValue:{key:re instanceof Object?re.name:re,reducerFactory:We instanceof c.OlP||!We.reducerFactory?Ii:We.reducerFactory,metaReducers:We instanceof c.OlP||!We.metaReducers?[]:We.metaReducers,initialState:We instanceof c.OlP||!We.initialState?void 0:We.initialState}},{provide:Je,deps:[c.zs3,pn,$e],useFactory:Lt},{provide:en,multi:!0,useValue:re instanceof Object?re.reducer:me},{provide:tn,multi:!0,useExisting:me instanceof c.OlP?me:en},{provide:ir,multi:!0,deps:[c.zs3,en,[new c.tBr(tn)]],useFactory:$s},dr()]}}}return H.\u0275fac=function(re){return new(re||H)},H.\u0275mod=c.oAB({type:H}),H.\u0275inj=c.cJS({}),H})();function rs(H,fe){return fe instanceof c.OlP?H.get(fe):fe}function Lt(H,fe,re){return re.map((me,We)=>{if(fe[We]instanceof c.OlP){const He=H.get(fe[We]);return{key:me.key,reducerFactory:He.reducerFactory?He.reducerFactory:Ii,metaReducers:He.metaReducers?He.metaReducers:[],initialState:He.initialState}}return me})}function $s(H,fe){return fe.map(me=>me instanceof c.OlP?H.get(me):me)}function Bi(H){return"function"==typeof H?H():H}function wo(H,fe){return H.concat(fe)}function is(H){if(H)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Nn(...H){return{reducer:H.pop(),types:H.map(me=>me.type)}}function Ui(H,...fe){const re=new Map;for(const me of fe)for(const We of me.types){const He=re.get(We);re.set(We,He?(Xn,_n)=>me.reducer(He(Xn,_n),_n):me.reducer)}return function(me=H,We){const He=re.get(We.type);return He?He(me,We):me}}},5861:(ne,G,S)=>{function c(k,ee,U,te,W,Q,z){try{var F=k[Q](z),L=F.value}catch(q){return void U(q)}F.done?ee(L):Promise.resolve(L).then(te,W)}function $(k){return function(){var ee=this,U=arguments;return new Promise(function(te,W){var Q=k.apply(ee,U);function z(L){c(Q,te,W,z,F,"next",L)}function F(L){c(Q,te,W,z,F,"throw",L)}z(void 0)})}}S.d(G,{Z:()=>$})}},ne=>{ne(ne.s=75)}]);